<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Default.HideFromAllOutput">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Microsoft Entra ID with <MadCap:variable name="Product-Names.cloud_product_titlecase"/></h1>
    <p>You can integrate your organization’s Microsoft Entra ID with <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"><MadCap:variable name="Product-Names.cloud_product_long"/></MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="SAP.SapOnlyOutput"><MadCap:variable name="Product-Names.cloud_product_firstuse"/></MadCap:conditionalText>  to enable single sign-on (SSO) and multi-factor authentication (MFA) for your enterprise accounts.</p>
    <p>After you have configured Microsoft Entra ID, your organization will receive a customized URL to log in to <MadCap:variable name="Product-Names.cloud_product_short"/>. If your users have already signed in to their Microsoft Entra ID account, they will automatically be signed in to <MadCap:variable name="Product-Names.cloud_product_short"/>. Otherwise, they will be directed to your organization's AD sign-in page to enter their details. Your organization's AD settings determine whether multi-factor authentication (MFA) is used.</p>
    <p>If a user belongs to multiple <MadCap:variable name="Product-Names.cloud_product_short"/> accounts that are associated with your organization's AD, they can switch between those accounts without logging in to the accounts separately.</p>
    <h2 class="with-rule"><a name="Configur"/>Configuring <MadCap:variable name="Product-Names.cloud_product_short"/> with Microsoft Entra ID</h2>
    <p>To integrate Microsoft Entra ID with <MadCap:variable name="Product-Names.cloud_product_short"/>, perform the following steps:</p>
    <ol>
      <li><MadCap:xref href="selfserve-cloud-sso.htm#Get">Request a Preferred Subdomain</MadCap:xref>—PubSub+ Cloud team will create one for you</li>
      <li>
        <MadCap:xref href="#register-as-app">Register <MadCap:variable name="Product-Names.cloud_product_short"/> as an Microsoft Entra ID Application</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="selfserve-cloud-sso.htm#Configur">Configure, Test, and Enable SSO</MadCap:xref>
      </li>
    </ol>
    <h3><a name="register-as-app"/>Register <MadCap:variable name="Product-Names.cloud_product_short"/> as an Microsoft Entra ID Application</h3>
    <p>When you set up an Application Registration for <MadCap:variable name="Product-Names.cloud_product_short"/> in your Microsoft Entra ID account, Azure generates a Client ID and a Client Secret that you use to bind your <MadCap:variable name="Product-Names.cloud_product_short"/> account to your Microsoft Entra ID account. This allows your organization's <MadCap:variable name="Product-Names.cloud_product_short"/> users to be authenticated by Microsoft Entra ID.</p>
    <p>To register <MadCap:variable name="Product-Names.cloud_product_short"/> as an application in Microsoft Entra ID:</p>
    <ol>
      <li>In the Azure Portal, in the left-hand navigation pane, select <strong>Microsoft Entra ID</strong>. <p>The Microsoft Entra ID page opens.</p><p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/azure-ad-active-directory-page.png" style="max-width: 60%; border-left-style: solid;border-left-width: 1px;border-left-color: ;border-right-style: solid;border-right-width: 1px;border-right-color: ;border-top-style: solid;border-top-width: 1px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: ;" alt=""/></div></p></li>
      <li>Select <strong>Application Registration</strong> from the left-hand menu, then click <strong>New Registration</strong>.
				<p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/azure-ad-app-registration.png" style="max-width: 60%; border-left-style: solid;border-left-width: 1px;border-left-color: ;border-right-style: solid;border-right-width: 1px;border-right-color: ;border-top-style: solid;border-top-width: 1px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: ;" alt=""/></div></p><p>The <b>Register an application</b> page opens.</p></li>
      <li>In the <b>Name</b> field, enter <code class="File_or_Parameter_Name"><MadCap:variable name="Product-Names.cloud_product_short"/></code> (or a user-facing name that adheres to what is shown to the user). Under <b>Supported account types</b>, select  <strong>Accounts in this organizational directory only</strong>.In the <b>Redirect URI (Optional)</b> field, enter subdomain (<code>https://&lt;subdomain&gt;.<MadCap:variable name="Manifest-Products-Links.CloudDomainOnly"/>/sso/login</code>) provided by <MadCap:variable name="Product-Names.cloud_product_short"/> team (see, <MadCap:xref href="selfserve-cloud-sso.htm#Get">Request a Preferred Subdomain</MadCap:xref>).<p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/azure-ad-register-an-app.png" style="max-width: 60%; border-left-style: solid;border-left-width: 1px;border-left-color: ;border-right-style: solid;border-right-width: 1px;border-right-color: ;border-top-style: solid;border-top-width: 1px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: ;" alt=""/></div></p></li>
      <li>Click <strong>Register</strong> at the bottom of the screen.
				<p>The application registration is created in your Microsoft Entra ID and the <b>Application Overview</b> page is displayed, showing the <strong>Application (client) ID</strong> and the <strong>Directory (tenant) ID</strong> values.  Make a note of these values because the <MadCap:variable name="Variables.CompanyName"/> Production Engineering team will need them to complete the configuration.</p><p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/azure-ad-application-overview.png" style="max-width: 60%; border-left-style: solid;border-left-width: 1px;border-left-color: ;border-right-style: solid;border-right-width: 1px;border-right-color: ;border-top-style: solid;border-top-width: 1px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: ;" alt=""/></div></p></li>
      <li>In the left-hand menu, click <strong>Certificates &amp; secrets</strong>.  </li>
      <li>Create a Client Secret  by clicking <b>New client secret</b>.  The <b>Add a client secret</b> dialog is displayed.<p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/azure-ad-add-client-secret.png" style="max-width: 60%; border-left-style: solid;border-left-width: 1px;border-left-color: ;border-right-style: solid;border-right-width: 1px;border-right-color: ;border-top-style: solid;border-top-width: 1px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: ;" alt=""/></div></p></li>
      <li>In the <b>Add a client secret</b> dialog, enter a description for the <MadCap:variable name="Product-Names.cloud_product_short"/> secret, then select an expiry period.  Note that if you don't pick <strong>Never</strong>, you will need to update the secret key  periodically.    </li>
      <li>Click <b>Add</b>. </li>
      <li>
        <p>Make a note of the following information, which you will need when configuring your SSO in <MadCap:variable name="Product-Names.cloud_product_short"/>:</p>
      </li>
      <ul>
        <li>Client ID</li>
        <li>Client Secret</li>
        <li>Discovery URL
							</li>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" style="max-width:65%;" src="../Resources/Images/Cloud/azure-oidc-discovery-url.png" alt=""/>
          </div>
        </p>
      </ul>
    </ol>
  </body>
</html>
