<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Enabling the <MadCap:variable name="Product-Names.solace_cli"/> for <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s in <MadCap:variable name="Product-Names.cloud_product_titlecase"/></h1>
    <p>Although <MadCap:variable name="Variables.CompanyName"/> recommends performing <MadCap:variable name="Product-Names.broker_cloud_short"/> configuration using <MadCap:variable name="Product-Names.pubsubmanager_short"/>, you can alternatively use the <MadCap:variable name="Product-Names.solace_cli"/> (command-line interface) to configure and manage <MadCap:variable name="Product-Names.broker_cloud_short"/>s if they are running in Kubernetes. If you are already familiar with the <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"><MadCap:variable name="Variables.CompanyName"/><MadCap:xref href="../Admin-Ref/CLI-Reference/VMR_CLI_Commands.html">Software Event Broker CLI Commands</MadCap:xref></MadCap:conditionalText> <a href="https://docs.solace.com/Admin-Ref/CLI-Reference/VMR_CLI_Commands.html" target="_blank" class="link-internal" MadCap:conditions="SAP.SapOnlyOutput">Software Event Broker CLI Commands</a>, you may find it faster, more precise, and more efficient to use CLI commands. Access to the CLI is performed via SSH, ensuring secure access.</p>
    <p>CLI access in <MadCap:variable name="Product-Names.cloud_product_short"/> has these limitations:</p>
    <ul>
      <li>CLI access is scoped to the message VPN with permissions limited to the options available in <MadCap:variable name="Product-Names.pubsubmanager_long"/>.</li>
      <li>System-level and system-wide CLI commands aren't available. </li>
      <li>You can't use CLI to access the VM image or host OS.</li>
    </ul>
    <p> Enabling CLI comes with some security issues you may want to consider. Due to the elevated privileges inherent with CLI, <MadCap:variable name="Variables.CompanyName"/> recommends keeping the CLI port for public internet endpoints disabled. <MadCap:variable name="Variables.CompanyName"/> also recommends that if you consider it necessary to manage your <MadCap:variable name="Product-Names.broker_cloud_short"/> via public internet, that you do so using SEMP. For more information, see <MadCap:xref href="../Admin/SEMP/Using-SEMP.htm" MadCap:conditions="SAP.SapHideFromOutput">SEMP</MadCap:xref> <a href="https://docs.solace.com/Admin/SEMP/Using-SEMP.htm" target="_blank" class="link-offsite" MadCap:conditions="SAP.SapOnlyOutput">SEMP</a>. Furthermore, <MadCap:variable name="Variables.CompanyName"/> also recommends leaving CLI access disabled in customer-controlled environments for public endpoints or those that have public connectivity. </p>
    <p>If you want to temporarily enable CLI access (especially for public endpoints), we recommend you use these steps:</p>
    <ol>
      <li>
        <p>
          <MadCap:xref href="#Enabling">Enabling CLI Access for an [%=Product-Names.broker_cloud_short_title%]</MadCap:xref>
        </p>
      </li>
      <li>
        <p>
          <MadCap:xref href="#Accessin">Accessing the CLI for [%=Product-Names.broker_cloud_short_title%]s</MadCap:xref>
        </p>
      </li>
      <li>
        <p>
          <MadCap:xref href="#Disablin">Disabling CLI Access for an [%=Product-Names.broker_cloud_short_title%]</MadCap:xref>
        </p>
      </li>
    </ol>
    <h2><a name="Enabling"/>Enabling CLI Access for an <MadCap:variable name="Product-Names.broker_cloud_short_title"/></h2>
    <div class="Note">
      <p><MadCap:variable name="Variables.CompanyName"/> recommends keeping CLI access for public internet endpoints disabled</p>
    </div>
    <p>You can enable CLI access for both private and public endpoints. To enable access on a specific <MadCap:variable name="Product-Names.broker_cloud_short"/>, follow these steps:</p>
    <ol>
      <li>In the <MadCap:variable name="Product-Names.console_ui_long"/>, select <b>Cluster Manager </b><img src="../Resources/Images/Cloud/reusable-icons/navbar_cluster_manager.png" class="img.img-inline" alt=""/> from the navigation bar and then select your service.</li>
      <li>Click <b>Manage</b> then <b>Advanced Options.</b></li>
      <p>
        <div class="thumbnail-container">
          <img src="../Resources/Images/Cloud/cliaccess_advancedoptions.png" alt="" class="solacethumbnail"/>
        </div>
      </p>
      <li>
        <p>On the <b>Port Configuration</b> pane, click the <img src="../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=""/> icon in the <b>Manage</b> column for the endpoints for which you want to enable CLI access and then select <b>Edit</b>.</p>
      </li>
      <li>
        <p>On the Edit Endpoint dialog box, expand the <b>Management</b> section beneath <b>Protocols and Management</b>, and then select the check box for <b>Enable Secured CLI Host (SSH), use port</b>. The default port is 22, but you can set a different port as required. </p>
      </li>
      <p>
        <img src="../Resources/Images/Cloud/cliaccess_enableclihost.png" alt="" class="img-border"/>
      </p>
      <li>Click <b>Save</b></li>
    </ol>
    <div class="Note">
      <p>After you are done running commands, <MadCap:variable name="Variables.CompanyName"/> recommends that you disable CLI access. For more information, see <MadCap:xref href="#Disablin">Disabling CLI Access for an [%=Product-Names.broker_cloud_short_title%]</MadCap:xref>.</p>
    </div>
    <h2><a name="Accessin"/>Accessing the CLI for <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s</h2>
    <p>After the port is enabled to allow SSH connections, as described in <MadCap:xref href="#Enabling">Enabling CLI Access for an [%=Product-Names.broker_cloud_short_title%]</MadCap:xref>, you can connect using an SSH client like <a href="https://putty.org/" class="link-offsite">PuTTY</a>. To log in, you require the necessary credentials including the hostname for your service, username, and password for the <MadCap:variable name="Product-Names.broker_cloud_short"/>.</p>
    <ol>
      <li>In the <MadCap:variable name="Product-Names.console_ui_long"/>, select <b>Cluster Manager</b> from the navigation bar and then select your service.</li>
      <li>On the Status screen, under <b>DMR Cluster, </b>copy<b> </b>the<b> Hostname</b>.</li>
      <li>Under <b>Management Access</b>, hover over <b>More Info</b> <img src="../Resources/Images/Cloud/reusable-icons/help-info.png" class="img.img-inline" alt=""/> and copy the following credentials:</li>
      <ul>
        <li>
          <b>Management Editor Username</b>
        </li>
        <li>
          <b>Management Editor Password</b>
        </li>
      </ul>
      <p>
        <div class="thumbnail-container">
          <img src="../Resources/Images/Cloud/cliaccess_credentials.png" alt="" class="solacethumbnail"/>
        </div>
      </p>
      <li>Using a terminal like <a href="https://putty.org/" title="PuTTY.org" class="link-offsite">PuTTY</a>, enter the hostname and the port number, as defined when you <a href="#Enabling" class="link-internal">enabled Secure CLI Host Access</a> for the <MadCap:variable name="Product-Names.broker_cloud_short"/> that you want to connect to via SSH.</li>
      <p>
        <img src="../Resources/Images/Cloud/cliaccess_puttyConnect.png" alt="" class="img-border"/>
      </p>
      <li>Once the connection is established, enter the management username and password to complete the login to the CLI.</li>
      <p>
        <img src="../Resources/Images/Cloud/cliaccess_loggedin.png" alt="" class="img-border"/>
      </p>
    </ol>
    <p>After you are done running your commands, <MadCap:variable name="Variables.CompanyName"/> recommends that you disable CLI access. For more information, see <MadCap:xref href="#Disablin">Disabling CLI Access for an [%=Product-Names.broker_cloud_short_title%]</MadCap:xref>.</p>
    <h2><a name="Disablin"/>Disabling CLI Access for an <MadCap:variable name="Product-Names.broker_cloud_short_title"/></h2>
    <ol>
      <li>In the <MadCap:variable name="Product-Names.console_ui_long"/>, select <b>Cluster Manager </b><img src="../Resources/Images/Cloud/reusable-icons/navbar_cluster_manager.png" class="img.img-inline" alt=""/> from the navigation bar and then select your service.</li>
      <li>Click <b>Manage</b> then <b>Advanced Options.</b></li>
      <p>
        <div class="thumbnail-container">
          <img src="../Resources/Images/Cloud/cliaccess_advancedoptions.png" alt="" class="solacethumbnail"/>
        </div>
      </p>
      <li>
        <p>On the <b>Port Configuration</b> pane, click the <img src="../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=""/> icon in the Manage column for the endpoints for which you want to enable CLI access and then select <b>Edit</b>.</p>
      </li>
      <li>
        <p>On the Edit Endpoint dialog box expand the <b>Management</b> section beneath <b>Protocols and Management</b>, and then deselect the check box for <b>Enable Secured CLI Host (SSH), use port</b>. </p>
      </li>
      <p>
        <img src="../Resources/Images/Cloud/cliaccess_disableCLIaccess.png" alt="" class="img-border"/>
      </p>
      <li>Click <b>Save.</b></li>
    </ol>
  </body>
</html>
