<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Default.OnlyForPDF">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Performing Replication Failovers of <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s</h1>
    <p> If you have replication configured, you can perform a failover if you need to:</p>
    <ul>
      <li>practice and verify your failover process</li>
      <li>recover messaging service in the rare case where your <MadCap:variable name="Product-Names.broker_cloud_short"/>s experience a severe outage (for example, due to a networking error or power outage that affects a cloud region or datacenter)</li>
    </ul>
    <p>A failover consists of transferring (or switching)  the replication-active state of the Message VPN on the failed <MadCap:variable name="Product-Names.broker_cloud_short"/> to its replication mate on the Standby site and also switching the custom hostname. Service is restored when the client applications  connect to the newly Active site. </p>
    <p>
      <img src="../../Resources/Images/Cloud-DR-Replication/cloud-dr-before.png" alt="Diagram that illustrates client applications connected to the Primary site. The Primary site currently has the replication-active status."/>
    </p>
    <p>Prior to failover, client applications connect to the Primary site using the custom hostname as shown in the following diagram:</p>
    <p>After a failover, client applications connect to the Backup site after replication-state and custom hostname has  changed to the <MadCap:variable name="Product-Names.broker_cloud_short"/>.</p>
    <p>
      <img src="../../Resources/Images/Cloud-DR-Replication/cloud-dr-after.png" alt="Diagram that illustrates client applications connected to the Backup site. The Backup site now has the replication-active status and is assigned the custom hostname, which permits client applications to connect to the Active site."/>
    </p>
    <p>
      <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">The failover procedure is similar to other <MadCap:variable name="Product-Names.pubsub_brand_only"/> products, but has the additional step where you must move the custom hostname (or alternate hostname) from the previously replication-active <MadCap:variable name="Product-Names.broker_cloud_short"/> to the <MadCap:variable name="Product-Names.broker_cloud_short"/> at the newly Active site (that is, the replication mate of the failed site).</MadCap:conditionalText>
    </p>
    <MadCap:snippetBlock src="../../Resources/Snippets/Features/DR-Replication/switching-replication-service.flsnp"/>
    <p>For the detailed procedures for performing failovers, see the following:</p>
    <ul>
      <li>
        <MadCap:xref href="cloud-dr-controlled-fail-over.htm">Performing a Controlled Failover in [%=Product-Names.cloud_product_titlecase%]</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="cloud-dr-uncontrolled-fail-over.htm">Recovering from an Uncontrolled Failover in [%=Product-Names.cloud_product_titlecase%]</MadCap:xref>
      </li>
    </ul>
  </body>
</html>
