<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="SAP.SapHideFromOutput">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Enabling Single Sign-On for <MadCap:variable name="Product-Names.cloud_product_titlecase"/></h1>
    <p>If your organization uses an OIDC-based identity provider such as Okta, Auth0, PingIdentity, or Microsoft Entra ID, you can configure <a href="cloud-sso.htm" class="link-internal">single sign-on</a> (SSO) to the <MadCap:variable name="Product-Names.cloud_product_long"/> Console. After you enable SSO, you can also choose to set up dynamic user group assignment and SSO for <MadCap:variable name="Product-Names.broker_cloud_short"/> management.</p>
    <p>To set up SSO, you must have Administrator access to your organization's <MadCap:variable name="Product-Names.cloud_product_short"/> account and the ability to create applications with your identity provider.</p>
    <p>To configure SSO for your <MadCap:variable name="Product-Names.cloud_product_short"/> account, you perform these tasks:</p>
    <ul>
      <li><a href="#Get" class="link-internal">Request a subdomain from Solace</a>.
            </li>
      <li>Create an application with your OIDC-based identity provider. See <MadCap:xref href="setup-claims-with-your-idp.htm">Configuring an OpenID Connect Identity Provider</MadCap:xref>.</li>
      <li><a href="#Configur" class="link-internal">Enable SSO</a>.
            </li>
      <li>Optionally, configure group management to dynamically add users to groups with assigned roles based on the user claims received from the identity provider (IdP). See <MadCap:xref href="cloud-group-management.htm">Configuring Group Management</MadCap:xref>.</li>
      <li>Optionally, configure SSO for <MadCap:variable name="Product-Names.broker_cloud_short"/>s. See <MadCap:xref href="configure-oauth-for-broker-services.htm">Configuring Single Sign-On for [%=Product-Names.broker_cloud_short_title%]s</MadCap:xref>.</li>
    </ul>
    <h2 class="with-rule"><a name="Get"/>Requesting a Subdomain</h2>
    <p>To set up SSO,  you require a subdomain for your <MadCap:variable name="Product-Names.cloud_product_short"/> account. Your identity provider uses the subdomain to accept authentication requests.</p>
    <p>If your company has more than one <MadCap:variable name="Product-Names.cloud_product_short"/> account and you use the same identity provider for the accounts, you can also use the same subdomain for each account. When you use the same subdomain for more than one account, you designate one of the accounts as the primary account for configuring your SSO settings.</p>
    <p>When you use the same subdomain for two or more accounts, role-based access is still managed separately for each account, but users can switch between the accounts that they have access to without logging in again from the Navigation bar in the <MadCap:variable name="Product-Names.console_ui_short"/>.</p>
    <p>To request a subdomain from <MadCap:variable name="Variables.CompanyName"/>, perform these steps:</p>
    <ol>
      <li><MadCap:snippetText src="../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/><![CDATA[
               ]]></li>
      <li>On the navigation bar, click <b>User &amp; Account</b><img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>Select the <b>Account Settings</b> tab. </li>
      <li>Click <b>Set Up SSO</b>.
            	<p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/self-serve-sso1.png" alt="Screenshot showing the options described in the surrounding steps."/></div></p></li>
      <li>Enter the subdomain name you want to request in the <b>Preferred subdomain</b> field and add any additional comments.
If you want to use a subdomain that you're already using in another <MadCap:variable name="Product-Names.cloud_product_short"/> account, enter your existing subdomain.
				<p><img class="img-border" src="../Resources/Images/Cloud/self-serve-sso2.png" alt="Screenshot showing the options described in the surrounding steps."/></p></li>
      <li>Click <b>Send Request</b>.</li>
    </ol>
    <h3><a name="Configur"/>Enabling SSO</h3>
    <p> After Solace completes your subdomain request, additional SSO configuration options appear in your account details. If you have used the same subdomain for more than one account, the settings appear only in the account that you designated as the primary account when you requested the subdomain.</p>
    <p>You need the following information from your identity provider to configure your SSO settings:</p>
    <ul>
      <li>Client ID</li>
      <li>Client Secret</li>
      <li>OIDC Discovery URL</li>
      <li>If you are setting up group management, the claim values that you can map to specific user groups and any additional scopes that <MadCap:variable name="Product-Names.cloud_product_short"/> should request from the IdP</li>
    </ul>
    <p>By default, <MadCap:variable name="Product-Names.cloud_product_short"/> requests the "openid" and "email" scopes from the IdP. You can configure many IdPs to automatically include additional claims in the identity token that you can use for group management. However, for certain configurations, <MadCap:variable name="Product-Names.cloud_product_short"/> may need to explicitly request additional information (scopes). In these cases, you can specify the additional scopes in your SSO configuration.</p>
    <p> For more information about configuring your identity provider, see <MadCap:xref href="setup-claims-with-your-idp.htm">Configuring an OpenID Connect Identity Provider </MadCap:xref>.</p>
    <p>To enable SSO for your <MadCap:variable name="Product-Names.cloud_product_short"/> account, perform these steps:</p>
    <ol>
      <li>On the <b>Account Settings</b> tab, click <b>Configure Settings</b>.</li>
      <li>Enter the <b>Client ID</b>, <b>Client Secret</b>, and <b>OIDC Discovery URL</b> for the identity provider.<p><img class="img-border" src="../Resources/Images/Cloud/self-serve-sso4.png" alt="Screenshot showing the settings described in the surrounding steps."/></p></li>
      <li>If necessary for your implementation, enter any <b>Additional Scope(s)</b> that you need to receive user claims for.
For example, if you intend to configure role mapping you may
need to receive claims for the Groups scope. </li>
      <li>Click <b>Save Settings</b>.            	
			<p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/self-serve-sso5.png" alt=""/></div></p></li>
      <li>(Optional) To test your SSO configuration, click <b>Test Configuration</b>. The test opens a new window and redirects you to your SSO provider.</li>
      <li>Click <b>Enable SSO</b> to turn on SSO for the account.</li>
    </ol>
    <p>After you enable SSO, you can update your SSO configuration as necessary. To delete your SSO setup or temporarily disable it,  <a href="../get-support.htm" class="link-internal">contact <MadCap:variable name="Variables.CompanyName"/></a>.</p>
  </body>
</html>
