<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Modifying an Event Mesh</h1>
    <p>You can modify an existing event mesh. To do so, you require the <MadCap:variable name="Product-Names.cm_editor"/> role assigned to your user account.   For more information about the role requirements, see <MadCap:xref href="about_event_meshes.htm#considerations-working-with-event-meshes">Considerations for Working with Event Meshes in [%=Product-Names.cloud_product_short%]</MadCap:xref>.</p>
    <p>You can perform any of the following tasks to modify an existing event mesh:</p>
    <ul>
      <li><a href="#modify-add-service" class="link-internal">add an additional service</a> to the event mesh.</li>
      <li><a href="#modify-change-initiator" class="link-internal">change the link initiator</a> for each node (or <MadCap:variable name="Product-Names.broker_cloud_short"/>)</li>
      <li><a href="#modify-delete-service" class="link-internal">remove a service</a> from the event mesh</li>
      <li><a href="#change-mesh-name" class="link-internal">change the name</a> of an event mesh</li>
    </ul>
    <p>As part of the changes you make, the event mesh is validated to ensure that it's healthy.</p>
    <p>Before you modify an event mesh, we recommend that you review the considerations when you work with  event meshes. For this information, see <MadCap:xref href="about_event_meshes.htm#considerations-working-with-event-meshes">Considerations for Working with Event Meshes</MadCap:xref>.</p>
    <h2><a name="modify-add-service"/>Adding an <MadCap:variable name="Product-Names.broker_cloud_short_title"/> to an Existing Event Mesh</h2>
    <p>You can add an existing <MadCap:variable name="Product-Names.broker_cloud_short"/> to an event mesh. After you specify the <MadCap:variable name="Product-Names.broker_cloud_short"/> to add, the event mesh is re-created. This means that events/data no longer travel across the event mesh temporarily while the mesh is re-established, however the existing <MadCap:variable name="Product-Names.broker_cloud_short"/>s remain running with no service impact. </p>
    <p>To add an <MadCap:variable name="Product-Names.broker_cloud_short"/>s to an existing mesh, follow these steps:</p>
    <ol>
      <li>
        <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/>
      </li>
      <li>Select <MadCap:variable name="Product-Names.mesh_manager" style="font-weight: bold;"/> <img src="../../Resources/Images/Cloud/reusable-icons/navbar_mesh_manager.png" class="img-img-inline" alt=""/> from the navigation bar.</li>
      <li>
        <p>On the <b>Event Meshes</b> page, on the card of the event mesh for which you want to add another <MadCap:variable name="Product-Names.broker_cloud_short"/>, click  <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" style="width: 0px;height: 0px;" alt=""/>, and then select <b>Edit</b>.</p>
      </li>
      <li>
        <p>On the <b>Edit Mesh</b> page, click <b>Add Service</b>.</p>
      </li>
      <li>
        <p>On the <b>Add Service: Full Mesh</b> dialog, select the service to add to the event mesh using one of the following methods:</p>
        <ul>
          <li>Enter the first few letters of the name of your service that you want to add to the mesh in the <b>Select services to add to a full mesh topology</b> field to filter the list, when you see your service appear, select your service, and click <b>Add Service</b>.</li>
          <li>
            <p>Click in the <b>Select services to add to a full mesh topology</b> and then scroll and select  the name of your service in the drop-down menu, and click <b>Add Service</b>. Note that the list can be long and for that reason, we recommend using the previous method to find the name of your <MadCap:variable name="Product-Names.broker_cloud_short"/>.</p>
          </li>
          <li>
            <p>For <MadCap:variable name="Product-Names.broker_cloud_short"/>s that are Kubernetes-based, a list under the <b>Remote Service Endpoint</b> column that shows the endpoints that you can choose. Connectivity between your private endpoints is your responsibility (or your organization's) if the services are deployed in a <MadCap:variable name="Product-Names.customer-controlled_region"/>s.</p>
          </li>
        </ul>
        <p>Optionally, you can click the <b>Switch Initiator</b><img src="../../Resources/Images/Cloud/reusable-icons/switch_initiator.png" style="width: 31px;height: 32px;" class="img.img-inline" alt=""/> to set which <MadCap:variable name="Product-Names.broker_cloud_short"/> initiates the creation of the link before you click <b>Add Service</b>. In most cases, you can accept the suggested initiating links. These are the situations where you may be required to change the initiating link:</p>
        <ul>
          <li>
            <p>If the one of the <MadCap:variable name="Product-Names.broker_cloud_short"/>s has a private endpoint and the other service has a public endpoint, you must change the initiating service to  be the one with the private endpoint.</p>
          </li>
          <li>
            <p>If the one of the <MadCap:variable name="Product-Names.broker_cloud_short"/>s is a private endpoint and the other service is a public endpoint, you must change the initiating service to  be the one with the private endpoint. </p>
          </li>
          <li>
            <p>On the remote endpoint of the <MadCap:variable name="Product-Names.broker_cloud_short"/>, if  you have more than one endpoint available, otherwise the one that is configured appears.</p>
          </li>
        </ul>
        <p>For more information about what choosing the initiating service, see <MadCap:xref href="modify_mesh.htm#modify-change-initiator">Switch the Initiator for a Link on the Event Mesh</MadCap:xref>.</p>
      </li>
      <li>
        <p>Repeat the steps 4-5as often as required to add the required <MadCap:variable name="Product-Names.broker_cloud_short"/>s to the event mesh.</p>
      </li>
      <li>
        <p>When you return to  the <b>Edit Mesh</b> page, the <MadCap:variable name="Product-Names.broker_cloud_short"/>s you added appear in the <b>Services in Mesh</b> list. Optionally, you can click <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" style="width: 0px;height: 0px;" alt=""/> beside the name of the <MadCap:variable name="Product-Names.broker_cloud_short"/> (including the ones you just added), and select:</p>
        <ul>
          <li><b>Edit Links</b>-–Edit the link initiator. For more information, see <MadCap:xref href="#modify-change-initiator">Switch the Initiator for a Link on the Event Mesh</MadCap:xref>.</li>
          <li><b>Remove a Service</b>-–Remove an <MadCap:variable name="Product-Names.broker_cloud_short"/> from the event mesh. For more information, see <MadCap:xref href="#modify-delete-service">Removing an Event Broker Service from an Event Mesh</MadCap:xref>.</li>
        </ul>
      </li>
      <li>
        <p>Review the in the <b>Links</b> pane that summarizes the changes, modify as required, and then click <b>Save Changes</b>. For example, here we've added an additional <MadCap:variable name="Product-Names.broker_cloud_short"/> and the blue links show the new links created in  the event mesh:</p>
        <p>
          <div class="thumbnail-container">
            <img src="../../Resources/Images/Mesh_Manager/modify_event_mesh.png" class="solacethumbnail" alt=""/>
          </div>
        </p>
      </li>
    </ol>
    <p>A pop-up notification appears that starts to modify the event mesh. When the changes are complete, another notification appears. If you have navigated to another page, you can check the progress of the modification. For more information, see <MadCap:xref href="view_mesh_information.htm#check-event-mesh-progress"> Checking the Progress of an Event Mesh</MadCap:xref>. </p>
    <h2><a name="modify-change-initiator"/>Switch the Initiator for a Link on the Event Mesh</h2>
    <p>You can specify which <MadCap:variable name="Product-Names.broker_cloud_short"/> (called the <i>initiator</i>) starts the process to create the external DMR link to the other <MadCap:variable name="Product-Names.broker_cloud_short"/>. While messages are exchanged in both directions over the link, the underlying TCP connection is only established by the side that is the initiator for the link. </p>
    <p>The service that starts the process to create an external link for an event mesh is called the <i>initiator</i> (or the <i>initiating service</i>). The initiator must be the service in the private region [or <MadCap:variable name="Product-Names.customer-controlled_region"/>, such as a Virtual Private Cloud/Virtual Network (VPC/VNet)] that uses private IP addresses when:</p>
    <ul>
      <li>
        <p>the <MadCap:variable name="Product-Names.broker_cloud_short"/> to connect to in the public Internet (for <MadCap:variable name="Product-Names.public_region"/>s) </p>
      </li>
      <li>
        <p>the <MadCap:variable name="Product-Names.broker_cloud_short"/> to connect  has Secured Broker Management (SEMP) port enabled on the public endpoint</p>
      </li>
    </ul>
    <p class="Note">Connectivity between private networks (non-public networks) is the responsibility of the customer since these are what are termed <a href="../Deployment-Considerations/deployment-options-ownership.htm#customer-owned-vnet" class="link-internal"><MadCap:variable name="Product-Names.customer-controlled_region"/>s</a> that <MadCap:variable name="Variables.CompanyName"/> cannot access.</p>
    <p>To switch the link initiator, perform the following steps.</p>
    <ol>
      <li>
        <p>Log in to <MadCap:variable name="Product-Names.console_ui_long"/> if you haven't done so yet.</p>
      </li>
      <li>
        <p>Select <MadCap:variable name="Product-Names.mesh_manager" style="font-weight: bold;"/> <img src="../../Resources/Images/Cloud/reusable-icons/navbar_mesh_manager.png" class="img-img-inline" alt=""/> from the navigation bar.</p>
      </li>
      <li>
        <p>In <MadCap:variable name="Product-Names.mesh_manager"/>, click  <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" alt=""/> and select <b>Edit</b>.</p>
      </li>
      <li>
        <p>On the <b>Edit Mesh</b> page, beside the name service, click  <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" alt=""/> and select <b>Edit</b>.</p>
      </li>
      <li>
        <p>On the <b>Edit Links</b> dialog, you can click <b>Switch Initiator</b><img src="../../Resources/Images/Cloud/reusable-icons/switch_initiator.png" class="img.img-inline" alt=""/>to switch the initiator for any of the services. </p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Mesh_Manager/mesh_manager_addthird_service.png" alt=""/>
          </div>
        </p>
      </li>
      <li>
        <p>Click <b>Apply</b> when you are completed and then click <b>Cancel</b> to close the dialog.</p>
      </li>
      <li>
        <p>Review the in the <b>Links</b> pane that summarizes the changes, modify as required, and then click <b>Save Changes</b>.</p>
      </li>
    </ol>
    <h2><a name="modify-delete-service"/>Removing an <MadCap:variable name="Product-Names.broker_cloud_short_title"/> from an Event Mesh</h2>
    <p>You can remove an <MadCap:variable name="Product-Names.broker_cloud_short"/> from an existing mesh  as long as it isn't the second last one in the event mesh. If you want to delete a mesh, you must explicitly delete it. For more information, see <MadCap:xref href="deleting_mesh.htm#deleting-using-mesh-manager">Deleting a Mesh using [%=Product-Names.mesh_manager%]</MadCap:xref>. </p>
    <p>After you specify the <MadCap:variable name="Product-Names.broker_cloud_short"/> to remove, the event mesh is re-created if the configuration is valid. A valid mesh must have at least two <MadCap:variable name="Product-Names.broker_cloud_short"/>s. Any <MadCap:variable name="Product-Names.broker_cloud_short"/>s that you  removed from the event mesh are not deleted and remain active.</p>
    <p>When the mesh is recreated, events/data no longer travel across the mesh temporarily while the event mesh is re-established, however the existing <MadCap:variable name="Product-Names.broker_cloud_short"/> remain running with no service impact.</p>
    <ol>
      <li>
        <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/>
      </li>
      <li>Select <MadCap:variable name="Product-Names.mesh_manager" style="font-weight: bold;"/> <img src="../../Resources/Images/Cloud/reusable-icons/navbar_mesh_manager.png" class="img-img-inline" alt=""/> from the navigation bar.</li>
      <li>In <MadCap:variable name="Product-Names.mesh_manager"/>, click  <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" alt=""/> and select <b>Edit</b>.</li>
      <li>On the <b>Edit page</b> page, beside the name of each <MadCap:variable name="Product-Names.broker_cloud_short"/> that you want to remove, click  <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" alt=""/>, and select <b>Remove Service</b>.</li>
      <li>Review  the <b>Links</b> pane that summarizes the changes, modify changes as required, and then click <b>Save Changes</b>.</li>
      <li>A <b>Traffic Disruption Across the Event Mesh May Occur</b> dialog box appears. Read the warning and if you agree, click <b>Confirm Changes</b> to remove the <MadCap:variable name="Product-Names.broker_cloud_short"/>s from your event mesh.</li>
    </ol>
    <p>The <MadCap:variable name="Product-Names.broker_cloud_short"/>s you selected are deleted. </p>
    <p>When process to update your event mesh starts, a notification appears. Another notification appears after the <MadCap:variable name="Product-Names.broker_cloud_short"/> is deleted. You can also see the progress of updating your event mesh at any time. For more information, see <MadCap:xref href="view_mesh_information.htm#check-event-mesh-progress"> Check Progress of an Event Mesh</MadCap:xref>. </p>
    <h2><a name="change-mesh-name"/>Changing the Event Mesh Name</h2>
    <p>You can change the name of your event mesh. The name can be up to 32 characters in length, and may include any alphanumeric, dashes, and underscores.</p>
    <ol>
      <li>
        <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/>
      </li>
      <li>Select <MadCap:variable name="Product-Names.mesh_manager" style="font-weight: bold;"/> <img src="../../Resources/Images/Cloud/reusable-icons/navbar_mesh_manager.png" class="img-img-inline" alt=""/> from the navigation bar.</li>
      <li>In <MadCap:variable name="Product-Names.mesh_manager"/>, click  <b>Mesh Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" alt=""/> and select <b>Edit</b>.</li>
      <li>Click in the <b>Mesh Name</b> field and change the text in the field.</li>
      <li>Click <b>Save Changes</b>.</li>
    </ol>
    <p>The name of your event mesh is changed. You can also see the name change to your event mesh. For more information, see <MadCap:xref href="view_mesh_information.htm#check-event-mesh-progress"> Check Progress of an Event Mesh.</MadCap:xref> You may need to rescan for changes or refresh your browser after a few minutes to see the name change appear. For more information about rescanning your event mesh, see <MadCap:xref href="view_mesh_information.htm#reresh-view">Refreshing for Changes in an Existing Event Mesh</MadCap:xref>.</p>
    <p> </p>
  </body>
</html>
