<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Upscaling <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s</h1>
    <p>You can upscale (or scale-up) existing <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> (standalone and high-availability) </MadCap:conditionalText><MadCap:variable name="Product-Names.broker_cloud_short"/>s to a higher service-class level if your existing service requires higher limits than it currently has. The advantage of upscaling an existing <MadCap:variable name="Product-Names.broker_cloud_short"/> rather than creating a new one is that you can keep the configuration settings on your existing <MadCap:variable name="Product-Names.broker_cloud_short"/>, eliminating the need to reconfigure the connectivity for the client applications connected to your service.</p>
    <p class="Note" MadCap:conditions="SAP.SapHideFromOutput">You <b>cannot</b> upscale from standalone <MadCap:variable name="Product-Names.broker_cloud_short"/>s to high-availability ones, or vice-versa.</p>
    <p> For example, you may require more connections or more queues because your current usage exceeds the limitations for the current service class of your <MadCap:variable name="Product-Names.broker_cloud_short"/>. For more information about service classes and their limits,   see <MadCap:xref href="service-class-limits.htm">Service Class Options</MadCap:xref>. </p>
    <p>To upscale your service, follow the steps  in  <MadCap:xref href="#upscale-procedure-start">Upscale an Event Broker Service</MadCap:xref>. </p>
    <h2><a name="upscale-procedure-start"/>Upscaling an <MadCap:variable name="Product-Names.broker_cloud_short_title"/></h2>
    <p>Before you upscale your <MadCap:variable name="Product-Names.broker_cloud_short"/>, ensure that you review the <a href="#upscale-considerations-rules" class="link-internal">general upscaling limitations and considerations</a>.</p>
    <p>We schedule times to upscale your <MadCap:variable name="Product-Names.broker_cloud_short"/> as quickly as we can, but you can expect a time of one to two weeks to upscale the <MadCap:variable name="Product-Names.broker_cloud_short"/>.  The more lead time you provide us, the more likely we can schedule your request at the time that you require. </p>
    <p>We also recommend that a person with at least the <b><MadCap:variable name="Product-Names.cm_editor"/></b> role opens the support ticket. </p>
    <p class="Note">If the <MadCap:variable name="Product-Names.broker_cloud_short"/> to upscale is deployed on your own <a href="Deployment-Considerations/deployment-options-ownership.htm" class="link-internal"><MadCap:variable name="Product-Names.customer-controlled_region"/></a> (a private network or private datacenter where you control the infrastructure), you must review the considerations and ensure that you fulfill the resource requirements before beginning these steps. For more information, see <MadCap:xref href="#upscale-considerations-rules">Rules and Considerations for Upscaling a Service Class.</MadCap:xref> </p>
    <p>Here are the steps to upscale an <MadCap:variable name="Product-Names.broker_cloud_short"/>:</p>
    <ol>
      <li>Plan a maintenance window that aligns with your organization and service requirements, and book a slot on <a href="[%=Manifest-Products-Links.CloudCalendlyUpgrades%]" target="_blank" class="link-offsite">Calendly</a>. For more information, see <MadCap:xref href="#plan-maintenance-window">Plan a Maintenance Window for  Upscaling</MadCap:xref>.</li>
      <li>After we contact you to confirm a time, we take care of upscaling the <MadCap:variable name="Product-Names.broker_cloud_short"/>. For an overview of what occurs, see <MadCap:xref href="#overview-upgrade-process">Overview of the Upscale Process</MadCap:xref>.</li>
    </ol>
    <h2><a name="plan-maintenance-window"/>Plan a Maintenance Window for  Upscaling Your <MadCap:variable name="Product-Names.broker_cloud_short_title"/></h2>
    <p>We recommend that you identify time periods to upscale your <MadCap:variable name="Product-Names.broker_cloud_short"/> that works best for you and minimizes the impact on your client applications. During the upscaling time period, the <MadCap:variable name="Product-Names.broker_cloud_short"/>  is unavailable to client applications.</p>
    <p>The time to upscale each <MadCap:variable name="Product-Names.broker_cloud_short"/> is <u style="font-weight: bold;">15</u> minutes. Though this is the expected time, plan for additional time to align with your organization and service requirements. As an example, you may want to plan for 30 minutes to provide extra time and to align expectations for your organization. The outage of 15 minutes for an <MadCap:variable name="Product-Names.broker_cloud_short"/> includes:</p>
    <ul>
      <li> the time required to upscale the  <MadCap:variable name="Product-Names.broker_cloud_short"/> on the Kubernetes deployment</li>
      <li>the time to validate the <MadCap:variable name="Product-Names.broker_cloud_short"/></li>
    </ul>
    <p>In the unlikely situation where the upscale procedure  to the service class is not successful, another <u style="font-weight: bold;">five</u> minutes may be required to perform a rollback and return your <MadCap:variable name="Product-Names.broker_cloud_short"/> to its original state. <MadCap:variable name="Variables.CompanyName"/> will contact you  if rollback is required and collaborate  with you to identify the cause.</p>
    <p>As the upscaling procedure occurs, there can't be any use of the message spool or hard-disks (such as backups) for the <MadCap:variable name="Product-Names.broker_cloud_short"/> that's being upscaled.</p>
    <h2><a name="overview-upgrade-process"/>Overview of the Upscaling Process for <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s</h2>
    <p>After we receive your request to upscale an <MadCap:variable name="Product-Names.broker_cloud_short"/> and are ready to accommodate that request, and we have agreed on a time to begin the upscale process, the following occurs (in the following steps, we indicate "<MadCap:variable name="Variables.CompanyName" style="font-style: italic;"/>" to make it clear it is us who is contacting you): </p>
    <ol>
      <li><MadCap:variable name="Variables.CompanyName"/> sends you a notification containing the date, time, and details of when your <MadCap:variable name="Product-Names.broker_cloud_short"/> is to be upscaled.  You must confirm that date and time, and the request details, and let us know if there are changes.</li>
      <li><MadCap:variable name="Variables.CompanyName"/> sends a second notification to let you know that the upscaling of the <MadCap:variable name="Product-Names.broker_cloud_short"/> will start during the agreed upon maintenance window.</li>
      <li>During the maintenance window, we upscale your <MadCap:variable name="Product-Names.broker_cloud_short"/> to the requested service class.</li>
      <li>After the upscale procedure completes (approximately 15 minutes), <MadCap:variable name="Variables.CompanyName"/> sends a third notification to let you know the results of the upscale procedure. If the upscale procedure was:<ul><li>Successful, proceed to the next step.</li><li>Not successful, <MadCap:variable name="Variables.CompanyName"/> contacts you and works with you to correct the problem and  to rebook a subsequent follow-up time to upscale the <MadCap:variable name="Product-Names.broker_cloud_short"/> again.</li></ul></li>
      <li>After the third notification, client applications can re-connect and start using the <MadCap:variable name="Product-Names.broker_cloud_short"/>.<p>After the upscale procedure you can validate that your service has been upscaled. For example, you can check that your service class has been upscaled, or if you were interested in the number of connections increasing, check that the number of connections were upscaled. To do this, go to the <MadCap:variable name="Product-Names.console_ui_long"/> and select <MadCap:variable name="Product-Names.cluster_mgr" style="font-weight: bold;"/> <img src="../Resources/Images/Cloud/reusable-icons/navbar_cluster_manager.png" class="img.img-inline" alt=""/> in the navigation bar. Click the card for your service and validate the service class or connections in the <b>Configuration</b> tab. For example, after upgrading to the <MadCap:variable name="Product-Names.class_1k"/> service class:</p><p><div class="thumbnail-container"><img src="../Resources/Images/Cloud/scaleup_validation.png" class="solacethumbnail" alt=""/></div></p></li>
    </ol>
    <h2><a name="upscale-considerations-rules"/>Limitations and Considerations for Upscaling <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s</h2>
    <p>There are <a href="#limitations-upscaling" class="link-internal">limitations</a>, <a href="#account-considerations" class="link-internal">account considerations</a>, and <a href="#specific-private-network-considerations" class="link-internal">considerations for <MadCap:variable name="Product-Names.customer-controlled_region"/>s</a>.</p>
    <h3><a name="limitations-upscaling"/>Limitations</h3>
    <p>Upscaling an existing service has the following limitations:</p>
    <ul>
      <li MadCap:conditions="SAP.SapOnlyOutput">You can't upscale <MadCap:variable name="Product-Names.class_100"/> class <MadCap:variable name="Product-Names.broker_cloud_short"/>s.</li>
      <li MadCap:conditions="SAP.SapHideFromOutput">You can't upscale from a Standalone or <MadCap:variable name="Product-Names.class_100"/> class to a high-availability service (nor scale from a High-Availability to a Standalone or <MadCap:variable name="Product-Names.class_100"/> service). </li>
      <li>You can't downscale a service (For example, you can't downscale a service from <MadCap:variable name="Product-Names.class_10k"/> to <MadCap:variable name="Product-Names.class_5k"/>).</li>
      <li>You can upscale directly to any service class level. For example, you could scale from <MadCap:variable name="Product-Names.class_250"/> directly to <MadCap:variable name="Product-Names.class_100k"/>. </li>
      <li>We only support upscaling <MadCap:variable name="Product-Names.broker_cloud_short"/>s deployed in a Kubernetes environment, and your Kubernetes deployment must support volume expansion. <MadCap:variable name="Product-Names.broker_cloud_short_intitalcap"/>s deployed using Static Local Provisioned volumes can't be upscaled. For more information, see <MadCap:xref href="Deployment-Considerations/deployment-architecture-k8s.htm">Deploying [%=Product-Names.cloud_product_short%] with Kubernetes</MadCap:xref>.</li>
    </ul>
    <h3><a name="account-considerations"/>Account Considerations</h3>
    <p>Before you upscale an existing <MadCap:variable name="Product-Names.broker_cloud_short"/>, consider whether the new service class you have decided on accounts for future growth?</p>
    <ul>
      <li>
        <p>After upscaling your <MadCap:variable name="Product-Names.broker_cloud_short"/>, all configuration settings for the <MadCap:variable name="Product-Names.broker_cloud_short"/> remain the same. To take advantage of the new service class limits, you may need to change some of the configuration settings for the <MadCap:variable name="Product-Names.broker_cloud_short"/>.</p>
      </li>
    </ul>
    <h3><a name="specific-private-network-considerations"/>Considerations for <MadCap:variable name="Product-Names.broker_cloud_short_title"/>s Deployed in <MadCap:variable name="Product-Names.customer-controlled_region"/>s</h3>
    <p>The following considerations are only required if your organization deployed the <MadCap:variable name="Product-Names.broker_cloud_short"/> to Kubernetes as a <a href="Deployment-Considerations/deployment-options.htm" class="link-internal"><MadCap:variable name="Product-Names.customer-controlled_region"/></a> [private network (such as a Virtual Private Cloud/Virtual Network (VPC/VNet) )or datacenter]:</p>
    <ul>
      <li>
        <p>Both the existing and new requirements are necessary until the upscaling of the <MadCap:variable name="Product-Names.broker_cloud_short"/> occurs. You are responsible for ensuring that you have the necessary infrastructure in place to support the upscaled <MadCap:variable name="Product-Names.broker_cloud_short"/>.</p>
      </li>
      <li>The Kubernetes cluster where the <MadCap:variable name="Product-Names.broker_cloud_short"/> runs must support volume expansion. That is, the Storage Class parameter <code>allowVolumeExpansion</code> must be set to <code>true</code>. This setting is required to upscale the <MadCap:variable name="Product-Names.broker_cloud_short"/>. Once you have set  <code>allowVolumeExpansion</code> to <code>true</code>, future upscale requests for <MadCap:variable name="Product-Names.broker_cloud_short"/>s in the same Kubernetes cluster are also possible as long the setting remains set to <code>true</code>.</li>
    </ul>
    <p class="Note"> The <code>allowVolumeExpansion</code> parameter must be set on each Kubernetes cluster where an <MadCap:variable name="Product-Names.broker_cloud_short"/> resides to upscale.</p>
    <p>For example, to upscale from <MadCap:variable name="Product-Names.class_250"/> to <MadCap:variable name="Product-Names.class_50k"/>, you'll require CPU, memory, and disk resources for both the existing <MadCap:variable name="Product-Names.class_250"/> service and new <MadCap:variable name="Product-Names.class_1k"/> service until the upscaling completes. We recommend that you contact your infrastructure team prior to contacting <MadCap:variable name="Variables.CompanyName"/> to upscale your <MadCap:variable name="Product-Names.broker_cloud_short"/> to ensure that you meet these requirements. For more information about the service class requirements, see <MadCap:xref href="Deployment-Considerations/resource-requirements-k8s.htm">Resource Requirements for Kubernetes</MadCap:xref>. After the upscaling of the <MadCap:variable name="Product-Names.broker_cloud_short"/> completes, you can reallocate resources (CPU, memory, hard-drive) from the old service class (that you upscaled from) if they aren't required or you need to optimize the resources in your Kubernetes environment.</p>
    <p>We recommend that you choose a size that accommodates not only future requirements (for example, the number of connections), but aligns with your cost structure. If you choose a size that is too large with unused connections, this may not be cost-effective for your organization. Another consideration is that after upscaling the service class, you cannot downscale it. For more information on choosing the right service class, see <MadCap:xref href="ght_pick_service_type.htm">Choosing the Right Service Class for Your Needs</MadCap:xref>.</p>
  </body>
</html>
