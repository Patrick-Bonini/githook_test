<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1> Kubernetes Cluster Validation</h1>
    <p>After you have installed your Kubernetes cluster, you're ready to meet with <MadCap:variable name="Variables.CompanyName"/> to validate that cluster's readiness for the deployment of <MadCap:variable name="Product-Names.cloud_product_short"/>. If the cluster doesn't validate, you may need to reinstall or re-configure your cluster.</p>
    <p><MadCap:variable name="Variables.CompanyName"/> provides the following prior <MadCap:annotation MadCap:createDate="2022-10-12T19:58:02.2710662-04:00" MadCap:creator="GilYu" MadCap:initials="GI" MadCap:comment="Remove if secret not at this point" MadCap:editor="GilYu" MadCap:editDate="2022-10-12T19:58:10.3490813-04:00">to</MadCap:annotation> installing <MadCap:variable name="Product-Names.cloud_product_short"/>:</p>
    <ul>
      <li>Either a GCP JSON key file or a Pull Image Secret YAML file to enable access to Solace's <code>gcr.io</code>. </li>
      <li>Instructions to run the tool that includes the commands to run the validation tool.</li>
      <li>The manifest YAML file needed by the tool to validate your cluster.</li>
      <li MadCap:conditions="Default.HideFromAllOutput">The location of the image repository, for example <code>gcr.io/gcp-maas-prod</code>.</li>
      <li MadCap:conditions="Default.HideFromAllOutput">The container image name and tag.</li>
    </ul>
    <p>During the meeting, <MadCap:variable name="Variables.CompanyName"/> has you run a validation tool. The tooling requires a registry secret, which is either a GCP JSON key file  or a Pull Image <MadCap:annotation MadCap:createDate="2022-10-12T19:57:24.0169706-04:00" MadCap:creator="GilYu" MadCap:initials="GI" MadCap:comment="Remove if secret is not at this point." MadCap:editor="GilYu" MadCap:editDate="2022-10-12T19:57:32.2211591-04:00">Secret</MadCap:annotation> YAML file to enable access the Solace's Container Registry (gcr.io), and a manifest YAML file.</p>
    <p><MadCap:variable name="Variables.CompanyName"/> helps you to understand the results of the validation and to help provide recommendations to address areas that didn't pass validation in your Kubernetes cluster. For example, the validation checks:</p>
    <ul>
      <li>that the necessary service accounts are configured with required permissions to your Kubernetes cluster</li>
      <li>the required resources are configured (such as CPUs, disk size, etc.)</li>
      <li>worker nodes are configured properly</li>
      <li>the connectivity of your Kubernetes cluster</li>
      <li>the prerequisites are fulfilled</li>
      <li>Kubernetes-specific type requirements are fulfilled</li>
    </ul>
    <p>You meet with <MadCap:variable name="Variables.CompanyName"/> to run the validation tool. <MadCap:variable name="Variables.CompanyName"/> provides you with the details to get the proper YAML file to run on your cluster.</p>
    <ol>
      <li><a href="installing-ps-cloud-k8s-get-secret.htm" class="link-internal">Download the registry secret</a>, which is either a GCP JSON key file or a Pull Image Secret YAML file to enable access the <MadCap:variable name="Product-Names.solace_container_registry"/> (gcr.io) where the images for the validation tooling is located.</li>
      <li><a class="link-internal" href="installing-ps-cloud-k8s-get-val-manifest.htm">Download the validation tool manifest</a>, which is a YAML file that is required by the cluster validation tool to validate your Kubernetes cluster.</li>
      <li>
        <p>You run the validation tool with assistance from <MadCap:variable name="Variables.CompanyName"/> on your cluster. <MadCap:conditionalText MadCap:conditions="Default.HideFromAllOutput">You run the kubectl apply co<MadCap:annotation MadCap:createDate="2022-11-09T19:40:32.7653411-05:00" MadCap:creator="GilYu" MadCap:initials="GI" MadCap:comment="It would be great if had steps or a location to get the tool. This can point to a future section and even iinclude the command to run validation (it should be a Helmchart that is run." MadCap:editor="GilYu" MadCap:editDate="2022-11-09T19:41:28.1235935-05:00">mmand using the downloaded YAML file from the previous ste</MadCap:annotation>p with the namespace.</MadCap:conditionalText></p>
        <pre xml:space="preserve" MadCap:conditions="Default.HideFromAllOutput">kubectl apply -f &lt;name of the YAML secret file&gt; -name &lt;namespace&gt;<br/></pre>
      </li>
      <li>Review the results  of running the validation tool with <MadCap:variable name="Variables.CompanyName"/>. If necessary, modify your Kubernetes installation and rerun the tool.</li>
    </ol>
    <p>If your Kubernetes cluster is validates, you're ready to install the <MadCap:variable name="Product-Names.cloud_agent_short"/>. For more information, see <MadCap:xref href="installing-agent.htm"> [%=Product-Names.cloud_agent_short%] Installation</MadCap:xref>.</p>
  </body>
</html>
