<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1 MadCap:conditions="Default.NotForPDF"><MadCap:concept term="Cloud"/><a name="AWS"/>Questionnaire: Deploying in a <MadCap:variable name="Product-Names.customer-controlled_region"/>—Amazon Elastic Kubernetes Service (EKS) Questions</h1>
    <h3 MadCap:conditions="Default.OnlyForPDF">Amazon Elastic Kubernetes Service (EKS) Questions</h3>
    <p MadCap:conditions="Default.OnlyForPDF"><MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/AfterAnsweringCommonQuestions.flsnp"/> Amazon EKS deployment.</p>
    <p MadCap:conditions="Default.NotForPDF">The following questions are part of the Questionnaire for Deploying <MadCap:variable name="Product-Names.cloud_product_short"/> in a <MadCap:variable name="Product-Names.customer-controlled_region"/>. If you are planning to deploy <MadCap:variable name="Product-Names.cloud_product_short"/> using an Amazon EKS cluster, you must first complete the <a href="Common_Customer.htm" class="link-internal" target="_blank">Common Questions</a>, and then answer the following questions related to your deployment:</p>
    <ul>
      <li>
        <a href="#awscluster" class="link-internal">Cluster Questions</a>
      </li>
      <li>
        <a href="#awsmess" class="link-internal">Messaging Questions</a>
      </li>
      <li>
        <a href="#awsstore" class="link-internal">Storage Questions</a>
      </li>
    </ul>
    <p MadCap:conditions="Default.NotForPDF,SAP.SapHideFromOutput">
      <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/DLAsPDForExcel.flsnp"/>
    </p>
    <div MadCap:conditions="Default.NotForPDF,SAP.SapHideFromOutput">
      <i class="material-icons">
        <a href="AWS-Questionnaire.pdf" target="_blank" class="btn btn-lg btn-guides"><i class="material-icons">get_app</i> Download as PDF</a>
      </i>
    </div>
    <div MadCap:conditions="Default.NotForPDF,SAP.SapOnlyOutput">
      <i class="material-icons">
        <a href="AWS-Questionnaire-SAP.pdf" target="_blank" class="btn btn-lg btn-guides"><i class="material-icons">get_app</i> Download as PDF</a>
      </i>
    </div>
    <p MadCap:conditions="SAP.SapHideFromOutput">
        </p>
    <div MadCap:conditions="Default.NotForPDF,SAP.SapHideFromOutput" style="padding-bottom: 20px;">
      <i class="material-icons">
        <a href="../checklist-customer-controlled.xlsx" target="_blank" class="btn btn-lg btn-guides"><i class="material-icons">get_app</i> Download as Excel</a>
      </i>
    </div>
    <div MadCap:conditions="Default.NotForPDF,SAP.SapOnlyOutput" style="padding-bottom: 20px;">
      <i class="material-icons">
        <a href="../checklist-customer-controlled-sap.xlsx" target="_blank" class="btn btn-lg btn-guides"><i class="material-icons">get_app</i> Download as Excel</a>
      </i>
    </div>
    <a name="awscluster"/>
    <h2 MadCap:conditions="Default.NotForPDF">Amazon EKS <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/Header_Cluster.flsnp"/></h2>
    <h4 MadCap:conditions="Default.OnlyForPDF">Amazon EKS <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/Header_Cluster.flsnp"/></h4>
    <p><MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/YouMustAnswerCategoryStarter.flsnp"/> AWS EKS cluster.</p>
    <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');margin-left: 0;margin-right: auto;" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Question</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Possible Answers</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">How <MadCap:variable name="Variables.CompanyName"/> Uses This Information</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Links to Related Documentation</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Do you have subnets for the worker nodes in all zones in your region?</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Yes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>High availability <MadCap:variable name="Product-Names.broker_cloud_short"/>s require three availability zones.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>
              <MadCap:xref href="../deployment-architecture-k8s.htm#Kubernet" target="_blank" MadCap:conditions="Default.NotForPDF">Kubernetes Cluster Details</MadCap:xref>
            </p>
            <p>
              <a href="[%=Manifest-Products-Links.WebsitePDFLinks%]/Cloud/Deployment-Considerations/deployment-architecture-k8s.htm#Kubernet" target="_blank" class="link-internal" MadCap:conditions="Default.OnlyForPDF">Kubernetes Cluster Details</a>
            </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Have you deployed the AWS Cluster Autoscaler? If not, do you have sufficient worker nodes to support the <MadCap:variable name="Product-Names.broker_cloud_short"/>s?</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Using Autoscaler<br/><b>or</b><br/></p>
            <p>Cluster has sufficient worker nodes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p><MadCap:variable name="Variables.CompanyName"/> recommends that you use the AWS Cluster Autoscaler in your cluster. The alternative is to provision sufficient worker nodes.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>
              <a href="https://docs.aws.amazon.com/eks/latest/userguide/autoscaling.html" target="_blank" class="link-offsite">Amazon EKS Autoscaling Documentation</a>
            </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>
              <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/VPCandSubnetSizeQuesiton.flsnp"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>Yes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>The number of <MadCap:variable name="Product-Names.broker_cloud_short"/>s that can be created in a cluster is limited by the available IP addresses in the VPC and its subnets. By default, EKS uses the Amazon VPC CNI to assign IP addresses from the cluster’s VPC to its pods. This means it is critical to properly size the VPC CIDR block to support the number of <MadCap:variable name="Product-Names.broker_cloud_short"/>s you intend to create.</p>
            <p>Additionally, if you are using GP3 for your storage class, you must also deploy the Amazon EBS CSI driver, which consumes IP addresses in the VPC.</p>
            <MadCap:snippetBlock src="../../../Resources/Snippets/Cloud/DeploymentQuestions/WarningImpossibleIncreaseClusterSize.flsnp"/>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>
              <a href="../installing-ps-cloud-k8s-eks-specific-req.htm#ip-range-vpc-size" target="_blank" class="link-internal" MadCap:conditions="Default.NotForPDF">IP Range in Installing  in Amazon Elastic Kubernetes Service</a>
            </p>
            <p>
              <a href="[%=Manifest-Products-Links.WebsitePDFLinks%]/Cloud/Deployment-Considerations/installing-ps-cloud-k8s-eks-specific-req.htm#ip-range-vpc-size" target="_blank" class="link-internal" MadCap:conditions="Default.OnlyForPDF">IP Range in Installing  in Amazon Elastic Kubernetes Service</a>
            </p>
          </td>
        </tr>
      </tbody>
    </table>
    <a name="awsmess"/>
    <h2 MadCap:conditions="Default.NotForPDF">Amazon EKS <MadCap:variable name="Product-Names.messaging_connectivity"/></h2>
    <h4 MadCap:conditions="Default.OnlyForPDF">Amazon EKS <MadCap:variable name="Product-Names.messaging_connectivity"/></h4>
    <p><MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/YouMustAnswerCategoryStarter.flsnp"/> AWS EKS <MadCap:variable name="Product-Names.messaging_connectivity"/>.</p>
    <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');border-left-style: solid;border-left-width: 1px;border-left-color: #e1e1e1;border-right-style: solid;border-right-width: 1px;border-right-color: #e1e1e1;border-top-style: solid;border-top-width: 1px;border-top-color: #e1e1e1;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #e1e1e1;margin-left: 0;margin-right: auto;" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 258px;"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Question</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Possible Answers</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">How <MadCap:variable name="Variables.CompanyName"/> Uses This Information</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Links to Related Documentation</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>If you are intending to use a LoadBalancer service to connect to your <MadCap:variable name="Product-Names.broker_cloud_short"/>, have you deployed the AWS Load Balancer Controller into your cluster?</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Yes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p><MadCap:variable name="Variables.CompanyName"/>  recommends that customers use the AWS Load Balancer Controller because the in-tree alternative is deprecated.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>
              <a href="https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html" target="_blank" class="link-offsite">Amazon AWS Load Balancer Controller Add-on documentation</a>
            </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>If you intend to use LoadBalancer services to connect to your <MadCap:variable name="Product-Names.broker_cloud_short"/>s, have you tagged the Subnets that will contain the ENIs for the NLBs so the AWS Load Balancer Controller can find them?</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Yes<br/><b>or</b></p>
            <p>No</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>The AWS Load Balancer documentation defines this as the best practice for AWS Load Balancers.</p>
            <p><MadCap:variable name="Variables.CompanyName"/>'s best practice Terraform project for EKS applies the tags to the public and private subnets. If the terraform script cannot apply the tags, you must provide the tags to <MadCap:variable name="Variables.CompanyName"/> so we can apply them with a service annotation.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <a href="https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/deploy/subnet_discovery/" target="_blank" class="link-offsite">Subnet Auto Discovery in AWS Load Balancer Controller documentation</a>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <MadCap:snippetBlock src="../../../Resources/Snippets/Cloud/DeploymentQuestions/LB_Annotations_Additional.flsnp"/>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>Yes<br/><b>or</b></p>
            <p>No</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <MadCap:snippetBlock src="../../../Resources/Snippets/Cloud/DeploymentQuestions/LoadBalancerAnnotationsWhy.flsnp"/>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>
              <a href="../installing-ps-cloud-k8s-eks-specific-req.htm#load-balancer" target="_blank" class="link-internal" MadCap:conditions="Default.NotForPDF">Load Balancer in Installing  in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
            <p>
              <a href="[%=Manifest-Products-Links.WebsitePDFLinks%]/Cloud/Deployment-Considerations/installing-ps-cloud-k8s-eks-specific-req.htm#load-balancer" target="_blank" class="link-internal" MadCap:conditions="Default.OnlyForPDF">Load Balancer in Installing  in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
          </td>
        </tr>
      </tbody>
    </table>
    <a name="awsstore"/>
    <h2 MadCap:conditions="Default.NotForPDF">Amazon EKS <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/Header_Storage.flsnp"/></h2>
    <h4 MadCap:conditions="Default.OnlyForPDF">Amazon EKS <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/Header_Storage.flsnp"/></h4>
    <p><MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/YouMustAnswerCategoryStarter.flsnp"/> AWS EKS storage.</p>
    <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');margin-left: 0;margin-right: auto;" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Question</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Possible Answers</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">How <MadCap:variable name="Variables.CompanyName"/> Uses This Information</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Links to Related Documentation</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <MadCap:snippetBlock src="../../../Resources/Snippets/Cloud/DeploymentQuestions/CreateStorageBestPractice.flsnp"/>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Yes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/WhyStorageBestPractice.flsnp"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>
              <MadCap:xref href="../installing-ps-cloud-k8s-eks-specific-req.htm" MadCap:conditions="Default.NotForPDF" target="_blank">Installing [%=Product-Names.cloud_product_titlecase%] in Amazon Elastic Kubernetes Service (EKS)</MadCap:xref>
            </p>
            <p>
              <a href="[%=Manifest-Products-Links.WebsitePDFLinks%]/Cloud/Deployment-Considerations/installing-ps-cloud-k8s-eks-specific-req.htm" target="_blank" class="link-internal" MadCap:conditions="Default.OnlyForPDF">Installing  in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/WhichDiskType.flsnp"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>GP2<br/><b>or</b></p>
            <p>GP3</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p><MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/DploymentOfServicesOnlyTo.flsnp"/>  GP2 and GP3 disks.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>
              <a href="../installing-ps-cloud-k8s-eks-specific-req.htm#eks_storage_class" target="_blank" class="link-internal" MadCap:conditions="Default.NotForPDF">Storage Class in Installing in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
            <p>
              <a href="[%=Manifest-Products-Links.WebsitePDFLinks%]/Cloud/Deployment-Considerations/installing-ps-cloud-k8s-eks-specific-req.htm#eks_storage_class" target="_blank" class="link-internal" MadCap:conditions="Default.OnlyForPDF">Storage Class in Installing in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>
              <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/WhatIsStorageClassName.flsnp"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1"> </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>
              <MadCap:snippetText src="../../../Resources/Snippets/Cloud/DeploymentQuestions/WhyName.flsnp"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>
              <a href="../installing-ps-cloud-k8s-eks-specific-req.htm#eks_storage_class" target="_blank" class="link-internal" MadCap:conditions="Default.NotForPDF">Storage Class in Installing in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
            <p>
              <a href="[%=Manifest-Products-Links.WebsitePDFLinks%]/Cloud/Deployment-Considerations/installing-ps-cloud-k8s-eks-specific-req.htm#eks_storage_class" target="_blank" class="link-internal" MadCap:conditions="Default.OnlyForPDF">Storage Class in Installing in Amazon Elastic Kubernetes Service (EKS)</a>
            </p>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
