<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Events</h1>
    <p>Within <MadCap:variable name="Product-Names.eventportal_product_short"/>, an event is an object that  defines the properties that describe and categorize actual event instances. Each event in <MadCap:variable name="Product-Names.ep_designer"/> defines an <i>event type</i> that represents event instances produced in an event-driven architecture (EDA). An <i>event instance</i> is a single occurrence of an event message that is produced. </p>
    <p>You can create events in <MadCap:variable name="Product-Names.ep_designer"/> and you can add events to <MadCap:variable name="Product-Names.ep_designer"/> by importing  Kafka topics from your runtime data in <MadCap:variable name="Product-Names.ep_rt_event_manager"/>. For more information, see <MadCap:xref href="event-portal-audit-runtime-data.htm#Importing_Kafka_Objects">Importing Kafka Objects</MadCap:xref>.</p>
    <p>This section includes the following tasks:</p>
    <ul>
      <li>
        <MadCap:xref href="#create-event">Creating an Event</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#update-event">Updating an Event</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#state_change_event">Changing the State of an Event Version</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#event-environment">Adding an Event to an Environment</MadCap:xref>
      </li>
    </ul>
    <p>You can also create custom attributes for events. For more information, see <MadCap:xref href="event-portal-designer-tool.htm#Using_Custom_Attributes">Using Custom Attributes.</MadCap:xref></p>
    <p>You can also move events to a different application domain. For more information, see <MadCap:xref href="event-portal-designer-application-domains.htm#Move_Objects" target="_blank">Moving Objects Between Application Domains</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="create-event"/>Creating an Event</h2>
    <p>You can create an event in any <a href="event-portal-designer-application-domains.htm" target="_blank" class="link-internal">application domain</a> where you Editor or Manager level <a href="event-portal-designer-application-domains.htm#UserAccess" target="_blank" class="link-internal">access</a>. When you create an event, you specify several attributes:</p>
    <ul>
      <li>name</li>
      <li>broker type (Solace or Kafka)</li>
      <li>whether you want to require <a href="event-portal-designer-applications.htm" target="_blank" class="link-internal">applications</a> to get <a href="event-portal-designer-events-access.htm" target="_blank" class="link-internal">approval</a> to reference the event</li>
      <li>whether the event can be shared to be used by applications in other application domains and by event APIs</li>
      <li>version description, display name, number, and state</li>
      <li>topic addresses</li>
      <li>schemas</li>
      <li>any custom attributes that have been set up in your organization</li>
    </ul>
    <p>You can create an event from the  graph view or the component view:</p>
    <ul>
      <li>If you want to create several applications and events and specify their relationships quickly, and then add more details later, you may want to start in the graph view.</li>
      <li>If you want to want add topic addresses or schemas when you create the event you may want to start in the component view.</li>
    </ul>
    <p>To create an event in the graph view, perform these steps:</p>
    <ol>
      <li><MadCap:snippetText src="../../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/><![CDATA[
               ]]></li>
      <li>On the navigation bar, select <MadCap:variable name="Product-Names.ep_designer" style="font-weight: bold;"/><img src="../../Resources/Images/Cloud/reusable-icons/navbar_designer.png" alt=""/>. </li>
      <li>On the <b>Application Domains</b> page, click the application domain that you want to add the event to.</li>
      <li>In the graph view, click <b>Add Objects</b> and drag a new Solace or Kafka event onto the graph. Alternatively, you can right-click on the graph where you want to position the event.</li>
      <li>Enter a name for the event.</li>
      <li>
        <p>(Optional) If you want to specify that an application version displayed in the graph subscribes to the event version, hover over the event and drag the arrow that appears to the application.</p>
        <p MadCap:conditions="SAP.SAPTempHide">
          <img src="../../Resources/Images/Event-Portal/graph-sub-arrow.png" alt="Screenshot showing the action described in the previous step." class="img-border"/>
        </p>
      </li>
      <li>
        <p>(Optional) If you want to specify that an application version that shows in the graph publishes the event version, hover over the application and drag the arrow that appears to the event version.</p>
        <p MadCap:conditions="SAP.SAPTempHide">
          <img src="../../Resources/Images/Event-Portal/graph-pub-arrow.png" alt="Screenshot showing the action described in the previous step." class="img-border"/>
        </p>
      </li>
      <li>Click the event to open the details panel. </li>
      <li>To update the version, description, or shared attributes: <ol style="list-style-type: lower-alpha;"><li>In the <b>Details</b> panel click <img src="../../Resources/Images/Cloud/reusable-icons/edit-gray.png" alt=""/>.Â  </li><li>Update the attributes as necessary.</li><li>Click <b>Save</b>.</li></ol></li>
      <li>To update any custom attributes:<ol style="list-style-type: lower-alpha;"><li>In the <b>Custom Attributes</b> panel, click <img src="../../Resources/Images/Cloud/reusable-icons/edit-gray.png" alt=""/>.</li><li>Select <b>This Version</b> or <b>Event</b>. to display version or event attributes.</li><li>Update the attributes as necessary.</li><li>Click <b>Save</b>.</li></ol></li>
      <li>To require applications to request approval to reference the event:<ol style="list-style-type: lower-alpha;"><li>Select the event and click <b>Open Event</b>.</li><li>Click <b>Edit Event Details</b>.</li><li>In the <b>Access Approval</b> list, select <b>Requires Approval</b>.</li><li>Click <b>Save Event</b>.</li></ol></li>
      <li>To update topic addresses or schemas:<ol style="list-style-type: lower-alpha;"><li>In the <b>Details</b> panel, click <b>Open Event</b> to open the event version in the <b>Component View</b>.</li><li>Click <b>Edit This Version</b>.</li><MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Event-Portal/topic-address-step.flsnp"/><MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Event-Portal/schema-step.flsnp"/><li>Click <b>Save &amp; Close</b>.</li></ol></li>
    </ol>
    <p>To create an event in the component view, perform these steps:</p>
    <ol>
      <li><a href="event-portal-designer-tool.htm#Using_Designer" target="_blank" class="link-internal">Open Designer</a>.</li>
      <li>On the <b>Application Domains</b> page, click the application domain that you want add the event to.</li>
      <li>Click <b>Components </b><img src="../../Resources/Images/Cloud/reusable-icons/designer-list.png" alt=""/> to switch to the list view.</li>
      <li>
        <p>Select the <b>Events</b> tab then click <b>Create Event</b>.</p>
        <p>
          <div class="thumbnail-container">
            <img src="../../Resources/Images/Event-Portal/event-access-requests.png" alt="Screenshot showing the settings described in the surrounding steps." class="solacethumbnail"/>
          </div>
        </p>
      </li>
      <li>Enter a <b>Name</b> for the event. </li>
      <li>Select the <b>Broker Type</b> for the event. All versions of the event have the same broker type.<p>You can select <b>Kafka</b> only if  a Kafka delimiter is set for the account. If no Kafka delimiter is set, click <b>Kafka Settings</b> to set the delimiter or, if you don't have the required access level, contact an administrator.</p></li>
      <li>If you want to require applications in other application domains to request approval to reference an event, in the <b>Access Approval</b> list, select <b>Requires Approval.</b></li>
      <li>If you want the event to be available to applications in other application domains and to event APIs, select <b>Allow event to be shared across application domains</b>.</li>
      <li>(Optional) Add values for any event custom attributes that have been set up in your organization.</li>
      <li>In the <b>Version</b> field, specify the semantic version value for the first version of the event in the format major.minor.patch. The default is 0.1.0.</li>
      <li>(Optional) Enter a <b> Version Name</b> for the first version of the event.</li>
      <li>(Optional) Enter a version description. The <b>Description</b> field supports Markdown. Click <b>toggle preview</b><img src="../../Resources/Images/Cloud/reusable-icons/markdown-html-toggle.png" alt=""/> to preview the rendered text.</li>
      <li>Enter a <b>Topic Address</b>. The topic address field displays suggestions based on the broker type, topic domain and existing topic addresses for other events in the application domain. The address must meet the following conditions. For more information, see <MadCap:xref href="event-portal-topic-addresses.htm">Topic Addresses</MadCap:xref>.<ul><li>If required by the application domain, the topic address must be unique within the application domain.</li><li>If required by the application domain, the topic address must begin with a topic domain. You can select from existing topic domains to start the topic address.</li><li>For Solace topic addresses, don't use the *, &gt;, or ! characters in a topic address.</li><li>To include a variable, surround it with braces <span class="Code">{ }</span>.</li><li><p>To use an <a href="event-portal-designer-enums.htm" target="_blank" class="link-internal">enumeration</a> as a variable, type the opening brace <span class="Code">{</span>, click <b>Configure Variable</b>, and select an enumeration and version.</p><p><div class="thumbnail-container"><img src="../../Resources/Images/Event-Portal/configure_variable.png" alt="Screenshot showing the settings described in the surrounding steps." class="solacethumbnail"/></div></p><p>Enumerations are supported only in Solace topic addresses. If the event is shared, you can select only a shared enumeration.</p></li></ul></li>
      <li>(Optional) Click <b>Select Schema</b> for a Solace event, or for the  <b>Value</b> or <b>Key</b> schema in a Kafka event and perform these steps:<ol style="list-style-type: lower-alpha;"><li>Select whether the schema is <b>Complex</b> or <b>Primitive</b>. Primitive schemas specify a single data type within the event. Complex schemas are separate objects in <MadCap:variable name="Product-Names.ep_designer"/>. For more information, see <MadCap:xref href="event-portal-designer-schemas.htm">Schemas</MadCap:xref>.</li><li>If you selected a <b>Complex</b> schema, click <b>Select</b> next to the schema version that you want to reference. The schema list shows schemas in the same application domain and shared schemas from other application domains that you have access to. You can filter the list by application domain. If you selected <b>Allow Event to be shared across application domains</b>, only shared schemas appear in the list.</li><li>If you selected a <b>Primitive</b> schema, select the data type from the  list and click <b>Select Primitive</b>.</li></ol></li>
      <li>(Optional) Add values for any event version custom attributes that have been set up in your organization.</li>
      <li>Click <b>Save Event</b>.</li>
    </ol>
    <h3><a name="considerations-kafka-events"/>Considerations for Creating and Updating Kafka Events</h3>
    <p>In Kafka EDAs,  an event represents a unique relationship between a topic and a schema. An event can't have multiple topic addresses or reference different value schemas across its versions. <MadCap:variable name="Product-Names.ep_designer"/> has additional validation restrictions for Kafka events to ensure your designs accurately represent your Kafka clusters. In addition to requiring all versions of an event to have the same broker type, <MadCap:variable name="Product-Names.ep_designer"/> enforces these restrictions for events with Kafka broker types:</p>
    <ul>
      <li>
        <p>All versions of a Kafka event must have the same topic address.</p>
      </li>
      <li>
        <p>Kafka brokers don't recognize level delimiters in topics. You can <a href="event-portal-designer-tool.htm#kafka_delimiter" target="_blank" class="link-internal">specify a delimiter</a> that <MadCap:variable name="Product-Names.eventportal_product_short"/> recognizes in Kafka topics.   All Kafka topic addresses in your organization's account must use the same delimiter.</p>
      </li>
      <li>
        <p>Kafka topic addresses don't support enumerations or wildcards.</p>
      </li>
      <li>
        <p>You can't create a second version of a Kafka event unless you've set a topic address for the first version.</p>
      </li>
      <li>
        <p>If more than one version of a Kafka event exists, you can't change the topic address.</p>
      </li>
      <li>
        <p>All versions of a Kafka event must reference the same schema object for the Value schema, and each event version must reference a different version of that schema object.</p>
      </li>
      <li>
        <p>Two separate Kafka events in <MadCap:variable name="Product-Names.ep_designer"/> can have the same topic address but if the topic addresses for two event match, they can't both reference the same schema for the value schema.</p>
      </li>
    </ul>
    <h2><a name="update-event"/>Updating an Event</h2>
    <p>When you update an event, you can update an existing version or create a new version of the event. Versions allow you to work on updates and test new versions in development and staging environments while the latest stable version remains in the production environment. Each version also has a lifecycle state. You can only edit versions that are in Draft state. For more information, see <MadCap:xref href="../../Cloud/Event-Portal/event-portal-overview.htm#Versioning">Object Versions and Lifecycle States</MadCap:xref>.</p>
    <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Event-Portal/versioning-definition.flsnp"/>
    <p>The graph view displays the most recent non-retired version of an event. If you create a new version to update an object, the new version takes the place of the previous version in the graph and the displayed event flows change if the new event version is not associated with the same application versions.</p>
    <p>If allowed for objects in the application domain, the description of an event version can be edited at any lifecycle state. This option allows you to add information to the description such as deprecation and retirement dates and notes about the object's functionality or runtime behavior.</p>
    <p>To update an event from the graph view, perform these steps:</p>
    <ol>
      <li>On the <b>Application Domains</b> page, click the application domain that contains the event you want to update.</li>
      <li>If you need to create a new draft version with the same properties as the existing version, right-click the event and select <b>Duplicate</b>.</li>
      <li>To update the draft version displayed in the graph view:</li>
      <ol style="list-style-type: lower-alpha;">
        <li>Right-click on the event and  select <b>View Details</b>. </li>
        <li>Click <b>Open Application</b>.</li>
        <li>Click <b>Edit This Version</b>.</li>
        <li>Update the  event version as necessary.</li>
        <li>Click <b>Save &amp; Close</b>.</li>
      </ol>
    </ol>
    <p>To update an event, perform these steps:</p>
    <ol>
      <li>On the <b>Application Domains</b> page,click the application domain that contains the event you want to update.</li>
      <li>Click <b>Components </b><img src="../../Resources/Images/Cloud/reusable-icons/designer-list.png" alt=""/> to switch to the list view.</li>
      <li>Select the <b>Events</b> tab.</li>
      <li>In the list of events, click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/>for the event that you want to update and select <b>Open Event</b>.</li>
      <li>Perform one of the following actions:</li>
      <ul>
        <li>In the <b>Versions</b> list, click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/>for the version that you want to update and select <b>Edit</b>. Any changes you make update that version of the event. You can edit an event version only if it is in Draft state.</li>
        <li>In the <b>Versions</b> list, click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/>for the version that you want to update and select <b>Duplicate</b>. All properties of the existing version are copied into a new version. By default, the new version number is incremented by 0.0.1. You can change the version number to any number not already in use.</li>
        <li>Above the <b>Versions</b> list, click <b>Add</b><img src="../../Resources/Images/Cloud/reusable-icons/ep_add_icon.png" alt=""/>to create a new version of the event without duplicating an existing version. By default, the new version number is the next unused major version. You can change the version number to any number not already in use.</li>
      </ul>
      <li>Update the event version as necessary.</li>
      <li>Click <b>Save Version</b> or <b>Save &amp; Close</b>.</li>
    </ol>
    <h2><a name="state_change_event"/>Changing the State of an Event Version</h2>
    <p>When you create a new version of an event, the version is in Draft state. When the version is ready, you can change the version state to Released. When you release a new version of an event, you may also want to change older versions of the event to Deprecated or Retired. You must have at least Manager level <a href="event-portal-designer-application-domains.htm#UserAccess" target="_blank" class="link-internal">access</a> to the application domain to change the version state. For more information, see <MadCap:xref href="../../Cloud/Event-Portal/event-portal-overview.htm#Versioning">Object Versions and Lifecycle States.</MadCap:xref></p>
    <p>You can only change an event version from Draft to Released state after the schema and any enumerations that the event references have been changed out of Draft state. If you want to retire an event version, you must first retire all application and event API versions that reference it.</p>
    <p>You can change the state of the most recent version in the graph view. If you change the state to Retired, the version disappears from the graph, and is replaced by the latest non-retired version if one exists.</p>
    <p>To change the state of an event version from the graph view, perform these steps:</p>
    <ol>
      <li>On the <b>Application Domains</b> page, click the application domain that contains the event you want to update.</li>
      <li>Right-click the event and select <b>Change State</b>.</li>
      <li>Select the new state and click <b>Change State</b>.</li>
    </ol>
    <p>To change the state of an event version from the component view, perform these steps:</p>
    <ol>
      <li>On the <b>Application Domains</b> page, click the application domain that contains the event you want to update.</li>
      <li>Click <b>Components </b><img src="../../Resources/Images/Cloud/reusable-icons/designer-list.png" alt=""/> to switch to the list view.</li>
      <li>Select the <b>Events</b> tab.</li>
      <li>In the list of events, click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/>for the event that you want to update and select <b>Open Event</b>.</li>
      <li>Select the version that you want to change the state of, then click <b>Manage Lifecycle</b>.</li>
      <li>Select the new state.</li>
      <li>(Optional) If you set the <b>State</b> to <b>Deprecated</b> or <b>Retired</b>, set the <b>End of Life</b> date. If you set a planned or actual <b>End of Life</b> date, the date displays in the version details.</li>
      <li>Click <b>Save</b>.</li>
    </ol>
    <h2><a name="event-environment"/>Adding an Event Version to an Environment</h2>
    <p>How you add event versions from <MadCap:variable name="Product-Names.ep_designer"/> to an environment depends on the event type. To add a Solace event version to an environment, you add an application that publishes the event. For more information, see: <MadCap:xref href="event-portal-designer-applications.htm#app-environment">Adding an Application to an Environment</MadCap:xref>. You can add a Kafka event version in the same way or by adding it directly to an environment. If you add a Kafka event directly, you associate a version of the event with a model event broker in a Kafka modeled event mesh. You must be an Administrator or <MadCap:variable name="Product-Names.ep_manager"/> to add Kafka events to a modeled event mesh.</p>
    <p>When you import a Kafka event into <MadCap:variable name="Product-Names.eventportal_product_short"/> using <MadCap:variable name="Product-Names.ep_rt_event_manager"/>, you select the environment, modeled event mesh, and event broker. You can add the imported event to additional environments from <MadCap:variable name="Product-Names.ep_designer"/>.</p>
    <p>To add a Kafka event version to a modeled event mesh within an environment, perform these steps:</p>
    <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Event-Portal/Kafka-Event-MEM.flsnp"/>
  </body>
</html>
