<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Creating a Model of Your Event-Driven Architecture</h1>
    <p>This tutorial teaches you how to use the objects in <MadCap:variable name="Product-Names.eventportal_product_short"/> to create and visualize a model of your event-driven architecture (EDA). A modeled event mesh represents  event flows operating in a specific runtime environment. Modeled event meshes   help you define and visualize the event flows between publishing and subscribing applications within your EDA. </p>
    <p>You can build modeled event meshes using objects created in Designer and objects imported into <MadCap:variable name="Product-Names.eventportal_product_short"/>. You create modeled event meshes within environments. <MadCap:xref href="../environments.htm" target="_blank">Environments</MadCap:xref> in <MadCap:variable name="Product-Names.cloud_product_long"/> represent runtime environments within your organization. For example, you may have several development environments for different lines of business,  testing environments, a staging environment, and a production environment. </p>
    <p>In this tutorial, we'll use <MadCap:variable name="Product-Names.ep_rt_event_manager"/> and <MadCap:variable name="Product-Names.ep_designer"/> to complete the following tasks:</p>
    <ol>
      <li>
        <MadCap:xref href="#Create_an_Modeled_Event_Mesh">Create a Modeled Event Mesh</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Add_Event_Brokers">Add Event Brokers to Your Modeled Event Mesh</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Add_Applications_to_a_mem">Add Applications to a Modeled Event Mesh</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Tour_Your_Model_Architecture">Tour Your Model Architecture</MadCap:xref>
      </li>
    </ol>
    <h2 class="with-rule">Before You Begin</h2>
    <ul>
      <li>Complete the tutorial <MadCap:xref href="get-started-event-portal-designer.htm">Designing Your Event-Driven Architecture</MadCap:xref> to add applications and events into Designer that you can use to build a modeled event mesh</li>
      <li>Complete the tutorial <MadCap:xref href="../ggs_create_first_service.htm">Creating Your First [%=Product-Names.broker_cloud_short_title%]</MadCap:xref> so you can see how easy it is to add an <MadCap:variable name="Product-Names.broker_cloud_short"/> to your modeled event mesh</li>
      <li>log in to <MadCap:variable name="Product-Names.cloud_product_short"/>. For more information, see <MadCap:xref href="../ggs_login.htm">Accessing [%=Product-Names.cloud_product_titlecase%]</MadCap:xref></li>
    </ul>
    <h2 class="with-rule"><a name="Create_an_Modeled_Event_Mesh"/>Create a Modeled Event Mesh</h2>
    <p>Let's create your first modeled event mesh  in <MadCap:variable name="Product-Names.ep_rt_event_manager"/>. Whether you want to design a new event flow or import flows from your existing EDA into <MadCap:variable name="Product-Names.eventportal_product_short"/>, you need to have at least one modeled event mesh before you can start modeling or connect <MadCap:variable name="Product-Names.eventportal_product_short"/> with your runtime.</p>
    <ol>
      <li>In the <MadCap:variable name="Product-Names.console_ui_short"/>, click the <b><MadCap:variable name="Product-Names.ep_rt_event_manager"/></b> card or the icon <img src="../../Resources/Images/Cloud/reusable-icons/navbar_runtime_manager.png" alt=""/> on the left navigation bar. </li>
      <li>Click <b>Create Modeled Event Mesh</b>. </li>
      <li>In the <b>Modeled Event Mesh Name</b> field, type "Tutorial".</li>
      <li>Select <b>Solace</b> as the modeled event mesh <b>Type</b>.</li>
      <li>In the <b>Description</b> field, add information about the modeled event mesh, for example: "Model of my Tutorial event flows".</li>
      <li>
        <p>In the <b>Environment</b> list, select <b>Default</b>. All new <MadCap:variable name="Product-Names.cloud_product_short"/> accounts have an environment named <b>Default</b>. You can create additional environments. To learn more, see: <MadCap:xref href="../environments.htm" target="_blank">Environments</MadCap:xref>.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-create-mem.png" alt="" title="Screenshot showing the options described in the surrounding text."/>
          </div>
        </p>
      </li>
      <li>Click <b>Create</b>.</li>
    </ol>
    <h2><a name="Add_Event_Brokers"/>Add Event Brokers to Your Modeled Event Mesh</h2>
    <p>An event broker in a modeled event mesh represents a runtime event broker in an event flow. You must add at least one event broker to a modeled event mesh before you can add application versions and event versions to the model. Solace modeled event meshes can include multiple event brokers.<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> Kafka modeled event meshes represent event flows through a single event broker or cluster.</MadCap:conditionalText></p>
    <p>When you create a model event broker, you can include details of the runtime event broker that it represents, or you can create a placeholder event broker with just a name and add the runtime details later.</p>
    <p>You can also add model event brokers to represent the event broker services that your organization has created in <MadCap:variable name="Product-Names.cluster_mgr"/> without having to manually add all of the connection details.</p>
    <p>To add event brokers to your modeled event mesh, perform these steps:</p>
    <ol>
      <li>In the <b>Modeled Event Meshes</b> list, click <b>Tutorial</b> to open the modeled event mesh you just created. </li>
      <li>Select the <b>Event Broker Connections</b> tab.</li>
      <li>In the top, right corner, click <b>Connect Event Broker</b>. </li>
      <li>Click <b>New Event Broker</b>.</li>
      <li>
        <p>We're going to create a placeholder event broker by entering only a name. In the <b>Name</b> field, type "Placeholder".</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-create-event-broker.png" alt="Screenshot depiction the options described in the surrounding text."/>
          </div>
        </p>
      </li>
      <li>
        <p>Click <b>Connect Event Broker</b>. The Placeholder event broker is added to the modeled event mesh. You can see the details on the <b>Event Broker Connections</b> tab.</p>
        <p>
          <div class="thumbnail-container">
            <img src="../../Resources/Images/Cloud/getting-started/gs-ep-mem-placeholder.png" alt="Screenshot depicting the options described in the surrounding text." class="solacethumbnail"/>
          </div>
        </p>
      </li>
      <li>
        <p>To also add a model event broker for an event broker service, in the top, right corner, click <b>Connect Event Broker</b>.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-add-event-broker.png" alt="Screenshot depicting the options described in the surrounding text."/>
          </div>
        </p>
      </li>
      <li>
        <p>Select the checkbox next to <b>My-First-Service</b>. If multple event brokers appear in the list, you can start typing the name of the event broker service in the <b>Search</b> field to find it.</p>
        <p>If <b>My-First-Service</b> doesn't appear in the <b>Add Existing Event Broker</b> dialog, either the tutorial <MadCap:xref href="../ggs_create_first_service.htm">Creating Your First [%=Product-Names.broker_cloud_short_title%]</MadCap:xref> has not been completed or that <MadCap:variable name="Product-Names.broker_cloud_short"/> has already been added to a different modeled event mesh. You can continue on and complete the tutorial without adding it.</p>
      </li>
      <li>Click <b>Add</b>, or click <b>Cancel</b> to close the dialog box without adding an <MadCap:variable name="Product-Names.broker_cloud_short"/>. On the <b>Event Broker Connections</b> tab you see the details of the event brokers that you've added to the modeled event mesh.</li>
      <li>
        <p>Click the <b>Architecture</b> tab. As you can see, now it's time to add objects (application and event versions) to your modeled event mesh.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-no-objects-added.png" alt="Screenshot depicting the options described in the surrounding text."/>
          </div>
        </p>
      </li>
    </ol>
    <h2><a name="Add_Applications_to_a_mem"/>Add Applications to a Modeled Event Mesh</h2>
    <p><MadCap:variable name="Product-Names.eventportal_product_short"/> offers three ways to add applications to a modeled event mesh.</p>
    <ul>
      <li>Add an application version to an event broker from <MadCap:variable name="Product-Names.ep_designer"/>.</li>
      <li>Associate an application version from one event broker to additional event brokers in the same or a different modeled event mesh in <MadCap:variable name="Product-Names.ep_rt_event_manager"/>. For more information, see <MadCap:xref href="modeled-event-mesh-runtime-data.htm#Adding_an_Application_REM" target="_blank">Associating an Application with Additional Event Brokers</MadCap:xref>. </li>
      <li>Scan a runtime event broker connected to the modeled event mesh and use runtime data to import applications. For more information about connecting your runtime to <MadCap:variable name="Product-Names.eventportal_product_short"/> and using <MadCap:variable name="Product-Names.ep_rt_event_manager"/> to create a model of your own runtime data, see <MadCap:xref href="event-portal-collect-runtime-data.htm" target="_blank">Discovering Runtime Data</MadCap:xref>.</li>
    </ul>
    <p>In this tutorial we'll show you how to add application versions from <MadCap:variable name="Product-Names.ep_designer"/>. When you add an application version to a modeled event mesh, any event versions that the application publishes or subscribes to are also added to the model.</p>
    <ol>
      <li>In the <MadCap:variable name="Product-Names.console_ui_short"/>, click the <b><MadCap:variable name="Product-Names.ep_designer"/></b> icon <img src="../../Resources/Images/Cloud/reusable-icons/navbar_designer.png" alt=""/> on the left navigation bar. </li>
      <li>In the <b>Application Domains</b> list, click <b>Fullfillment</b>, which you <a href="get-started-event-portal-designer.htm#Import_Objects" target="_blank" class="link-internal">imported into <MadCap:variable name="Product-Names.ep_designer"/></a> in the previous tutorial.</li>
      <li>
        <p>In the graph view, right-click the <b>Fraud Service</b> application and select <b>View Details</b>.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-app-fraud-service.png" alt="Screenshot showing the settings described in the surrounding steps."/>
          </div>
        </p>
      </li>
      <li>Click <b>Open Application</b>.</li>
      <li>
        <p>Select the <b>Runtime</b> tab.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-app-runtime.png" alt="Screenshot depicting the options described in the surrounding text."/>
          </div>
        </p>
        <p>The <b>Runtime</b> tab displays the event brokers you can add the application to in each environment.</p>
      </li>
      <li>Under the <b>Default</b> environment, click <b>Add Application</b> <img src="../../Resources/Images/Cloud/reusable-icons/ep_add_icon.png" alt=""/> for the <b>Placeholder</b> event broker.</li>
      <li>
        <p>In the <b>Application version to add</b> list, keep the latest version selected and click <b>Add</b>.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-add-to-environment.png" alt="Screenshot depicting the options described in the surrounding text"/>
          </div>
        </p>
        <p>You'll see that the version you added displays in the <b>Application Version</b> column for the <b>Placeholder</b> event broker. You can only have one version of an application associated with an event broker in a modeled event mesh. If you added a different version of the application to the same event broker, it would replace the previously added version.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-app-runtime-app-added.png" alt="Screenshot depicting the options described in the surrounding text."/>
          </div>
        </p>
        <p>Your modeled event mesh should include all of the applications and events that are part of your event flow, so we're going to add more applications that belong to the event flow before we take a look at the results.</p>
      </li>
      <li>
        <p>Click the <b>Details</b> tab, and in the <b>Event Flows</b> section,  click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt="Screenshot showing the settings described in the surrounding steps."/>for the <b>Order Created</b> event and select <b>Open Event</b>.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-open-event.png" alt="Screenshot depicting the options described in the surrounding text."/>
          </div>
        </p>
        <p>In the <b>Referenced By</b> section of the event details, you can see all of the applications that publish and subscribe to the Order Created event version.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../../Resources/Images/Cloud/getting-started/gs-ep-event-app-list.png" alt="Screenshot depicting the options described in the surrounding text."/>
          </div>
        </p>
        <p>You'll notice that five applications subscribe to the event and one applications publishes it. We've already added the Fraud Service application to the modeled event mesh. Now we're going to add the remaining subscribing applications.</p>
      </li>
      <li> Click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt="Screenshot showing the settings described in the surrounding steps."/> for the <b>Email Service</b> application and select <b>Open Application</b>.</li>
      <li>Select the <b>Runtime</b> tab.</li>
      <li>Under the <b>Default</b> environment, click <b>Add Application</b> <img src="../../Resources/Images/Cloud/reusable-icons/ep_add_icon.png" alt=""/> for the <b>Placeholder</b> event broker.</li>
      <li>In the <b>Application version to add</b> list, keep the latest version selected and click <b>Add</b>.</li>
      <li>Repeat steps 8-12 to add the <b>Order Details Service</b> application to the modeled event mesh. In step 9, click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt="Screenshot showing the settings described in the surrounding steps."/> for the <b>Order Details Service</b> application <b>Email Service</b> application</li>
      <li>Repeat steps 8-12 again for each remaining subscribing application in the list.  In step 9  click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt="Screenshot showing the settings described in the surrounding steps."/> for the application you want to add.</li>
    </ol>
    <h2><a name="Tour_Your_Model_Architecture"/>Tour Your Model Architecture</h2>
    <p>Now that we've associated several applications and the events they publish and subscribe to with an event broker in your modeled event mesh, let's go have another look at the architecture tab.</p>
    <ol>
      <li>Click the <b><MadCap:variable name="Product-Names.ep_rt_event_manager"/></b> icon <img src="../../Resources/Images/Cloud/reusable-icons/navbar_runtime_manager.png" alt=""/> on the left navigation bar. </li>
      <li>On the <b>Modeled Event Meshes</b> tab, click <b>Tutorial</b>.</li>
    </ol>
    <p>The <b>Architecture</b> tab displays both a list view and a graph view of the applications you added to the modeled event mesh and events they publish and subscribe to.</p>
    <p>
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud/getting-started/gs-ep-architecture-tab.png" alt="Screenshot depicting the options described in the surrounding text." class="solacethumbnail"/>
      </div>
    </p>
    <p>The positions of the objects in the graph are automatically generated by <MadCap:variable name="Product-Names.eventportal_product_short"/>, so the object positioning in your view may not exactly match the picture. You can drag objects to reposition them. For more information about all of options and icons in the Graph View, see <MadCap:xref href="modeled-event-mesh.htm#Viewing_a_Modeled_Event_Mesh">Viewing a Modeled Event Mesh</MadCap:xref>.</p>
    <p>The applications and events we've added to the panel use the following icons to represent the objects in your modeled event mesh:</p>
    <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 15%;"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Icon</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1" style="text-align: center;padding-left: 6pt;padding-right: 6pt;padding-top: 6pt;padding-bottom: 6pt;border-right-style: solid;border-right-width: 2px;border-right-color: #e1e1e1;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e1e1e1;">
            <img src="../../Resources/Images/Event-Portal/graph-icons/graph-application.png" alt=""/>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Application</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1" style="border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e1e1e1;text-align: center;padding-left: 6pt;padding-right: 6pt;padding-top: 6pt;padding-bottom: 6pt;border-right-style: solid;border-right-width: 2px;border-right-color: #e1e1e1;">
            <img src="../../Resources/Images/Event-Portal/graph-icons/graph-event.png" alt=""/>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Event</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1" style="text-align: center;padding-left: 6pt;padding-right: 6pt;padding-top: 6pt;padding-bottom: 6pt;border-right-style: solid;border-right-width: 2px;border-right-color: #e1e1e1;">
            <img src="../../Resources/Images/Event-Portal/graph-icons/graph-event-unpublished.png" alt=""/>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Unpublished event: an application version subscribes to the event but no other application version in the modeled event mesh publishes it</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1" style="text-align: center;padding-left: 6pt;padding-right: 6pt;padding-top: 6pt;padding-bottom: 6pt;border-right-style: solid;border-right-width: 2px;border-right-color: #e1e1e1;">
            <p style="text-align: center;">
              <img src="../../Resources/Images/Event-Portal/graph-icons/graph-event-path.png" alt=""/>
            </p>
            <p> </p>
            <p style="text-align: center;">
              <img src="../../Resources/Images/Event-Portal/graph-icons/graph-event-path-dash.png" alt=""/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>Event path: the arrow indicates the direction of the event. If the arrow points away from an application, the application publishes the event. If the arrow points toward an application, the application subscribes to or consumes the event.</p>
            <p>If an issue needs to be fixed with an event or with an application that publishes it or subscribes to it, the event path appears as a dashed line.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>You likely noticed in the graph that some events display as solid circles that are connected to applications with solid lines and others display as hollow circles connected to applications with dashed lines. The hollow circles represent events that don't have a publisher included in the modeled event mesh. The dotted lines represents subscriptions to events with no publisher. Let's fix the problem for some of the events by adding a publisher.</p>
    <ol>
      <li>Click the <b>Order Created</b> event in the graph. The event is selected in both the graph and the <b>Events</b> list. </li>
      <li>In the <b>Events</b> list, click the <b>Order Created</b> event name and in the <b>Event Details</b> dialog that opens, click <b>Open in Designer</b>.</li>
      <li>In the <b>Referenced By</b> section, click <b>Pub</b> to see the list of applications that publish the event.</li>
      <li> Click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt="Screenshot showing the settings described in the surrounding steps."/>for the <b>Orders Service - Order Writer</b> application and select <b>Open Application</b>. </li>
      <li>Select the <b>Runtime</b> tab.</li>
      <li>Under the <b>Default</b> environment, click <b>Add Application</b> <img src="../../Resources/Images/Cloud/reusable-icons/ep_add_icon.png" alt=""/> for the <b>Placeholder</b> event broker.</li>
      <li>In the <b>Application version to add</b> list, keep the latest version selected and click <b>Add</b>.</li>
      <li>To take another look at the graph, click the <b><MadCap:variable name="Product-Names.ep_rt_event_manager"/></b> icon <img src="../../Resources/Images/Cloud/reusable-icons/navbar_runtime_manager.png" alt=""/> on the left navigation bar. </li>
      <li>On the <b>Modeled Event Meshes</b> tab, click <b>Tutorial</b>.</li>
    </ol>
    <p>You'll see the <b>Orders Service - Order Writer</b> application in the modeled event mesh and see that more events now have a publisher.</p>
    <p>
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud/getting-started/gs-ep-architecture-final.png" alt="Screenshot depicting the results of the previous steps." class="solacethumbnail"/>
      </div>
    </p>
    <h2 class="with-rule">Next Steps</h2>
    <ul>
      <li> Now that you understand how to use the tools in <MadCap:variable name="Product-Names.eventportal_product_short"/>, see <MadCap:xref href="event-portal-collect-runtime-data.htm" target="_blank">Discovering Runtime Data</MadCap:xref> to learn how to connect <MadCap:variable name="Product-Names.eventportal_product_short"/> to your runtime event brokers and discover runtime data.</li>
      <li MadCap:conditions="SAP.SapHideFromOutput">Try out the <MadCap:variable name="Product-Names.ep_rt_event_manager"/> audit and import features using the sample data in the <a href="../learning-center.htm" target="_blank" class="link-internal">Learning Center</a>.</li>
      <li>To find out more about <MadCap:variable name="Product-Names.eventportal_product_short"/> see <MadCap:xref href="event-portal-lp.htm">[%=Product-Names.pubsub_brand_only%] [%=Product-Names.eventportal_product_short%]</MadCap:xref>.</li>
      <li>If you haven't completed the event streaming tutorials, see <MadCap:xref href="../ggs_create_first_service.htm">Creating Your First [%=Product-Names.broker_cloud_short_title%]</MadCap:xref>.</li>
    </ul>
  </body>
</html>
