<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1>Managing Event Data Access</h1>
    <p> Applications may publish and subscribe to events that contain sensitive information such as customer data. By managing event data access you can:</p>
    <ul>
      <li>
                Govern the ability of applications to publish and subscribe to events by requiring applications to request approval to publish or subscribe to specific events. </li>
      <li>Specify that an event requires approval when you create the event or afterwards. </li>
      <li>Manage who has permissions to review event access requests at the application domain level. </li>
    </ul>
    <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Event-Portal/access-approval-conditions.flsnp"/>
    <p>This section includes the following tasks:</p>
    <ul>
      <li>
        <MadCap:xref href="#set-user-governance">Providing the Event Access Approver Role to a User</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#request-access">Requesting Event Access</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#review-access-requests">Reviewing Event Access Requests</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#notifications">Notifications</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule">Event Access Approval Workflow</h2>
    <p>The following steps describe the workflow for managing event access from creating an event that requires approval to approving or declining event data access requests. </p>
    <ol>
      <li>A user creates an event that includes sensitive information and specifies that access to the event data requires approval. For more information, see <MadCap:xref href="event-portal-designer-events.htm#create-event" target="_blank">Creating an Event</MadCap:xref>.</li>
      <li>When a user references an event that requires approval in an application, a banner appears in the application to inform them of the access requirement. For more information, see <MadCap:xref href="event-portal-designer-applications.htm#create-app" target="_blank">Creating an Application</MadCap:xref>.</li>
      <li>The user creating or updating the application sends access requests for the referenced events that require approval. For more information, see <MadCap:xref href="event-portal-designer-events-access.htm#request-access" target="_blank">Requesting Event Access</MadCap:xref>.</li>
      <li>A user with permission to approve event access requests in the event's application domain receives a notification about the pending requests. </li>
      <li>The approver user reviews the request and approves or declines it. For more information, see <MadCap:xref href="event-portal-designer-events-access.htm#review-access-requests" target="_blank">Reviewing Event Access Requests</MadCap:xref>.</li>
      <li>The user who sent the requests receives notification of the decision.</li>
      <li>If access to all the referenced events are approved, the application can be added to an environment.</li>
    </ol>
    <h2 class="with-rule"><a name="set-user-governance"/>Providing the Event Access Approver Role to a User</h2>
    <p>Administrators, <MadCap:variable name="Product-Names.ep_manager"/>s and <MadCap:variable name="Product-Names.ep_user"/>s with <MadCap:variable name="Product-Names.ep_domain_manager"/> access to an application domain can give users with the  <MadCap:variable name="Product-Names.ep_user"/> role permission to approve event access requests in the application domain. </p>
    <p>To give a user the event access approver role perform these steps:</p>
    <ol>
      <li><MadCap:snippetText src="../../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/><![CDATA[
               ]]></li>
      <li>On the navigation bar, select <MadCap:variable name="Product-Names.ep_designer" style="font-weight: bold;"/> <img src="../../Resources/Images/Cloud/reusable-icons/navbar_designer.png" alt=""/>. </li>
      <li>On the <b>Application Domain</b> page, click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/> for the application domain you want to give the user access to and then select <b>Set User Access</b>.</li>
      <li>In the <b>User Access</b> dialog select the<b> Approval Access</b> tab.</li>
      <li>Perform one of the following actions:</li>
      <ul>
        <li>If your organization doesn't have user groups enabled, click <b>Add User</b>.<br/></li>
        <li> If your organization has user groups enabled, click <b>Add</b> and select either <b>Add User Group</b> or <b>Add User</b>.</li>
      </ul>
    </ol>
    <ol>
      <img src="../../Resources/Images/Event-Portal/user-governance.png" style="padding-left: 10px;padding-right: 10px;padding-top: 10px;padding-bottom: 10px;margin-top: 5px;margin-bottom: 10px;" class="img-border"/>
      <li>In the <b>Name</b> list, type or select the name of the user<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> or user group</MadCap:conditionalText> you want to give the role to. Only users <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">and user groups </MadCap:conditionalText>with the <MadCap:variable name="Product-Names.ep_user"/> role whom you have not already set the event access approver role for appear in the list.<br/></li>
      <li>To remove access , click <b>Remove </b><img src="../../Resources/Images/Cloud/reusable-icons/cross-mark-gray.png" alt=""/> in the row for the user<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> or user group</MadCap:conditionalText>.</li>
      <li>Click <b>Save</b>. </li>
      <li>Repeat steps 3-8 to give event access approver role to another user<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> or user group</MadCap:conditionalText>. </li>
    </ol>
    <p>The user or user group now has the event access approver role and can <MadCap:xref href="#review-access-requests">Manage Event Access Requests.</MadCap:xref></p>
    <p>For more information about Event Portal user access in application domains, see <MadCap:xref href="event-portal-user-access.htm" target="_blank" class="link-internal">Configuring User Access to Event Portal</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="request-access"/>Requesting Event Access</h2>
    <p>If an application references an event that requires approval, a request to access the event must be sent from the application, and be approved by an event access approver before the application can be added to an environment.</p>
    <p>To request event access for an application perform these steps:</p>
    <ol>
      <li><a href="event-portal-designer-tool.htm#Using_Designer" target="_blank" class="link-internal">Open Designer</a>.</li>
      <li>On the <b>Application Domains</b> page, click the application domain that has the application you want approved.</li>
      <li>To open the application details page do one of the following:</li>
      <ul>
        <li>Click <b>Components </b><img src="../../Resources/Images/Cloud/reusable-icons/designer-list.png" alt=""/> to switch to the list view, and select the application you want to request event access for from the list.
            </li>
        <li>Click the icon for the application you want to request event access for in the graph view. In the panel that opens click <b>Open Application</b>.</li>
      </ul>
      <li>In the <b>Request Event Access </b>banner click <b>Manage Requests.<br/><div class="thumbnail-container"><img src="../../Resources/Images/Event-Portal/request-access-message.png" class="solacethumbnail" style="padding-right: 10px;padding-top: 10px;padding-bottom: 10px;margin-left: 0px;margin-top: 15px;margin-bottom: 15px;"/></div><br/></b></li>
      <li>(Optional) Click an event to expand the section and write a comment to be included with the request for that event. </li>
      <li style="font-weight: normal;">Click <b>Send Requests</b> to send the access requests for all the listed events to the approvers  for this application domain.<br/><br/><div class="thumbnail-container"><img src="../../Resources/Images/Event-Portal/event-access-requests.png" class="solacethumbnail" style="padding-left: 10px;padding-right: 10px;padding-top: 10px;padding-bottom: 10px;margin-top: 20px;margin-bottom: 5px;"/></div></li>
      <li>Once the requests have been sent click the <b>Pending Requests</b> tab at the top of the page to view the pending requests.</li>
    </ol>
    <p>Your requests have now been sent to the event access approvers. Once an approver makes their decision, declined requests will return to the <b>Action Required</b> tab with any message the  event access approver has added. Approved requests will be counted in the <b>Pending Requests</b> tab.<MadCap:conditionalText MadCap:conditions="Default.HideFromAllOutput"> </MadCap:conditionalText></p>
    <h2 class="with-rule"><a name="review-access-requests"/>Reviewing Event Access Requests</h2>
    <p>If you have at least event access approver access, you can approve, decline, or revoke previously approved event access requests from the <b>Event Access Requests</b> page. Revoking access only changes the request to declined from approved. If access is revoked while the application is actively publishing or subscribing to the event, no changes are made to the operational event broker.</p>
    <p>To manage event access requests perform these steps:</p>
    <ol>
      <li><a href="event-portal-designer-tool.htm#Using_Designer" target="_blank" class="link-internal">Open Designer</a>.</li>
      <li>Click <b>More Actions</b> <img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/> in the top right corner of the page and select <b>Event Access Requests</b>.</li>
      <li>In the <b>Awaiting Review</b> tab click the event that you want to review, and click <b>Review</b> in the panel that opens.</li>
      <li>In the <b>Review Event Access Request</b> dialog select <b>Approve</b> or <b>Decline</b>.</li>
      <li>(Optional) If you decline the request add a message for the requestor.</li>
      <li>Click <b>Send Review</b>.</li>
      <li>If you want to view the event access requests that you have made a decision on click the <b>Closed Requests</b> tab and select the event you want to view. </li>
      <li>If you want to approve a previously declined event access request you can click <b>Approve </b>in the dialog that opens. Likewise, if you want to revoke the access of a previously approved event access request you can click <b>Revoke Access</b>.</li>
    </ol>
    <h2 class="with-rule"><a name="notifications"/>Notifications</h2>
    <p>By default users requesting event access for an application are notified in the Cloud Console and by email when the approval status of a request changes.</p>
    <p>Users who can review event access requests are notified in the Cloud Console and by email by default when a new event access request is created and needs to be reviewed.</p>
    <p>For information about managing your notification settings, see <a href="../gc_system_notification.htm" target="_blank" class="link-internal">System Notifications</a>.</p>
  </body>
</html>
