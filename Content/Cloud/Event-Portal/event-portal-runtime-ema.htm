<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Default.ContentProductLink">
  <body>
    <h1><MadCap:concept term="Cloud"/>Setting Up <MadCap:variable name="Product-Names.ep_runtime_agent"/>s to Upload Scanned Files</h1>
    <p>Upload Scan File mode uses two <MadCap:variable name="Product-Names.ep_runtime_agent"/>s:</p>
    <ul>
      <li>
        <p> A standalone agent has a connection to one or more runtime event brokers and, optionally, a Confluent Schema Registry. The standalone agent runs the discovery scan. </p>
      </li>
      <li>
        <p>A connected agent has a connection to <MadCap:variable name="Product-Names.eventportal_product_short"/>. You copy  the scan file from the standalone agent to the connected agent and upload it to <MadCap:variable name="Product-Names.eventportal_product_short"/> manually.</p>
      </li>
    </ul>
    <p>You may choose Upload Scan File mode for several use cases, including: </p>
    <ul>
      <li>
        <p>You want to import runtime event broker data into additional tools that support AsyncAPI specifications.</p>
      </li>
      <li>
        <p>Your organization's policies don't allow you to connect <MadCap:variable name="Product-Names.eventportal_product_short"/> to your event brokers.</p>
      </li>
      <li>
        <p>You want to redact sensitive data from scan files before manually uploading the data to <MadCap:variable name="Product-Names.eventportal_product_short"/>.</p>
      </li>
    </ul>
    <h3>Prerequisites</h3>
    <p>You can install the two <MadCap:variable name="Product-Names.ep_runtime_agent"/> instances on the same computer or two separate computers. The computers where you set up <MadCap:variable name="Product-Names.ep_runtime_agent"/>s  must meet these requirements:</p>
    <ul>
      <li>
        <p>at least one CPU and one GB of RAM</p>
      </li>
      <li>
        <p style="font-style: normal;">either <a href="https://www.docker.com/" target="_blank" class="link-offsite">Docker </a>or <a href="http://www.oracle.com/ca-en/java/technologies/downloads/#java17" target="_blank" class="link-offsite">Java 17</a>.</p>
      </li>
      <li>
        <p>the standalone agent that performs the discovery scan requires network access to the event brokers that you want to discover runtime data from, and to any Confluent Schema Registries that you want to get schema data from</p>
      </li>
      <li>
        <p>the connected agent that uploads scan data to <MadCap:variable name="Product-Names.eventportal_product_short"/> must have Internet access to connect to <MadCap:variable name="Product-Names.eventportal_product_short"/></p>
      </li>
    </ul>
    <p> For network performance, <MadCap:variable name="Variables.CompanyName"/> recommends installing standalone <MadCap:variable name="Product-Names.ep_runtime_agent"/>s in proximity to the runtime event brokers that they scan. </p>
    <p>You can install <MadCap:variable name="Product-Names.ep_runtime_agent"/>s using Docker or Java by following the instructions available in <MadCap:variable name="Product-Names.ep_rt_event_manager"/>. <MadCap:variable name="Variables.CompanyName"/> recommends using Docker unless your security requirements don't allow you to do so.</p>
    <p class="Note">The required <MadCap:variable name="Product-Names.ep_runtime_agent"/> files are also available for download in the <a href="https://github.com/SolaceProducts/event-management-agent" target="_blank" class="link-offsite">Solace Products GitHub repository</a>. Instructions to install and use the <MadCap:variable name="Product-Names.ep_runtime_agent"/> are also in the GitHub repository. <MadCap:variable name="Variables.CompanyName"/> recommends using the procedure documented here and in the <MadCap:variable name="Product-Names.ep_rt_event_manager"/>.</p>
    <h2><a name="Setting_Up_standalone"/>Setting Up the <MadCap:variable name="Product-Names.ep_runtime_agent"/>s</h2>
    <p>You can view instructions to set up <MadCap:variable name="Product-Names.ep_runtime_agent"/>s in <MadCap:variable name="Product-Names.ep_rt_event_manager"/>. After you <a href="event-portal-collect-runtime-data.htm#creating_connection_file" class="link-internal">Set up an <MadCap:variable name="Product-Names.ep_runtime_agent"/> connection</a>, you can proceed directly to setting up the <MadCap:variable name="Product-Names.ep_runtime_agent"/>s, or you can return to the set up at a later time.</p>
    <p>To set up <MadCap:variable name="Product-Names.ep_runtime_agent"/>s for Upload Scan File mode, perform these steps:</p>
    <ol>
      <li>On the <MadCap:variable name="Product-Names.ep_rt_event_manager" style="font-weight: bold;"/> home page, select the <b>Event Management Agents</b> tab.</li>
      <li>Click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/>for the <MadCap:variable name="Product-Names.ep_runtime_agent"/> connection that you want to set up the agents for and select<b> Install </b><MadCap:variable name="Product-Names.ep_runtime_agent" style="font-weight: bold;"/>.</li>
      <li>Follow the instructions on the<b> Install </b><MadCap:variable name="Product-Names.ep_runtime_agent" style="font-weight: bold;"/> page: <ol style="list-style-type: lower-alpha;"><li>Select whether you are using <b>Docker</b> or <b>Java</b>.</li><li>Pull the Docker image or download/copy the latest version of the JAR file to the computers where you will install the standalone and connected agents. </li><li>Click <b>Download </b><img src="../../Resources/Images/Cloud/reusable-icons/download.png" alt=""/> to download the <MadCap:variable name="Product-Names.ep_runtime_agent"/> connection file for the <b>Standalone</b> agent that connects to your runtime event brokers. Make sure that the filename doesn't contain spaces or special characters, or that it is wrapped in quotation marks to avoid OS-related filename errors.</li><li>Click <b>Download </b><img src="../../Resources/Images/Cloud/reusable-icons/download.png" alt=""/> to download the <MadCap:variable name="Product-Names.ep_runtime_agent"/> connection file for the <b>Connected</b> agent that connects to <MadCap:variable name="Product-Names.eventportal_product_short"/>. Make sure that the filename doesn't contain spaces or special characters, or that it is wrapped in quotation marks to avoid OS-related filename errors.</li></ol></li>
      <li>Click <b>Complete Installation Setup</b>.</li>
      <li>The <b>Run and Upload Discovery Scan</b> page opens. You can follow the instructions to run a discovery scan and upload it to <MadCap:variable name="Product-Names.eventportal_product_short"/>, or click <b>Finish</b> to close the page.</li>
    </ol>
    <h2><a name="Initiating_event_broker_scan"/>Running and Uploading a Discovery Scan</h2>
    <p>To run a discovery scan and upload the data into <MadCap:variable name="Product-Names.eventportal_product_short"/>, perform these steps:</p>
    <ol>
      <li>On the <MadCap:variable name="Product-Names.ep_rt_event_manager" style="font-weight: bold;"/> home page, select the <b>Event Management Agents</b> tab.</li>
      <li>Click <b>More Actions</b><img src="../../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" alt=" "/>for the <MadCap:variable name="Product-Names.ep_runtime_agent"/> that you want to use to run a discovery scan and select<b> Run and Upload Discovery Scan</b>.</li>
      <li>Follow the instructions on the <b>Run and Upload Discovery Scan</b> page: <ol style="list-style-type: lower-alpha;"><li>Select whether you are using <b>Docker</b> or <b>Java</b>.</li><li>Follow the instructions on the page to run the scan using either the Docker CLI or Java. For more information about setting a custom scan type, see <MadCap:xref href="#Scan_Type">Scan Types</MadCap:xref>.</li><li>Copy the scan file from the standalone <MadCap:variable name="Product-Names.ep_runtime_agent"/> to the connected <MadCap:variable name="Product-Names.ep_runtime_agent"/>.</li><li>(Optional). If necessary, delete any sensitive data that you don't want to upload to <MadCap:variable name="Product-Names.eventportal_product_short"/> from the scan file.</li><li>Follow the instructions on the page to upload the scan file to <MadCap:variable name="Product-Names.eventportal_product_short"/>using the connected agent.</li></ol></li>
      <li>Click <b>Finish</b> to close the page.</li>
      <li>Go to the <b>Audit</b> tab for the modeled event mesh containing the model event brokers to verify that your data uploaded successfully.</li>
    </ol>
    <h3><a name="Scan_Type"/>Scan Types</h3>
    <p>The <code>scanTypes</code> parameter specifies what the <MadCap:variable name="Product-Names.ep_runtime_agent"/> scans. It has the following values:</p>
    <h5>Solace</h5>
    <ul>
      <li><code>SOLACE_QUEUE_CONFIG</code>: Solace queue configurations</li>
      <li><code>SOLACE_QUEUE_LISTING</code>: Solace queue listing</li>
      <li><code>SOLACE_SUBSCRIPTION_CONFIG</code>: Solace subscription configurations</li>
      <li><code>SOLACE_ALL</code>: All of the above</li>
    </ul>
    <h5>Kafka</h5>
    <ul>
      <li><code>KAFKA_BROKER_CONFIGURATION</code>: Kafka broker configurations</li>
      <li><code>KAFKA_CLUSTER_CONFIGURATION</code>: Kafka cluster configurations</li>
      <li><code>KAFKA_CONSUMER_GROUPS</code>: Kafka consumer groups</li>
      <li><code>KAFKA_CONSUMER_GROUPS_CONFIGURATION</code>: Kafka consumer group configurations</li>
      <li><code>KAFKA_FEATURES</code>: Kafka feature</li>
      <li><code>KAFKA_PRODUCERS</code>: Kafka producers</li>
      <li><code>KAFKA_TOPIC_CONFIGURATION</code>: Kafka topic configurations</li>
      <li><code>KAFKA_TOPIC_CONFIGURATION_FULL</code>: Kafka topic configurations full</li>
      <li><code>KAFKA_TOPIC_LISTING</code>: Kafka topic listing</li>
      <li><code>KAFKA_TOPIC_OVERRIDE_CONFIGURATION</code>: Kafka topic override configurations</li>
      <li><code>KAFKA_ALL</code>: All of the above</li>
    </ul>
    <h5>Confluent Schema Registry:</h5>
    <ul>
      <li><code>CONFLUENT_SCHEMA_REGISTRY_SCHEMA</code>: Confluent Registry schemas <a name="viewing_logs"/></li>
    </ul>
    <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/Event-Portal/Viewing_EMA_Logs.flsnp"/>
    <p>If you used Java to install the <MadCap:variable name="Product-Names.ep_runtime_agent"/> and run discovery scans, the logs are available in the terminal.</p>
  </body>
</html>
