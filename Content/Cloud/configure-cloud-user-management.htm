<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Configuring User Access</h1>
    <p>As an administrator, you can manage users, <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">user groups, </MadCap:conditionalText>roles, and permission from the <MadCap:variable name="Product-Names.cloud_product_short"/> console or using the <MadCap:variable name="Product-Names.cloud_product_short"/> REST API. For more information about using the REST API, see <MadCap:xref href="ght_use_rest_api_users.htm">Managing Users with the <MadCap:variable name="Product-Names.cloud_product_short"/> REST API</MadCap:xref>. </p>
    <p MadCap:conditions="SAP.SapHideFromOutput">You can invite users and set roles manually. If you enable <a href="cloud-sso.htm" class="link-internal">single sign-on</a> (SSO) you can also enable group management to add and manage users dynamically. You can choose the level of user management that you want to do manually:</p>
    <dl MadCap:conditions="SAP.SapHideFromOutput">
      <dt MadCap:conditions="SAP.SapHideFromOutput">Manual configuration</dt>
      <dd MadCap:conditions="SAP.SapHideFromOutput">
        <p>If SSO is not enabled, you must <a href="#Manually" class="link-internal">manually configure all user settings</a>.</p>
      </dd>
      <dt MadCap:conditions="SAP.SapHideFromOutput">SSO without group management</dt>
      <dd MadCap:conditions="SAP.SapHideFromOutput">
        <p>If you enable SSO without group management, users must authenticate with your identity provider to log in to the <MadCap:variable name="Product-Names.console_ui_short"/>. You must <a href="#Adding" class="link-internal">invite users</a> and <a href="#Editing" class="link-internal">set their roles</a> manually. </p>
      </dd>
      <dt MadCap:conditions="SAP.SapHideFromOutput">SSO with group management</dt>
      <dd MadCap:conditions="SAP.SapHideFromOutput">
        <p>If you create user groups with assigned roles and map the user claim values that <MadCap:variable name="Product-Names.cloud_product_short"/> receives from your identity provider (IdP) to the user groups, users are dynamically added to a user group when they log in based on the claim values received from the IdP. If a user's claim value does not match a claim value mapped to a user group, the user can be either denied access or added to a default group. You must still <a href="#Adding" class="link-internal">invite users manually</a>, before they can log in. For more information, see <MadCap:xref href="cloud-group-management.htm">Configuring Group Management</MadCap:xref>.</p>
      </dd>
      <dt MadCap:conditions="SAP.SapHideFromOutput">SSO with group management and just-in-time provisioning</dt>
      <dd MadCap:conditions="SAP.SapHideFromOutput">
        <p>If you enable just-in-time provisioning along with group management, you only need to provide new users with the <a href="cloud-login-urls.htm" class="link-internal">log in URL</a> for <MadCap:variable name="Product-Names.cloud_product_short"/>. When users log in for the first time through their IdP, their account is dynamically created and they are then added to a user group based on their claim value. For more information, see <MadCap:xref href="cloud-group-management.htm#Group_Claim_Mapping">Managing User Groups</MadCap:xref>.</p>
      </dd>
    </dl>
    <p>For overview information about user management, see <MadCap:xref href="cloud-user-management.htm">Managing Users, Roles, and Permissions in [%=Product-Names.cloud_product_short%]</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="Manually"/><MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">Manually </MadCap:conditionalText>Configuring User Settings</h2>
    <p>You can <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">manually </MadCap:conditionalText>manage users, roles, and permissions for your <MadCap:variable name="Product-Names.cloud_product_short"/> account by performing these tasks:</p>
    <ul>
      <li>
        <MadCap:xref href="#Adding">Adding a User</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Resendin">Resending an Activation Email</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Editing">Changing User Roles</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Deleting">Deleting a User </MadCap:xref>
      </li>
    </ul>
    <h3><a name="Adding"/>Adding a User</h3>
    <p>To add a user to an account, perform these steps:</p>
    <ol>
      <li>
        <MadCap:snippetBlock src="../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/>
      </li>
      <li>On the navigation bar, click <b>User &amp; Account</b> <img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>On the <b>Account Details</b> page, select the <b>User Management</b> tab, and click  <b>Invite</b>.</li>
      <li>In the <b>Invite User</b> dialog, fill the <b>Email Address</b> field. <p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/add-new-user-dialog.png" alt="Screenshot depicting the settings described in the surrounding text."/></div></p></li>
      <li>Optionally, you can change the default <b>User Roles</b> setting.
For more information, see <MadCap:xref href="#Editing">Editing Roles and Permissions</MadCap:xref>. <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">If you set up SSO and enable group management, the roles assigned to the user group replace any manually assigned roles.</MadCap:conditionalText></li>
      <li>Click <b>Invite</b>.</li>
    </ol>
    <p>After you add the user, the user  receives a confirmation email with an account activation link.</p>
    <p class="Note">Have users check their spam folders or junk mail to ensure that the invitation email has not been filtered.</p>
    <h3><a name="Resendin"/>Resending an Activation Email</h3>
    <p>After you add a new user to an account, the account status remains pending until the user clicks the account activation link in the email message. You can resend the account activation email as a reminder.</p>
    <p>To resend an account activation email, perform these steps:</p>
    <ol>
      <li>On the navigation bar, click <b>User &amp; Account</b> <img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>On the <b>Account Details</b> page, select the <b>User Management</b> tab.</li>
      <li>Find the user that want resend the invitation to. Optionally, you can type in the <b>Search Emails</b> field to filter the user accounts that are visible.</li>
      <li>For the user, click  <b>User Actions</b> <img src="../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" alt=""/>, and then select <b>Re-send Invite</b>. Note that the option to resend the invite appears only if the user hasn't accepted an invitation to log in to <MadCap:variable name="Product-Names.cloud_product_short"/>.</li>
    </ol>
    <p>If you have <MadCap:variable name="Product-Names.insights_long"/>, you can re-send the Datadog invite separately. For more information, see <MadCap:xref href="Insights/Advanced-Monitoring/access-datadog.htm#resend-datadog-invite">Resending an Invitation Email from Datadog</MadCap:xref>.</p>
    <h3><a name="Editing"/>Changing User Roles</h3>
    <p>As an account administrator, you can  change the role of any existing user; however, you can't remove the administrator role from yourself nor delete yourself </p>
    <p MadCap:conditions="SAP.SapHideFromOutput">If you enable group management, the roles assigned to the user group replace any manually assigned roles.</p>
    <p>To edit the roles and permissions of a user, perform the following steps:</p>
    <ol>
      <li>On the navigation bar, click <b>User &amp; Account</b> <img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>On the <b>Account Details</b> page, select the <b>User Management</b> tab.</li>
      <li>In the list of users, find the user whose roles you want to change. Optionally, you can filter the list based on role or use the search to quickly find user accounts that are visible. </li>
      <li>
        <p>For the user, click <b> User Actions</b> <img src="../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" style="width: 27px;height: 25px;" alt=""/>, and then select <b>Edit</b>. 
					<p><div class="thumbnail-container"><img class="solacethumbnail" src="../Resources/Images/Cloud/user-role-edit.png" alt="Screenshot depicting the settings described in the surrounding text."/></div></p></p>
      </li>
      <li>Update the roles and permission as required, and then click <b>Save</b>.</li>
    </ol>
    <p>The user is immediately updated with the roles and permissions you specified. Note that if you add or remove the <MadCap:variable name="Product-Names.insights_adv_editor"/> role, the following occurs:<br/></p>
    <ul>
      <li>When you add the role, a Datadog account is created for the user and an invitation is sent to them. For more information, see <MadCap:xref href="Insights/Advanced-Monitoring/access-datadog.htm#add-user-datadog-access" target="_blank">Configuring an Existing User to Access Datadog</MadCap:xref>.</li>
      <li>When you remove the role, the Datadog account is deactivated. For more information, see <MadCap:xref href="Insights/Advanced-Monitoring/access-datadog.htm#remove-datadog-access" target="_blank">Removing Datadog Access for a User</MadCap:xref>.</li>
    </ul>
    <h3><a name="Deleting"/>Deleting a User </h3>
    <p>As an account administrator, you can delete any user from an account except yourself. </p>
    <p>If the user you delete  has the <MadCap:variable name="Product-Names.insights_adv_editor" style="font-weight: bold;"/> role assigned, the corresponding Datadog account is disabled.</p>
    <p class="Warning">If the user owns any <MadCap:variable name="Product-Names.broker_cloud_short"/>s, reassign them to yourself or another user before you delete the user.</p>
    <p>To delete a user from an account, perform the following steps:</p>
    <ol>
      <li>On the navigation bar, click <b>User &amp; Accounts</b> <img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>On the <b>Account Details</b> page, select the <b>User Management</b> tab.</li>
      <li>Identify the user that you to want to delete from your <MadCap:variable name="Product-Names.cloud_product_short"/> account. Optionally, you can filter the list based on role or use the search to quickly find user accounts that are visible. </li>
      <li>For the user, click <b>User Actions</b> <img src="../Resources/Images/Cloud/reusable-icons/more_actions_ellipsis.png" class="img.img-inline" style="width: 27px;height: 25px;" alt=""/>, and then select <b>Delete</b></li>
      <li>Verify that email address matches the user you want to delete, and click <b>Confirm</b>.</li>
    </ol>
    <h2 MadCap:conditions="Default.HideFromAllOutput"><a name="Configur"/>Dynamically Assigning User Roles </h2>
    <p MadCap:conditions="Default.HideFromAllOutput">If you have enabled <a href="cloud-sso.htm" class="link-internal">SSO</a>, you can configure role management so that users are automatically assigned roles based on claim values received from the identity provider when the user logs in. Any manually assigned roles are replaced by roles assigned dynamically.</p>
    <p MadCap:conditions="Default.HideFromAllOutput">When you enable role management, you map claim values provided by your identity provider with <MadCap:variable name="Product-Names.cloud_product_short"/> roles. You can also set a default role to assign users if their claim value is not mapped to a role and enable just-in-time provisioning so you don't have to invite users manually.</p>
    <p MadCap:conditions="Default.HideFromAllOutput">Before you enable role management for your <MadCap:variable name="Product-Names.cloud_product_short"/> account, you need to perform these tasks:</p>
    <ul MadCap:conditions="Default.HideFromAllOutput">
      <li>
        <a href="selfserve-cloud-sso.htm" class="link-internal">Enable SSO for <MadCap:variable name="Product-Names.cloud_product_short"/></a>
      </li>
      <li>Configure your identity provider to provide claim values that you can map to user roles. For more information, see, <MadCap:xref href="setup-claims-with-your-idp.htm">Configuring an OpenID Connect Identity Provider </MadCap:xref></li>
    </ul>
    <p MadCap:conditions="Default.HideFromAllOutput">To enable role management, perform these steps:</p>
    <ol MadCap:conditions="Default.HideFromAllOutput">
      <li>On the navigation bar, click <b>User &amp; Account</b> <img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>On the <b>Account Details</b> page, select the <b>User Management</b> tab.</li>
      <li>Click <b>Role Management</b>. This option is available only if SSO is enabled for the account.<div class="thumbnail-container" MadCap:conditions="Default.HideFromAllOutput"><img class="solacethumbnail" src="../Resources/Images/Cloud/role-management1.png" alt="Screenshot depicting the settings described in the surrounding text."/></div></li>
      <li>On the Role Management screen, perform the following steps:<div class="thumbnail-container" MadCap:conditions="Default.HideFromAllOutput"><img class="solacethumbnail" src="../Resources/Images/Cloud/role-management2.png" alt="Screenshot depicting the settings described in the surrounding text."/></div><ol style="list-style-type: lower-alpha;" MadCap:conditions="Default.HideFromAllOutput"><li>In the <b>Group, Role Identifier or Claim</b> field, add the claim name or key that provides the claim values that you want to map to roles.  You can create custom claims or use existing claims, such as the Groups claim. For more information, see <MadCap:xref href="cloud-user-management.htm#Role">Role Management</MadCap:xref>.</li><li>Click <b>Add Role Mapping</b>.</li><li>In the <b>Role</b> table, add a <b>Claim Value</b> that you expect to receive from the identity provider and select one or more <b>Roles</b> to map to the claim value. Your claim value can be a user email or a group where multiple users can be assigned the same value.</li><li> Click <b>Add</b>.</li><li>(Optional) Select  <b>Enable Just-In-Time provisioning</b> to allow users who are able to authenticate with the identity provider to log in to <MadCap:variable name="Product-Names.cloud_product_short"/> and be assigned a role without being manually invited first.</li><li>(Optional) Select  <b>Customize Default Role</b> and select a default role from the  <b>PubSub+ Role(s)</b> list. When selected, if no defined role mappings match the user claim value, the user is assigned the specified default role. If not selected, if no claim value for the user is mapped to a role, the user is denied access.</li><li>Click <b>Test Access</b> &gt; <b>Run Test</b>. to test the updates to ensure that your administrator account is allowed access with the new settings. <p>A message confirms whether you will still have administrator privileges on the account after the settings are applied. If you will lose administrator access, update the settings before continuing.</p></li><li>Click <b>Save</b> to enable role management.</li></ol></li>
    </ol>
    <h2 MadCap:conditions="Default.HideFromAllOutput"><a name="disabling"/>Disabling Role Management </h2>
    <p MadCap:conditions="Default.HideFromAllOutput">To disable role management, perform these steps:</p>
    <ol MadCap:conditions="Default.HideFromAllOutput">
      <li>
        <MadCap:snippetText src="../Resources/Snippets/Cloud/Task_UI_Snippets/login_console.flsnp"/>
      </li>
      <li>On the navigation bar, click <b>User &amp; Account</b> <img src="../Resources/Images/Cloud/reusable-icons/useraccount_green_navbar.png" class="img.img-inline" alt=" "/> and then select <b>Account Details</b>.</li>
      <li>On the <b>Account Details</b> page, select the <b>User Management</b> tab.</li>
      <li>Click <b>Role Management</b>.</li>
      <li>On the <b>Role Management</b> screen, click <b>Disable</b>.</li>
      <li>In the dialog box that appears, click <b>Disable</b>.</li>
    </ol>
    <p MadCap:conditions="Default.HideFromAllOutput">When role management is disabled, dynamic role assignment is turned off. All existing users  keep their current assigned roles.</p>
  </body>
</html>
