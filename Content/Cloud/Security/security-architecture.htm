<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1><MadCap:concept term="Cloud"/>Security Architecture for <MadCap:variable name="Product-Names.cloud_product_titlecase"/></h1>
    <p><MadCap:variable name="Product-Names.cloud_product_firstuse_initialcase"/>  is highly available and secure<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> as it follows the PubSub+ event broker security practices for a SaaS service</MadCap:conditionalText>. <MadCap:variable name="Product-Names.cloud_product_short_initialcase"/> is designed with security in mind. </p>
    <p>In <MadCap:variable name="Product-Names.cloud_product_short"/>, architecture is partially determined by the deployment options you choose, which specifies where your event brokers reside. These deployment-based architecture differences affect various aspects of security and can determine whether you (the customer) or <MadCap:variable name="Variables.CompanyName"/> is responsible for certain security tasks in your deployment. To understand the security architecture, you should first understand the differences between the deployment options.</p>
    <h2><a name="deployment-security-architecture"/>Deployment Options</h2>
    <p>The <a href="../Deployment-Considerations/deployment-options.htm" class="link-internal">deployment options</a> can be broken down to the ownership model that the customer chooses and its connectivity. For more information about deployment options and connectivity, see <MadCap:xref href="../Deployment-Considerations/deployment-options-ownership.htm">[%=Product-Names.cloud_product_titlecase%] Deployment Ownership Models</MadCap:xref> and <MadCap:xref href="../Deployment-Considerations/deployment-options-connectivity.htm">[%=Product-Names.cloud_product_short%] Deployment Connectivity Models</MadCap:xref>. </p>
    <p>The following is a summary of the deployment ownership and connectivity options.</p>
    <ul>
      <li>
        <b>Ownership Model</b>
        <ul>
          <li>
            <MadCap:snippetBlock src="../../Resources/Snippets/CloudDeployment/deployment-ownership-models.flsnp"/>
          </li>
          <li>The ownership determines who is responsible for the security of the infrastructure and connectivity and is summarized as follows:<ul><li> The infrastructure in <MadCap:variable name="Variables.CompanyName"/>-controlled   regions (<MadCap:variable name="Product-Names.public_region"/>s and <MadCap:variable name="Product-Names.dedicated_region"/>s) is secure by default for the customer because <MadCap:variable name="Variables.CompanyName"/> manages the security for the infrastructure. The customer and <MadCap:variable name="Variables.CompanyName"/> collaborate to ensure connectivity requirements are satisfied.</li><li>In <MadCap:variable name="Product-Names.customer-controlled_region"/>s,  the customer must manage the security for the infrastructure as well as the connectivity requirements.</li></ul></li>
        </ul>
      </li>
      <li>
        <b>Connectivity</b>
        <ul>
          <li>
            <MadCap:snippetBlock src="../../Resources/Snippets/CloudDeployment/deployment-connectivity-models.flsnp"/>
          </li>
          <li>Additional network configuration for <MadCap:variable name="Product-Names.dedicated_region"/>s is required for messaging clients to connect to the <MadCap:variable name="Product-Names.broker_cloud_short"/>s and the responsibility is related to the ownership model chosen as follows:<ul><li>For deployments in <MadCap:variable name="Product-Names.public_region"/>s,  the customer manages the access of client applications  within a private network to the <MadCap:variable name="Product-Names.broker_cloud_short"/>s. The customer is  required to set up the connectivity from the private IP addresses or hybrid configurations (e.g., permit external access to the public Internet or configure VPC/VNet peering).</li><li>For deployments in <MadCap:variable name="Product-Names.dedicated_region"/>s, the customer manages the access of client applications within a private network to the <MadCap:variable name="Product-Names.broker_cloud_short"/>s. <MadCap:variable name="Variables.CompanyName"/> and the customer collaborate to ensure that the deployment matches the customer's messaging connectivity requirements. For example, if the customer has client applications that reside in a private network (i.e., private IP addresses within a VPC/VNet), <MadCap:variable name="Variables.CompanyName"/> exchanges route information with the customer to set up VPC/VNet peering, AWS Transit Gateway, or set up connectivity in the <MadCap:variable name="Product-Names.dedicated_region"/>. </li><li>For deployments in <MadCap:variable name="Product-Names.customer-controlled_region"/>s, the customer  manages the connectivity  and takes care of setting up the necessary configuration for connectivity from their client applications to their <MadCap:variable name="Product-Names.broker_cloud_short"/>s. (e.g., VPC/VNet peering, site-to-site VPN, AWS Direct Connect, Transit Gateway, loadbalancer, NAT configuration, etc.). </li></ul></li>
        </ul>
      </li>
    </ul>
    <p>For more information about the security responsibilities of the customer and <MadCap:variable name="Variables.CompanyName"/> based on the deployment model and ownership, see <MadCap:xref href="security-details-summary.htm">Customer Roles and Responsibilities for Security</MadCap:xref>. </p>
    <h2><a name="Summary"/>Security Considerations</h2>
    <p>All <MadCap:variable name="Product-Names.cloud_product_short"/> deployments have well-defined architectures that share the same  security considerations. The option you choose determines whether <MadCap:variable name="Variables.CompanyName"/> or you (the customer) are responsible for managing different aspects of security. The <MadCap:variable name="Product-Names.cloud_product_short"/> security architecture considerations include:</p>
    <ul>
      <li>Do the <MadCap:variable name="Product-Names.broker_cloud_short"/>s need to be publicly available from the Internet?<ul><li>For publicly accessible <MadCap:variable name="Product-Names.broker_cloud_short"/>s, they can be deployed to <a href="../Deployment-Considerations/deployment-options-ownership.htm#public-cloud" class="link-internal"><MadCap:variable name="Product-Names.public_region"/>s</a>. You can also choose to deploy to a <a href="../Deployment-Considerations/deployment-options-ownership.htm#solace-owned-vnet" class="link-internal"><MadCap:variable name="Product-Names.dedicated_region"/>s</a> or <a href="../Deployment-Considerations/deployment-options-ownership.htm#customer-owned-vnet" class="link-internal"><MadCap:variable name="Product-Names.customer-controlled_region"/>s</a>.</li></ul><ul><li>For non-public <MadCap:variable name="Product-Names.broker_cloud_short"/>s, <MadCap:variable name="Variables.CompanyName"/> recommends that deployments are made in a Kubernetes cluster within an isolated Virtual Private Cloud or Virtual Network (VPC/VNet). These type of deployments are available in <MadCap:variable name="Product-Names.dedicated_region"/>s or <MadCap:variable name="Product-Names.customer-controlled_region"/>s.</li></ul></li>
      <li>What is the connectivity model used to access <MadCap:variable name="Product-Names.broker_cloud_short"/>s? <ul><li>The messaging connectivity model that the customer chooses for client applications may influence the requirements for the <MadCap:variable name="Product-Names.operational_connectivity"/> (that is, the connectivity to the <MadCap:variable name="Product-Names.home_cloud_long"/> and the central monitoring service). <MadCap:variable name="Product-Names.operational_connectivity"/> to <MadCap:variable name="Product-Names.home_cloud_short"/> and the central monitoring service is a requirement for <MadCap:variable name="Product-Names.broker_cloud_short"/>s to function and is not optional. You can use either <MadCap:variable name="Product-Names.public_region"/>s, <MadCap:variable name="Product-Names.dedicated_region"/>s, or <MadCap:variable name="Product-Names.customer-controlled_region"/>s.</li><li><MadCap:variable name="Variables.CompanyName"/> recommends that client applications connect using VPC/VNet peering or loadbalancer  when using private IP addresses.  It is possible to deploy <MadCap:variable name="Product-Names.broker_cloud_short"/>s in the same Kubernetes cluster alongside the client applications that use the <MadCap:variable name="Product-Names.broker_cloud_short"/>s. This configuration may be a preferred deployment option based on the customer's security requirements. This option is available only in <MadCap:variable name="Product-Names.customer-controlled_region"/>s.</li></ul></li>
    </ul>
    <h2><a name="considerations-solace-owned-options"/><a name="security-architecture-details"/>Security Architecture Overview</h2>
    <p>All supported deployment models permit <MadCap:variable name="Product-Names.cloud_product_short"/> to meet various security requirements. </p>
    <p>In addition to the deployment model, another factor to consider as part of the customer's security planning is how client applications connect. There are two types of client applications:</p>
    <ul>
      <li> publishers and subscriber applications that use <MadCap:variable name="Product-Names.broker_cloud_short"/>s for messaging and passing data; these applications often connect from another VPC/VNet or from public infrastructure</li>
      <li>optionally, the customer can create management applications that manage the lifecycle of an <MadCap:variable name="Product-Names.broker_cloud_short"/>; these applications are usually account specific</li>
    </ul>
    <p>For more information about connectivity, see <MadCap:xref href="security-client-connectivity.htm">Client Application Connectivity and Security</MadCap:xref>.</p>
    <p>Reqardless of the ownership model and connectivity options, each deployment uses a common set of components  as shown in the following diagram:</p>
    <p>
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud-Security/security_architecture_basic.png" class="solacethumbnail" alt="Architecture diagram showing the PubSub+ Cloud components described in the following text."/>
      </div>
    </p>
    <table style="width: 100%;border-left-style: solid;border-left-width: 1px;border-left-color: #e1e1e1;border-right-style: solid;border-right-width: 1px;border-right-color: #e1e1e1;border-top-style: solid;border-top-width: 1px;border-top-color: #e1e1e1;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #e1e1e1;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Component</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1" MadCap:conditions="SAP.SapHideFromOutput">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p><MadCap:variable name="Product-Names.home_cloud_short"/> Region</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p><MadCap:variable name="Variables.CompanyName"/> has regional site for the <MadCap:variable name="Product-Names.home_cloud_long"/>. The <MadCap:variable name="Product-Names.home_cloud_short"/> regions do not share infrastructure, data, or any other system, account, or user information with each other.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <MadCap:variable name="Product-Names.home_cloud_short"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>The <MadCap:variable name="Product-Names.home_cloud_long"/> is a collection of microservices that provides the control plane for deployments of <MadCap:variable name="Product-Names.cloud_product_firstuse"/>.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <MadCap:variable name="Product-Names.console_ui_short"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>The <MadCap:variable name="Product-Names.console_ui_long"/>is a web-based user-interface that gives customers access to <MadCap:variable name="Product-Names.cloud_product_short"/> functionality.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p>Deployment Region</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p>The region where the <MadCap:variable name="Product-Names.cloud_agent_short"/> and <MadCap:variable name="Product-Names.broker_sw_short"/>s are installed based on the ownership model. The regions include:</p>
            <ul>
              <li><MadCap:variable name="Product-Names.public_region"/>s
                            </li>
              <li><MadCap:variable name="Product-Names.dedicated_region"/>s
                            </li>
              <li><MadCap:variable name="Product-Names.customer-controlled_region"/>s
                                <MadCap:conditionalText MadCap:conditions="SAP.SapOnlyOutput"> (sometimes referred to as Customer Private Regions)</MadCap:conditionalText></li>
            </ul>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <MadCap:variable name="Product-Names.cloud_agent_short"/>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>The <MadCap:variable name="Product-Names.cloud_agent_short"/> is a microservice that is required to deploy and manage <MadCap:variable name="Product-Names.broker_cloud_short"/>s.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p><MadCap:variable name="Product-Names.broker_cloud_short_title"/>s</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Event brokers provide the data path to allow applications to communicate in real time. An <MadCap:variable name="Product-Names.broker_cloud_short"/> in <MadCap:variable name="Product-Names.cloud_product_short"/> is  either a standalone <MadCap:variable name="Product-Names.broker_sw_short"/> or a high-availability group of three <MadCap:variable name="Product-Names.broker_sw_short"/>s.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Central Monitoring Service</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>The central monitoring service collects monitoring data (statistics/metrics) and logs from <MadCap:variable name="Product-Names.broker_cloud_short"/>s and stores the information. Operational monitoring metrics, statistics, and logs are centrally monitored from the <MadCap:variable name="Product-Names.home_cloud_short"/>. The central monitoring service is  provided by Datadog. Datadog agents are configured for each event broker service to send monitoring data and logs to the central monitoring service.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p>Client Applications</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p>A client application can be a program, process, microservice, IoT device, integration component or other runnable consumer, producer, or processor that subscribes to or publishes events through an event broker. Applications may reside on the public Internet or in a customer-controlled region.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Management Data</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p> Management data is sent between the <MadCap:variable name="Product-Names.cloud_agent_short"/>, <MadCap:variable name="Product-Names.home_cloud_short"/>, and <MadCap:variable name="Product-Names.broker_cloud_short"/>s.  Management data includes configuration information for <MadCap:variable name="Product-Names.broker_cloud_short"/>s and metadata that is sent back to <MadCap:variable name="Variables.CompanyName"/> through secure ports.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Messaging Data</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Messaging  data, which includes payloads of event messages, refers to the information sent between <MadCap:variable name="Product-Names.broker_cloud_short"/>s and the publishing and subscribing client applications.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>Monitoring Data</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>Monitoring data includes statistics and event broker logs that are sent to the central monitoring service through secure ports.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>For more information about each of the components as they relate to security, see the following sections:</p>
    <ul>
      <li>
        <MadCap:xref href="security-home-cloud.htm">
          <MadCap:variable name="Product-Names.home_cloud_long"/>
        </MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="cloud-console-security.htm">[%=Product-Names.console_ui_long%]</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="mission-control-agent-security.htm">[%=Product-Names.cloud_agent_short%]</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="security-broker-manager.htm">[%=Product-Names.pubsubmanager_short%] </MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="event-broker-security.htm">Event Broker Services</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="security-centralized-monitoring-service.htm">Centralized Monitoring Service and Datadog Agents</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="summary_of_connections.htm">Connection Details</MadCap:xref>
      </li>
    </ul>
    <h3><a name="considerations-customer-owned-public-cloud"/>Security Architecture for <MadCap:variable name="Product-Names.public_region"/>s</h3>
    <p>In <MadCap:variable name="Product-Names.public_region"/>s, the <MadCap:variable name="Product-Names.broker_cloud_short"/>s are deployed in a publicly accessible, shared region that is controlled and managed by <MadCap:variable name="Variables.CompanyName"/>. Client applications access the <MadCap:variable name="Product-Names.broker_cloud_short"/>s over the public Internet. <MadCap:variable name="Variables.CompanyName"/> manages the infrastructure, and always uses the most recent security practices.</p>
    <p>The <MadCap:variable name="Product-Names.broker_cloud_short"/>s are deployed to  shared Kubernetes clusters per region (Google Cloud Platform) or shared VPCs/VNets per region (AWS or Azure), depending on the cloud provider chosen.</p>
    <p>The <MadCap:variable name="Product-Names.public_region"/> deployment is best suited for environments where client applications access services from the public Internet. These can also include client applications from within a customer network, but in this situation, the customer must manage the access to applications from their own private network to the Internet. </p>
    <p>In the following diagram, the red box shows the customer's security architecture responsibilities:</p>
    <p>
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud-Security/responsibilities_public_cloud.png" class="solacethumbnail" alt="Architecture diagram highlighting client applications within the public Internet or a customer-controlled region."/>
      </div>
    </p>
    <p>For a summary of the security responsibilities, see <MadCap:xref href="security-details-summary.htm">Customer Roles and Responsibilities for Security</MadCap:xref>.</p>
    <h3><a name="considerations-solace-owned-vpc"/>Security Architecture for <MadCap:variable name="Product-Names.dedicated_region"/>s</h3>
    <p>In deployments in <MadCap:variable name="Product-Names.dedicated_region"/>s, <MadCap:variable name="Variables.CompanyName"/> also manages the infrastructure using the most recent security practices.<MadCap:variable name="Variables.CompanyName"/> ensures that the configuration of the  Kubernetes cluster is secure and  that your client applications have connectivity. </p>
    <p>In this option, the <MadCap:variable name="Product-Names.broker_cloud_short"/>s are run within infrastructure that is dedicated to the customer; usually <MadCap:variable name="Product-Names.broker_cloud_short"/>s are not publicly accessible from the Internet. Client applications access the <MadCap:variable name="Product-Names.broker_cloud_short"/> from another private network, which is customer-controlled.</p>
    <p>This option is ideal when client applications do not access the <MadCap:variable name="Product-Names.broker_cloud_short"/>s from the public Internet. Client applications can connect using VPC/VNet peering technology.  It is also possible to configure this option to use a <a href="../Deployment-Considerations/connectivity-model-k8s.htm#event-broker-connectivity" class="link-internal">hybrid connectivity model</a>.</p>
    <p>In the following diagram, the red box shows the customer's security architecture responsibilities:</p>
    <p>
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud-Security/VPC_solace_owned_vpc.png" class="solacethumbnail" alt="Architecture diagram highlighting client applications within a customer-controlled region."/>
      </div>
    </p>
    <p>For a summary of the security responsibilities, see <MadCap:xref href="security-details-summary.htm">Customer Roles and Responsibilities for Security</MadCap:xref>.</p>
    <h3><a name="considerations-customer-owned-options"/>Security Architecture for <MadCap:variable name="Product-Names.customer-controlled_region"/>s</h3>
    <p>In <MadCap:variable name="Product-Names.customer-controlled_region"/>s, the customer deploys the <MadCap:variable name="Product-Names.broker_cloud_short"/>s to a dedicated private network, which the customer controls. A <MadCap:variable name="Product-Names.customer-controlled_region"/> gives the customer the most control over security, network configuration, and segregation to deploy <MadCap:variable name="Product-Names.broker_cloud_short"/>s and configure their infrastructure. The customer also controls the Kubernetes cluster (which can be either on-premises or in the cloud) and all aspects of the VPC/VNet where the Kubernetes cluster resides. </p>
    <p MadCap:conditions="SAP.SapHideFromOutput"><MadCap:variable name="Variables.CompanyName"/>  recommends that <MadCap:variable name="Product-Names.broker_cloud_short"/>s are deployed to Kubernetes clusters whenever possible because of the inherent operational, flexibility,  and security advantages. Kubernetes  provides better fine-grained control and superior security compared to VM-based deployments. For more information, see <MadCap:xref href="../Deployment-Considerations/deployment-architecture-k8s.htm">Deploying [%=Product-Names.cloud_product_short%] with Kubernetes</MadCap:xref>.</p>
    <p MadCap:conditions="SAP.SapHideFromOutput">Though deprecated, <MadCap:variable name="Variables.CompanyName"/> does support existing deployments on  VM-based environments on both Amazon Web Services (AWS) and Azure though no new deployments are supported to VM-based infrastructure.</p>
    <MadCap:snippetBlock src="../../Resources/Snippets/CloudDeployment/vmbased-deprecation-warning.flsnp" MadCap:conditions="SAP.SapHideFromOutput"/>
    <p MadCap:conditions="SAP.SapHideFromOutput"> If the customer wants to use AWS or Azure, they should first consider using Amazon Elastic Kubernetes Service (EKS) or Azure Kubernetes Service (AKS), as alternatives. For more information, see <MadCap:xref href="../Deployment-Considerations/installing-ps-cloud-k8s-eks-specific-req.htm">Installing [%=Product-Names.cloud_product_short%] in Amazon Elastic Kubernetes Service (EKS)</MadCap:xref> and <MadCap:xref href="../Deployment-Considerations/installing-ps-cloud-k8s-aks-specific-req.htm">Installing [%=Product-Names.cloud_product_short%] in Azure Kubernetes Service (AKS)</MadCap:xref>, respectively.</p>
    <p>In summary, deployments of <MadCap:variable name="Product-Names.broker_cloud_short"/>s on <MadCap:variable name="Product-Names.customer-controlled_region"/>s require that the customer considers the following as part of their security planning:</p>
    <ul>
      <li>The requirements  for the  <MadCap:variable name="Product-Names.broker_cloud_short"/>s, such as  whether the deployment  requires user accounts that are configured with the required permissions to run and operate correctly. The customer may need to coordinate with their internal infrastructure and security teams to properly set up the user accounts.</li>
      <li>The <MadCap:variable name="Product-Names.cloud_agent_short"/> is provided with account permissions to manage  <MadCap:variable name="Product-Names.broker_cloud_short"/>s in the customer's Kubernetes cluster. <MadCap:variable name="Variables.CompanyName"/> recommends that a very limited set of permissions are assigned account for the  <MadCap:variable name="Product-Names.cloud_agent_short"/>  to limit the risks and the vectors of attack. For more information about the <MadCap:variable name="Product-Names.cloud_agent_short"/>, see <MadCap:xref href="mission-control-agent-security.htm">Understanding the [%=Product-Names.cloud_agent_short%] and Security</MadCap:xref>.</li>
      <li>Metrics and monitoring data is vital for the <MadCap:variable name="Product-Names.cloud_product_short"/> solution to work; it ensures that the <MadCap:variable name="Product-Names.broker_cloud_short"/>s are operating correctly. This system-level data identifies the <MadCap:variable name="Product-Names.broker_cloud_short"/>s so that <MadCap:variable name="Variables.CompanyName"/> can properly monitor it as a SaaS. <MadCap:variable name="Variables.CompanyName"/> doesn't and cannot access the contents of the messages (data) transported on the customer's network. For <MadCap:variable name="Product-Names.cloud_product_short"/> to function correctly,  the customer must permit outgoing monitoring traffic from their VPC/VNet.</li>
    </ul>
    <p>With deployments in <MadCap:variable name="Product-Names.customer-controlled_region"/>s, the customer manages all aspects of the deployment configuration, connectivity, and security. For details, see  <MadCap:xref href="#considerations-customer-owned-kubernetes">Security Architecture for [%=Product-Names.customer-controlled_region%]s </MadCap:xref>.</p>
    <p MadCap:conditions="SAP.SapHideFromOutput">For considerations specific to VM-based deployments, see <MadCap:xref href="#considerations-customer-owned-vpc">Security Architecture for [%=Product-Names.customer-controlled_region%]s (VM-Based)</MadCap:xref>.</p>
    <h4><a name="considerations-customer-owned-kubernetes"/>Kubernetes in <MadCap:variable name="Product-Names.customer-controlled_region"/>s </h4>
    <p> For  deployments in <MadCap:variable name="Product-Names.customer-controlled_region"/>s, <MadCap:variable name="Variables.CompanyName"/> supports the following Kubernetes implementations:</p>
    <MadCap:snippetBlock src="../../Resources/Snippets/CloudDeployment/k8s-supported-platforms.flsnp"/>
    <p>In these deployments the customer controls the management of the resources, configuring the networking, and overall security of the Kubernetes cluster. The customer can coordinate with <MadCap:variable name="Variables.CompanyName"/> to deploy <MadCap:variable name="Product-Names.cloud_product_short"/>. </p>
    <p>Prior to working with <MadCap:variable name="Variables.CompanyName"/>, the security and permissions in the customer's Kubernetes cluster should be defined and implemented  before the installing <MadCap:variable name="Product-Names.cloud_product_short"/>. </p>
    <p>In the following diagram, the red box shows the customer's security architecture responsibilities:</p>
    <p>
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud-Security/VPC_onprem_kubernetes.png" class="solacethumbnail" alt="Architecture diagram highlighting the Mission Control Agent, event broker services, and client applications within a customer-controlled region."/>
      </div>
      <p>For a summary of the security responsibilities, see <MadCap:xref href="security-details-summary.htm">Customer Roles and Responsibilities for Security</MadCap:xref>.</p>
    </p>
    <h4 MadCap:conditions="SAP.SapHideFromOutput"><a name="considerations-customer-owned-vpc"/>Security Architecture for <MadCap:variable name="Product-Names.customer-controlled_region"/>s (VM-Based)</h4>
    <MadCap:snippetBlock src="../../Resources/Snippets/CloudDeployment/donot-use-vm.flsnp" MadCap:conditions="SAP.SapHideFromOutput"/>
    <MadCap:snippetBlock src="../../Resources/Snippets/CloudDeployment/vmbased-deprecation-warning.flsnp" MadCap:conditions="SAP.SapHideFromOutput"/>
    <p MadCap:conditions="SAP.SapHideFromOutput">Deploying <MadCap:variable name="Product-Names.broker_cloud_short"/>s directly to a <MadCap:variable name="Product-Names.customer-controlled_region"/> using a VM-based approach is supported, but is not the recommended architecture to use. 
        <MadCap:snippetBlock src="../../Resources/Snippets/Cloud/deployment-use-kubernetes-instead-vm.flsnp"/></p>
    <p MadCap:conditions="SAP.SapHideFromOutput">For VM-based deployments on <MadCap:variable name="Product-Names.customer-controlled_region"/>s, the customer is   responsible for  the resources, setting up the networking, and managing the security for their network. </p>
    <p MadCap:conditions="SAP.SapHideFromOutput">This includes initial deployment and upgrades of the  <MadCap:variable name="Product-Names.cloud_agent_short"/>  to the same VPC/VNet where the <MadCap:variable name="Product-Names.broker_cloud_short"/>s are deployed. These considerations are specific to deployments on cloud providers such as Azure, Amazon Web Services (AWS), Huawei, and Alibaba Cloud.</p>
    <p MadCap:conditions="SAP.SapHideFromOutput">In the following diagram, the red box shows the customer's security architecture responsibilities:</p>
    <p MadCap:conditions="SAP.SapHideFromOutput">
      <div class="thumbnail-container">
        <img src="../../Resources/Images/Cloud-Security/VPC_customer_VPC.png" class="solacethumbnail" alt="Architecture diagram highlighting the Mission Control Agent, event broker services, and client applications within a customer-controlled region.">
                </img>
      </div>
    </p>
    <p MadCap:conditions="SAP.SapHideFromOutput">For a summary of the security responsibilities, see <MadCap:xref href="security-details-summary.htm">Customer Roles and Responsibilities for Security</MadCap:xref>.</p>
  </body>
</html>
