<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Configuring Cache Cluster Event Thresholds</h1>
    <p>For a number of operating conditions experienced by PubSub+ Cache Instances, you can configure high and low thresholds at the Cache Cluster level that determine which events are published to the message bus.</p>
    <p>To configure event threshold parameters for the PubSub+ Cache Instances in a given Cache Cluster, enter the following commands:</p>
    <p class="Code">solace# configure<br/>solace(config)# distributed-cache &lt;name&gt; message-vpn &lt;vpn-name&gt;<br/>solace(config-distributed-cache)# cache-cluster &lt;name&gt;<br/>solace(config-distributed-cache-cluster)# event</p>
    <p>The CLI is now at a configuration  level at which you can configure set and clear thresholds for Cache Cluster events.</p>
    <p>To view the existing event configurations for a Cache Cluster, enter the <code>show cache-cluster detail</code> User EXEC command. Refer to <MadCap:xref href="Monitoring-PubSub-Cache-Conf.htm#Show-Cache-Cluster">Show Cache Cluster</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="Data-Byte-Rate"/>Data Byte Rate Thresholds</h2>
    <p>To configure the set and clear event thresholds for the rate of cached data experienced by the Cache Cluster (measured in bytes per second), enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# data-byte-rate<br/>solace(config-distributed-cache-cluster-event-data-byte-rate)# thresholds {set-value &lt;set-value&gt;} {clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value from 1 to 4294967295. An event is triggered each time the value reaches or exceeds this threshold. The default value is 250000000 (2 Gbps). The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value from 0 to 4294967295. An event is cleared each time the value falls below this threshold. The default value is 187500000 (1.5 Gbps).</p>
    <p>The no version of this command, <code>no data-byte-rate thresholds</code>, reverts the threshold values back to the defaults.</p>
    <h2 class="with-rule"><a name="Data-Msg-Rate"/>Data Message Rate Thresholds</h2>
    <p>To configure the set and clear event thresholds for the cached data message rate experienced by the Cache Cluster (measured in messages per second), enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# data-message-rate<br/>solace(config-distributed-cache-cluster-event-data-message-rate)# thresholds {set-value &lt;set-value&gt;} {clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value from 1 to 4294967295. An event is triggered each time the value reaches or exceeds this threshold. The default value is 4800. The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value from 0 to 4294967295. An event is cleared each time the value falls below this threshold. The default value is 3600.</p>
    <p>The no version of this command, <code>no data-message-rate thresholds</code>, reverts the threshold values back to the defaults.</p>
    <h2 class="with-rule"><a name="Max-Memory"/>Max Memory Thresholds</h2>
    <p>To configure the set and clear event thresholds for the maximum memory consumption of each PubSub+ Cache instance within the Cache Cluster, enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# max-memory<br/>solace(config-distributed-cache-cluster-event-max-memory)# thresholds {set-value &lt;set-value&gt;} {clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value for the maximum memory consumption (as a percentage) of each Cache Instance. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 80. The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value for the maximum memory consumption (as a percentage) of each PubSub+ Cache Instance. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 60.</p>
    <p>The no version of this command, <code>no max-memory thresholds</code>, reverts the threshold values back to the defaults. </p>
    <h2 class="with-rule"><a name="Max-Topics"/>Max Topics Thresholds</h2>
    <p>To configure the set and clear event thresholds for the maximum number of topics each PubSub+ Cache Instance in the Cache Cluster can cache, enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# max-topics<br/>solace(config-distributed-cache-cluster-event-max-topics)# thresholds {set-value &lt;set-value&gt;} {clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value for the maximum number of topics (as a percentage) that each Cache Instance can cache. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 80. The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value for the maximum number of topics (as a percentage) that each PubSub+ Cache Instance can cache. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 60.</p>
    <p>The no version of this command, <code>no max-topics thresholds</code>, reverts the threshold values back to the defaults.</p>
    <h2 class="with-rule"><a name="Request-Queue-Depth"/>Request Queue Depth Thresholds</h2>
    <p>To configure the set and clear event thresholds for the cache request depth of each PubSub+ Cache Instance in the Cache Cluster, enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# request-queue-depth<br/>solace(config-distributed-cache-cluster-event-req-q-depth)# thresholds {set-value &lt;set-value&gt;} {clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value for the cache request queue depth (as a percentage) for each PubSub+ Cache Instance in the Cache Cluster. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 80. The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value for the cache request queue depth (as a percentage) for each PubSub+ Cache Instance in the Cache Cluster. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 60.</p>
    <p>The no version of this command, <code>no request-queue-depth thresholds</code>, of this command reverts the threshold values back to the defaults.</p>
    <h2 class="with-rule"><a name="Request-Rate"/>Request Rate Thresholds</h2>
    <p>To configure the set and clear event thresholds for each PubSub+ Cache Instance in the Cache Cluster, enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# request-rate<br/>solace(config-distributed-cache-cluster-event-req-rate)# thresholds {set-value &lt;set-value&gt;} {clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value (as a percentage) for the cache request queue depth for each PubSub+ Cache Instance in the Cache Cluster. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 80. The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value (as a percentage) for the cache request queue depth for each PubSub+ Cache Instance in the Cache Cluster. The valid values are from 1 to 100. An event is triggered each time the value reaches or exceeds this threshold. The default value is 60.</p>
    <p>The no version of this command, <code>no request-rate thresholds</code>, reverts the threshold values back to the default.</p>
    <h2 class="with-rule"><a name="Response-Rate"/>Response Rate Thresholds</h2>
    <p>To configure the set and clear event thresholds for the frequency of cache response rate (measured in messages per second) for each PubSub+ Cache Instance in the Cache Cluster, enter the following Distributed Cache CONFIG commands:</p>
    <p class="Code">solace(config-distributed-cache-cluster-event)# response-rate<br/>solace(config-distributed-cache-cluster-event-resp-rate)# thresholds {set-value &lt;set-value&gt; | clear-value &lt;clear-value&gt;}</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;set-value&gt;</code> is the high set threshold value from 1 to 4294967295. An event is triggered each time the value rises above this threshold. The default value is 80000. The set value must be larger than the clear value.</p>
    <p><code>&lt;clear-value&gt;</code> is the low clear threshold value from 0 to 4294967295. An event is cleared each time the value falls below this threshold. The default value is 1000.</p>
    <p>The no version of this command, <code>no request-rate thresholds</code>, reverts the threshold values back to the defaults. </p>
  </body>
</html>
