<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1>Managing PubSub+ Cache</h1>
    <p>This section describes how to configure and manage PubSub+ Cache on a Solace PubSub+ event broker that is acting as the Designated Router for the PubSub+ Cache facility.</p>
    <h2 class="with-rule"><a name="Operatin"/>Operating Limits</h2>
    <p>The global operating limits for PubSub+ Cache are listed in the table below.</p>
    <p class="Note">Performance limits such as maximum cache request rates and maximum message rates depend on the messaging patterns and sizes being used, the number of PubSub+ Cache Instances being used for load balancing, and the server hardware on which PubSub+ Cache Instances have been deployed. For further guidance on the expected performance of PubSub+ Cache in your application environment, <a href="../../get-support.htm" class="link-internal">contact Solace</a>.</p>
    <table class="TableStyle-Table_Num" style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" cellspacing="0">
      <caption valign="top" style="padding-bottom: 3pt;">
        <p class="TblCaption">PubSub+ Cache scaling limits</p>
      </caption>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Feature</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Global Limit</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">100-tier Limit</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Maximum number of Cache Instances on a router</td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">1024</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">256</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Maximum number of Cached Messages per Cached Topic</td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">unlimited</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">unlimited</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Maximum number of Cache Instances per Cache Cluster</td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">16</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">16</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">Maximum number of Cache Clusters per Distributed Cache</td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">64</td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">32</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Maximum number of Cache Instances supported by the Designated Router across all Message VPNs</td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">1024</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">256</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Maximum number of Cache Clusters per Designated Router</td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">256</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">32</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Maximum number of Distributed Caches per Designated Router</td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">256</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">32</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">Maximum number of configured topics per Cache Cluster</td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">1000</td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">100</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">Maximum number of cached topics per Cache Instance</td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">unlimited</td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">unlimited</td>
        </tr>
      </tbody>
    </table>
    <h2 class="with-rule"><a name="Steps"/>Steps to Configure PubSub+ Cache</h2>
    <p>The following steps show how to configure the main PubSub+ Cache components on the PubSub+ Cache Designated Router through the Solace CLI. The exact steps required will vary depending on your network conditions and preferred configuration.</p>
    <p class="Note">If you want to use the Global Caching feature, so that client applications can request messages that are cached on remote Distributed Caches, additional configuration information must be provided when configuring Cache Clusters and when modifying PubSub+ Cache Instance configuration files. For more information on the Global Caching feature, see <MadCap:xref href="Using-Global-Caching.htm">Using Global Caching</MadCap:xref>.</p>
    <ol>
      <li>Unlock the PubSub+ Cache feature on the Designated Router.
        <p>See <MadCap:xref href="Installing-PubSub-Cache.htm#Product-Key">Product Key Feature Locking</MadCap:xref>.</p></li>
      <li>Configure a new or an existing Message VPN. 
            <p>See <MadCap:xref href="Configuring-a-Message-VPN.htm">Configuring Message VPNs for Caching</MadCap:xref>.</p></li>
      <li>Configure a Distributed Cache in the Message VPN.
            <p>See <MadCap:xref href="Configuring-Distributed-.htm#configuring_and_managing_solcache_541341864_263660">Configuring Distributed Caches</MadCap:xref>.</p></li>
      <li>Configure one or more Cache Clusters within the Distributed Cache.
        <p>See <MadCap:xref href="Configuring-Cache-Clusters.htm">Configuring Cache Clusters</MadCap:xref>.</p></li>
      <li>Add subscriptions for the topics that the Cache Clusters will be responsible for listening for.
        <p>See <MadCap:xref href="Configuring-Cache-Clusters.htm#Assign-Topics">Assigning Topics to Cache Clusters</MadCap:xref>.</p></li>
      <li>Configure one or more PubSub+ Cache Instances within the Cache Clusters.
            <p>See <MadCap:xref href="Configuring-PubSub-Cache-Ins.htm">Configuring PubSub+ Cache Instances</MadCap:xref>.</p></li>
      <li>Modify a copy of the provided configuration file (included with the PubSub+ Cache Instance installation package) for each PubSub+ Cache Instance so that it has the appropriate configuration parameters for communicating with an event broker host. Each modified configuration file must be saved to the Linux system or event broker that the PubSub+ Cache Instance will run on. 
            <p>This file provides a PubSub+ Cache Instance with configuration information when PubSub+ Cache service is invoked in the following step. For additional information, see <MadCap:xref href="Customizing-PubSub-Cache-Ins.htm#configuring_and_managing_solcache_541341864_246975">Customizing PubSub+ Cache Instance Configuration Files</MadCap:xref>.</p><p class="Note">If you are going to use the Global Caching feature be sure to review, and modify, as necessary, the Global cache request delay and Global cache request time-out parameters. For more information on Global Caching, see <MadCap:xref href="Using-Global-Caching.htm#using_global_caching_590796381_190180">Using Global Caching</MadCap:xref>.</p></li>
      <li>Following the steps described within the <code>README</code> file (included with the PubSub+ Cache Instance installation package), to install and run the PubSub+ Cache service script on Linux system or event broker with the modified configuration file.</li>
      <li>Enable the created PubSub+ Cache Instances.
            <p>See <MadCap:xref href="Configuring-PubSub-Cache-Ins.htm">Configuring PubSub+ Cache Instances</MadCap:xref>.</p></li>
      <li>Enable the created Cache Clusters.
            <p>See <MadCap:xref href="Configuring-Cache-Clusters.htm#Enable-Clusters">Enabling Cache Clusters</MadCap:xref>.</p></li>
      <li>Enable the created Distributed Cache.
            <p>See <MadCap:xref href="Configuring-Distributed-.htm#Enable-Dist-Caches">Enabling Distributed Caches</MadCap:xref>.</p></li>
      <li>If the Auto Start Mode was not enabled for the PubSub+ Cache Instances that were created, run the <b>start</b> Admin EXEC command at the Distributed Cache level to put all the PubSub+ Cache Instances under the Designated Cache into service. See <MadCap:xref href="Performing-PubSub-Cache-Admi.htm#configuring_and_managing_solcache_541341864_270635">Starting PubSub+ Cache Instances</MadCap:xref>.</li>
    </ol>
  </body>
</html>
