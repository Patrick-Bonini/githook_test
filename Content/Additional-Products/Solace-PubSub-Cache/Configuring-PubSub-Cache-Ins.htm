<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Configuring PubSub+ Cache Instances</h1>
    <p>To create a PubSub+ Cache Instance object in the given Cache Cluster, enter the following Distributed Cache CONFIG command: 
                <p class="Code">solace(config-distributed-cache-cluster)# create cache-instance &lt;name&gt;</p></p>
    <p>To edit properties for the given PubSub+ Cache Instance object, enter the following Distributed Cache CONFIG command: 
                <p class="Code">solace(config-distributed-cache-cluster)# cache-instance &lt;name&gt;</p></p>
    <p><u>Where</u>:</p>
    <p><code>&lt;name&gt;</code> is the PubSub+ Cache Instance name.</p>
    <p>The <code>no</code> version of this command, <code>no cache-instance</code>, deletes the given PubSub+ Cache Instance object and any messages that it has cached.</p>
    <div class="Note" MadCap:autonum="&lt;b&gt;Note  &lt;/b&gt;">
      <ul>
        <li>By default, a PubSub+ Cache Instance is not enabled after it is created. To enable a PubSub+ Cache Instance, refer to <MadCap:xref href="#Enable-Instances">Enabling/Disabling PubSub+ Cache Instances</MadCap:xref>.</li>
        <li>For maximum fault tolerance, it is recommended that the individual PubSub+ Cache Instances in a Cache Cluster be deployed on separate servers that have had their clocks synchronized to each other. As messages are time-stamped and synchronized within a Cache Cluster, synchronizing the clocks between separate servers ensures the correct operation of both the message synchronization mechanism and scheduled deletions of all cached message content from the Distributed Cache (refer to <MadCap:xref href="Configuring-Distributed-.htm#Sched-Message-Deletes">Scheduling Message Deletes</MadCap:xref>).</li>
      </ul>
    </div>
    <h2 class="with-rule"><a name="Auto-Start"/>Enabling/Disabling Auto Start Mode</h2>
    <p>The Auto Start mode enables an installed PubSub+ Cache Instance to automatically come online whenever it restarts or reconnects to the event broker. By default, Auto Start Mode is disabled.</p>
    <p>To enable the Auto Start mode for the given PubSub+ Cache Instance, enter the following CONFIG commands: </p>
    <p class="Code">solace(config-distributed-cache-cluster)# cache-instance &lt;name&gt;<br/>solace(config-distributed-cache-cluster-instance)# auto-start</p>
    <p>The <code>no</code> version of this command, <code>no auto-start</code>, disables Auto Start mode. When disabled, an administrator must later run the <code>start</code> Distributed Cache Admin EXEC command to put the PubSub+ Cache Instance into service. (Refer to <MadCap:xref href="Performing-PubSub-Cache-Admi.htm#configuring_and_managing_solcache_541341864_270635">Starting PubSub+ Cache Instances</MadCap:xref>).</p>
    <h2 class="with-rule"><a name="Stop-On-Loss"/>Configuring Stop On Lost Message Behavior</h2>
    <p>The stop-on-lost-message property determines how PubSub+ Cache Instances should behave when they lose a message and enter a Lost Message state (refer to <MadCap:xref href="Monitoring-PubSub-Cache-Conf.htm#Lost-Msg-State">Lost Message State</MadCap:xref>).</p>
    <p>If stop-on-lost-message is enabled (the default), when the PubSub+ Cache Instance loses a message, it generates a message lost event, and enters a stopped state (that is, it continues to cache messages, but it cannot accept or respond to cache requests).</p>
    <p>If stop-on-lost-message is disabled, when the PubSub+ Cache Instance loses a message, it generates a message lost event but continues operating. Note that further message lost events are not generated until a <code>clear-event</code> command (refer to <MadCap:xref href="Performing-PubSub-Cache-Admi.htm#configuring_and_managing_solcache_541341864_270896">Clearing PubSub+ Cache Events</MadCap:xref>) is issued.</p>
    <p>To enable “stop-on-lost-message” behavior for the given PubSub+ Cache Instance, enter the following CONFIG commands: 
        <p class="Code">solace(config-distributed-cache-cluster)# cache-instance &lt;name&gt;<br/>solace(config-distributed-cache-cluster-instance)# stop-on-lost-message</p></p>
    <p>To disable “stop-on-lost-message” behavior for the given PubSub+ Cache Instance, enter the following CONFIG commands: 
        <p class="Code">solace(config-distributed-cache-cluster)# cache-instance &lt;name&gt;<br/>solace(config-distributed-cache-cluster-instance)# no stop-on-lost-message</p></p>
    <h2 class="with-rule"><a name="Enable-Instances"/>Enabling/Disabling PubSub+ Cache Instances</h2>
    <p>When a PubSub+ Cache Instance is enabled, its associated PubSub+ Cache Instance process can cache new data and handle cache requests for its assigned topic subscriptions.</p>
    <p>When a PubSub+ Cache Instance is shut down, its topic subscriptions are withdrawn, and its associated PubSub+ Cache Instance process ceases to cache new data and handle cache requests. However, that PubSub+ Cache Instance maintains its content during this time (subject to normal message lifetime aging).</p>
    <p>To enable a PubSub+ Cache Instance, enter the following CONFIG commands:
        <p class="Code">solace(config-distributed-cache-cluster)# cache-instance &lt;name&gt;<br/>solace(config-distributed-cache-cluster-instance)# no shutdown</p></p>
    <p>To disable a PubSub+ Cache Instance, enter the following CONFIG commands:
        <p class="Code">solace(config-distributed-cache-cluster)# cache-instance &lt;name&gt;<br/>solace(config-distributed-cache-cluster-instance)# shutdown</p></p>
    <p class="Note" MadCap:autonum="&lt;b&gt;Note:  &lt;/b&gt;">If the Auto Start Mode is not enabled for a PubSub+ Cache Instance (refer to <MadCap:xref href="#Auto-Start">Enabling/Disabling Auto Start Mode</MadCap:xref>), an enabled PubSub+ Cache Instance will remain in a stopped state instead of automatically restarting and resynchronizing with the Cache Manager, and it must be administratively started (refer to <MadCap:xref href="Performing-PubSub-Cache-Admi.htm#configuring_and_managing_solcache_541341864_270635">Starting PubSub+ Cache Instances</MadCap:xref>).</p>
  </body>
</html>
