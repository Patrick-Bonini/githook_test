<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>PubSub+ Cache Redundancy on a Single Event Broker</h1>
    <p>When deploying a Distributed Cache on a  PubSub+ event broker, it is recommended that at least two PubSub+ Cache Instances be deployed per Cache Cluster, each hosted on a separate server, as shown in the figure below. This deployment model ensures that no cached data is lost, and caching services to clients is not be interrupted in the event that a host server fails. </p>
    <p class="GraphicCaption">PubSub+ Cache Redundancyâ€”Single Router</p>
    <p>
      <img src="Images/SolCache_redundancy_single_appliance.png" style="max-width: 155px;" alt=""/>
    </p>
    <p>In the case of a Distributed Cache with multiple Cache Clusters, PubSub+ Cache Instances from different Cache Clusters may be hosted on the same server (for example, Cluster-1-Cache-Instance-1, Cluster-2-Cache-Instance-1, Cluster-3-Cache-Instance-1 could all be hosted on the same server). The objective is simply to avoid hosting all PubSub+ Cache Instances of a particular Cache Cluster on the same server.</p>
    <h2 class="with-rule"><a name="Config-Summary"/>Configuration Summary</h2>
    <ul>
      <li>The two PubSub+ Cache Instances and the Cache Cluster must be configured to be part of the Distributed Cache</li>
      <li>The stop-on-lost-message property should be enabled for the PubSub+ Cache Instances</li>
      <li MadCap:conditions="Default.HideFromAllOutput">Prior to 10.0.1, <code>distributed-cache-management</code> must be enabled on the router for the Message VPN that is hosting the Distributed Cache</li>
    </ul>
  </body>
</html>
