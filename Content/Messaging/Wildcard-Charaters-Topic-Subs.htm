<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1><MadCap:concept term="Cloud;Appliance;Software"/>Wildcard Characters in Topic Subscriptions</h1>
    <p>When the <code>*</code> and <code>&gt;</code> characters are used in SMF topic subscriptions, they function as wildcards, which affect the topic matches that may occur.</p>
    <p class="Note">The <code>*</code> and <code>&gt;</code> characters don't have any special meaning when they are used in published topics. They are treated as literal characters - not as wildcards - and don't affect topic matches. However, to avoid confusion, <MadCap:variable name="Variables.CompanyName"/> does not recommend using <code>*</code> and <code>&gt;</code> as literal characters in published topics.</p>
    <h2 class="with-rule"><a name="Use-asterisk"/>Using the * Wildcard</h2>
    <p>The <code>*</code> wildcard functions in the following ways:</p>
    <ol>
      <li>
        <p>When <code>*</code> appears by itself at a level within a subscription topic (as in, <code>animals/*/cats</code>, or <code>animals/domestic/*</code>) indicates a wildcard match at that level.</p>
        <p> A <code>*</code> wildcard at the end of a subscription topic performs a wildcard match only at that level. </p>
        <p><u>Example</u>: <code>animals/domestic/*</code> matches the topics <code>animals/domestic/cats</code> and <code>animals/domestic/dogs</code>, but it doesn't match the topic <code>animals/domestic/dogs/beagles</code>.</p>
      </li>
      <li>
        <p>When <code>*</code>  is preceded by a topic prefix at a level within a subscription topic (as in, <code> animals/red*/wild</code>)  indicates a "prefix and 0 or more” match at that level. </p>
        <p><u>Example</u>: <code>animals/red*/wild</code> matches both the topics <code>animals/red/wild</code> and <code>animals/reddish/wild</code>.
       </p>
      </li>
      <li>
        <p>The <code>*</code> may be used at multiple levels within a subscription topic, with or without topic prefixes.</p>
        <p><u>Example</u>: <code>animals/*/cats/*</code> is valid and matches the topics <code>animals/domestic/cats/persian</code> and <code>animals/wild/cats/leopard</code>, but doesn't match the topic <code>animals/domestic/cats/persian/grey</code>, nor does it match the topic <code>animals/domestic/dogs/beagles</code>.</p>
      </li>
      <li>
        <p>Use of <code>*</code> in an arbitrary location within a level, and not covered by the previous rules, supports general sub-string matching.</p>
        <p><u>Example</u>: The <code>*</code> in these topics,<code> animals/*/brown</code> and <code>animals/domestic/white*</code>, is interpreted as a wildcard, but in topics like these, <code>animals/*bro</code> and <code>animals/br*wn</code>, the <code>*</code> is interpreted as a literal to be matched.</p>
      </li>
    </ol>
    <h2 class="with-rule"><a name="use-greater"/>Using the &gt; Wildcard</h2>
    <p>The <code>&gt;</code> wildcard functions in the following ways:</p>
    <ol>
      <li>
        <p>When <code>&gt;</code> appears by itself at the last level of a subscription topic (as in, <code>animals/domestic/&gt;</code>) provides a “one or more” wildcard match for any topics with an identical prefix to the subscription. </p>
        <p><u>Example</u>: <code>animals/domestic/&gt;</code> doesn't match the topic <code>animals/domestic</code>, but it does match the topics <code>animals/domestic/cats</code>, <code>animals/domestic/dogs</code>, <code>animals/domestic/dogs/beagles</code>, and <code>animals/domestic/dogs/beagles/long-eared</code>.</p>
      </li>
      <li>
        <p>A <code>&gt;</code>  that appears anywhere other than by itself at the last level of a subscription topic in the string is treated as the <code>&gt;</code> character rather than a wildcard. </p>
        <p><u>Example</u>: <code> animals&gt;</code> and <code>animals/domestic&gt;</code> are literal subscriptions and don't match <code>animals/domestic/dogs/beagles</code>.</p>
      </li>
      <li>
        <p>The <code>&gt;</code> and <code>*</code> characters can be used together within a subscription topic.</p>
        <p><u>Example</u>: <code>animals/*/cats/&gt;</code> matches the topics <code>animals/domestic/cats/persian</code>, <code>animals/wild/cats/leopard</code>, and <code>animals/domestic/cats/persian/grey</code>, but it doesn't match the topic <code>animals/domestic/dogs/beagles</code>.</p>
      </li>
    </ol>
    <h2 class="with-rule"><a name="Wildcard-restrictions"/>Wildcard Restrictions</h2>
    <p>Wildcards have the following restrictions:</p>
    <ul>
      <li>
        <p>Event brokers automatically create topic subscriptions beginning with the prefix <code>#P2P</code> for each client, which enables messages to be sent directly to that client (for example, in request/reply scenarios). Therefore, to ensure that wildcards cannot be used to receive messages that are intended for the inboxes of other clients, the <code>*</code> or <code>&gt;</code> wildcards will never match the string <code>#P2P</code>, regardless of where the wildcard or <code>#P2P</code> string is located within the topic subscription string. </p>
      </li>
      <li>
        <p>Messages published to topics that begin with a <code>$</code> character will never be matched by standalone wildcards (<code>*/..</code>. or <code>&gt;</code>) at the first level of a topic subscription. This ensures that system and event log messages beginning with a <code>$</code> character aren't included in topic subscriptions for which they weren't intended.</p>
      </li>
    </ul>
    <h2 class="with-rule"><a name="Wildcard-example"/>Wildcard Examples</h2>
    <p>The following table provides examples of topic subscription matches when using wildcards.</p>
    <table class="TableStyle-Table_Num" style="mc-table-style-original: url('../Resources/TableStyles/Table_Num.css');width: 95%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');margin-left: 0;margin-right: auto;" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Wildcard Subject</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Matches Messages With Subjects Like:</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Does Not Match Messages With Subjects Like:</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/domestic/*</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/domestic/cats</code>
            <br/>
            <code>animals/domestic/dogs</code>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <code>animals/domestic/dogs/beagles</code>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/*/cats/*</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/domestic/cats/persian<br/>animals/wild/cats/leopard</code>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <code>animals/domestic/cats/persian/grey<br/>animals/domestic/dogs/beagles</code>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/domestic/dog*</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/domestic/dog<br/>animals/domestic/doggy</code>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <code>animals/domestic/dog/beagle<br/>animals/domestic/cat</code>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <code>animals/domestic/&gt;</code>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <code>animals/domestic/cats<br/>animals/domestic/dogs/beagles</code>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <code>animals<br/>animals/domestic<br/>animals/Domestic</code>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/*/cats/&gt;</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>animals/domestic/cats/tabby/grey<br/>animals/wild/cats/leopard</code>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <code>animals/domestic/dogs/beagles</code>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <code>my/test/*</code>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <code>my/test/topic</code>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <code>My/Test/Topic<br/>my/test</code>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
