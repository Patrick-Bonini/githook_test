<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Message VPN-level Message Spool Administration</h1>
    <p>You can perform the following Message VPN-level message spool administration tasks:</p>
    <ul>
      <li>
        <MadCap:xref href="#managing_guaranteed_messaging_1810020758_684110">Changing the Starting Numbers for Sequenced Topics</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#managing_guaranteed_messaging_1810020758_571654">Deleting Messages</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Copying">Copying a Message From One Endpoint to Another</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule"><a name="managing_guaranteed_messaging_1810020758_684110"/>Changing the Starting Numbers for Sequenced Topics</h2>
    <p class="Note">This feature is deprecated and should not be used.</p>
    <p>To change the default starting sequence number from 1 for sequenced topic subscriptions, enter the following  commands:</p>
    <p class="Code">solace(admin)# message-spool message-vpn &lt;vpn-name&gt;<br/>solace(admin/message-spool)# sequenced-topic &lt;topic&gt; next-sequence-number &lt;seq-num&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;topic&gt;</code> is the name of an existing sequenced topic </p>
    <p><code>&lt;seq-num&gt;</code> is the new sequence number in the range of 1 to 2<span style="font-size: 80%;vertical-align: super;">63</span> – 1</p>
    <p>An INFO level Solace syslog event is generated whenever the sequence number is administratively changed. Administratively changing the sequence number to a value lower than the current next sequence number results in duplicate sequence numbers being issued. Likewise, changing it to a higher value results in a gap in sequence numbers. For information on how to create a sequenced topic subscription, refer to <MadCap:xref href="VPN-Level-Msg-Spool-Config.htm#Configur9">Configuring Sequenced Topics</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="managing_guaranteed_messaging_1810020758_571654"/>Deleting Messages</h2>
    <p>To delete one, some, or all spooled messages from a given Message VPN, enter the following  Admin command:</p>
    <p class="Code">solace(admin)# message-spool message-vpn &lt;vpn-name&gt;<br/>solace(admin/message-spool)# delete-messages {{queue &lt;queue-name&gt;} | {topic-endpoint &lt;te-name&gt;}} [message &lt;msg-id&gt; [to &lt;to-msg-id&gt;]]</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;queue-name&gt;</code> is the full name of the specified message queue, or part of the queue name with the wildcard character ? used to represent one character of the name, or the wildcard character * used to represent zero or more characters of the name, where entering only the wildcard character * for the name specifies all queues. </p>
    <p><code>&lt;te-name&gt;</code> is the full name of the specified topic endpoint, or part of the queue name with the wildcard character ? used to represent one character of the name, or the wildcard character * used to represent zero or more characters of the name, where entering only the wildcard character * for the name specifies all topic endpoints. </p>
    <p><code>message &lt;msg-id&gt;</code> specifies to delete the specified spooled message.</p>
    <p><code>to &lt;to-msg-id&gt;</code> specifies to delete a range of spooled messages starting from the message identifier specified by <code>&lt;msg-id&gt;</code> up to the message identifier specified by <code>&lt;to-msg-id&gt;</code>.</p>
    <p><u>Example</u>: </p>
    <p class="Code">solace(admin)# message-spool message-vpn blue<br/>solace(admin/message-spool)# delete-messages topic-endpoint solace21</p>
    <h2 class="with-rule"><a name="Copying"/>Copying a Message From One Endpoint to Another</h2>
    <p>In some cases it may be useful to copy a single message from one endpoint (either a queue or a topic endpoint) to another endpoint, or from the replay log to an endpoint. For example, if the event broker moves a message to a dead message queue (DMQ) because an application is unable to consume the message, you can  copy that message from the DMQ back to the original queue once the application issues have been resolved.</p>
    <p>To copy a message from one endpoint to another, enter the following Admin command:</p>
    <pre>solace(admin)# message-spool message-vpn &lt;vpn-name&gt;<br/>solace(admin/message-spool)# copy-message {source {{queue &lt;queue-name&gt;} | {topic-endpoint &lt;te-name&gt;} | {replay-log &lt;replay-log-name&gt;}}} {destination {{queue &lt;queue-name&gt;} | {topic-endpoint &lt;te-name&gt;}}} {message &lt;replication-group-msg-id&gt;}</pre>
    <p><u>Where</u>:</p>
    <p><code>&lt;queue-name&gt;</code> is the full name of the specified message queue. </p>
    <p><code>&lt;te-name&gt;</code> is the full name of the specified topic endpoint. </p>
    <p><code>&lt;replay-log-name&gt;</code> is the name of the message replay log.</p>
    <p><code>&lt;replication-group-msg-id</code> is the replication group message ID of the message you want to copy. A replication group message ID is an attribute of Solace messages, assigned by the event broker delivering the messages to the queue and topic endpoints, that uniquely identifies a message on a particular queue or topic endpoint within an HA group and replication group of event brokers.</p>
    <p><u>Example</u>: </p>
    <pre xml:space="preserve">solace(admin)# message-spool message-vpn orange<br/>solace(admin/message-spool)# copy-message source queue dmq1 destination queue q1 message rmid1:12eb1-a19b418311c-00000000-00000005</pre>
  </body>
</html>
