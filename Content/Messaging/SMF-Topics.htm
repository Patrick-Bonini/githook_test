<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud;Appliance;Software"/>Solace Message Format Topics</h1>
    <p>Solace Message Format (SMF) is the underlying messaging protocol for <MadCap:variable name="Product-Names.pubsub_brand_only" MadCap:conditions="SAP.SapHideFromOutput"/><MadCap:variable name="Product-Names.cloud_product_long" MadCap:conditions="SAP.SapOnlyOutput"/>.</p>
    <p>SMF topics have the following properties:</p>
    <ul>
      <li>Consist of NULL-terminated UTF-8 strings composed of one or more levels in the format: <code>a/b/c</code>. </li>
      <li>The <code>/</code> character is used as a separator between levels - which are also referred to as elements - of the string.</li>
      <li>A maximum of 128 topic levels are supported.</li>
      <li>The maximum length of a string, excluding the <code>NULL</code> terminator, is 250 bytes.</li>
      <li>Characters in topic strings are case-sensitive. For example, the topic subscription <code>animals/domestic/cats</code> is not equal to <code>Animals/Domestic/Cats</code>.</li>
      <li>All UTF-8 characters are supported. However, the following characters have special meaning:</li>
      <ul>
        <li><u>For topic subscriptions</u>:</li>
        <ul>
          <li><code>/</code> is a level separator.</li>
          <li><code>&lt;NULL&gt;</code> is an invalid character.</li>
          <li><code>*</code> is a single-level wildcard. </li>
          <li><code>&gt;</code> can be used as a wildcard, and is a multi-level wildcard when used at the last level of a topic subscription. </li>
          <li>A leading <code>!</code>, as for example in <code>!a/b/c</code>, in  queue topic subscriptions indicates a subscription exception.<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"> For more information, refer to <MadCap:xref href="Guaranteed-Msg/System-Level-Subscription-Exception-Config.htm">System-Level Subscription Exception Configuration</MadCap:xref>.</MadCap:conditionalText> </li>
        </ul>
        <li><u>For publishing topics</u>:</li>
        <ul>
          <li><code>/</code> is a level separator.</li>
          <li><code>&lt;NULL&gt;</code> is an invalid character.</li>
          <li><code>*</code> is treated as a literal character. Do not use this character when creating topics.</li>
          <li><code>&gt;</code> is treated as a literal character. Do not use this character when creating topics.</li>
          <li> A leading <code>!</code> is treated as a literal character. Do not use this character when creating topics.</li>
        </ul>
      </ul>
    </ul>
    <h3><a name="MQTT"/>MQTT Topic Compatibility</h3>
    <p>To allow compatibility with MQTT topics, which permit empty topic levels  (for example, <code>/a/b</code>, <code>a//b</code>, or <code>a/b/</code>), <MadCap:variable name="Product-Names.pubsub_brand_only" MadCap:conditions="SAP.SapHideFromOutput"/><MadCap:variable name="Product-Names.cloud_product_short" MadCap:conditions="SAP.SapOnlyOutput"/> also allows empty topic levels in SMF topics. However, using empty topic levels in SMF topics has some limitations:</p>
    <ul>
      <li>Client applications using the <MadCap:variable name="Product-Names.pubsub_brand_only"/> Messaging APIs for C, .NET, Go, Java RTO, and Python:<ul><li>can publish to topics with empty levels</li><li>cannot use topic subscriptions with empty levels</li></ul></li>
      <li>Client applications using the <MadCap:variable name="Product-Names.pubsub_brand_only"/> Messaging APIs for Java, JCSMP, JMS, JavaScript, and Node.js:<ul><li>cannot publish to topics with empty levels</li><li>cannot use topic subscriptions with empty levels</li></ul></li>
      <li>In ACL profiles, SMF topic exceptions cannot have empty topic levels for publishing or subscribing.</li>
    </ul>
    <p>The event broker automatically creates a topic subscription beginning with the prefix <code>#P2P/</code> for each client, which allows messages to be sent directly to that client (for example, in request/reply scenarios). However, the leading "#" in <code>#P2P</code> is not valid MQTT syntax. Therefore, to make use of these special <MadCap:variable name="Variables.CompanyName"/> subscriptions, MQTT clients can use the string <code>_P2P</code> instead of <code>#P2P</code>. The event broker considers these two strings to be equivalent.</p>
    <p MadCap:conditions="SAP.SapHideFromOutput">For more information, see <MadCap:xref href="../API/MQTT/Using-MQTT.htm">Using MQTT</MadCap:xref>.</p>
  </body>
</html>
