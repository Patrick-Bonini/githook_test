<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1>Solace REST Status Codes</h1>
    <p>The following section discusses the status codes and error response handing when sending REST messages to  or when receiving REST messages from a <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker. It discusses expectations and requirements of the REST clients to ensure proper interworking with the event broker.</p>
    <h2 class="with-rule"><a name="Status-Codes"/>Solace HTTP Status Codes Overview</h2>
    <p>When responding to messages published to a <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker through Solace REST messaging, the event broker follows the Status Code Definitions as outlined in RFC 2616 and follows the guidelines outlined in the HTTP specification.</p>
    <h3><a name="Producer-on-Post"/>HTTP Responses from Event Broker to REST HTTP Clients</h3>
    <p class="GraphicCaption">HTTP Status Codes in HTTP Responses from a <MadCap:variable name="Variables.CompanyName"/> <MadCap:variable name="Product-Names.pubsub_brand_only"/> Event Broker to REST HTTP Clients</p>
    <table style="mc-table-style: url('../../Resources/TableStyles/Table_Num.css');width: 95%;" class="TableStyle-Table_Num" cellspacing="0">
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Status Codes</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1"><MadCap:variable name="Product-Names.pubsub_brand_only"/> Event Broker Behavior</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Successful 2xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker responds with a 200 OK status code to indicate successful message processing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Redirection 3xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker does not respond with any 3xx status codes.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Client Error 4xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker responds with a 4xx status code with a detailed response string for scenarios where the client seems to have erred. In general, it does not make sense to retry these requests without first correcting the error scenario. </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">Server Error 5xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker responds with a 5xx status code and a detailed response string for scenarios where the event broker encountered an error processing the request even though the request seems correct from a client perspective. This could be either a temporary or permanent condition. For example, the event broker could temporarily be out of resources to handle the request. In general, it may make sense to retry these requests because the condition may have cleared. </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">Other status codes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body"><MadCap:variable name="Variables.CompanyName"/> reserves the right to introduce handling of new status codes as <MadCap:variable name="Variables.CompanyName"/> REST messaging evolves.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <h3><a name="Solace-Post-to-REST"/>HTTP Responses from REST Consumers to Event Broker</h3>
    <p class="GraphicCaption">HTTP Status Codes in HTTP Responses from REST Consumers to a Solace PubSub+ Event Broker</p>
    <table style="mc-table-style: url('../../Resources/TableStyles/Table_Num.css');width: 95%;" class="TableStyle-Table_Num" cellspacing="0">
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">
            <p class="GraphicCaption">Status Codes</p>
          </th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">
            <p class="GraphicCaption"><MadCap:variable name="Product-Names.pubsub_brand_only"/> Event Broker Behavior</p>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Successful 2xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker treats 200, 201, 204, or 205 status codes as indicating successful message processing. It treats all other 2xx status codes as error scenarios and follows normal message error processing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Redirection 3xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker does not expect 3xx status codes. Behavior is undefined if the REST consumer responds with 3xx status codes.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Client Error 4xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker treats 4xx status codes as error scenarios and follows normal message error processing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">Server Error 5xx</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">A <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker treats 5xx status codes as error scenarios and follows normal message error processing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">Other status codes</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body">A Solace PubSub+ event broker does not expect status codes other than those listed above. The behavior is undefined if the REST consumer responds with other status codes.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <h2 class="with-rule"><a name="Producer-on-POST-to-Solace"/>REST HTTP Client Requests to a Solace PubSub+ Event Broker</h2>
    <h3><a name="Success"/>Success</h3>
    <p>A Solace PubSub+ event broker responds with a 200 OK status code when it successfully receives a REST message from a REST producer.</p>
    <p>For persistent and non-persistent messages, this means that the event broker has successfully stored the ingress message in its message spool, and the event broker guarantees the delivery of this message. That is, 200 OK is returned only after the ingress message is successfully spooled.</p>
    <p>For Direct messages, 200 OK is returned after the event broker successfully reads and parses the complete HTTP POST request from an authenticated connection. If the HTTP connection is unauthenticated, or if the connection's session parameters (authentication and/or client name) are changing, the event broker will not return any POST response until authentication processing is complete. The event broker responds with 200 OK prior to any further processing. So, for Direct messages, the client knows that the event broker accepted the message as correctly formatted and authenticated. If the event broker later discards this Direct message for other reasons, such as ACL denial on the message's topic, the client will not receive notification. The event broker tracks the discard reason in the event broker's statistics.</p>
    <p>In request/reply scenarios, the event broker returns the 200 OK response only after the event broker receives the reply message. The contents of the reply are included in the body of the 200 OK response.</p>
    <h3><a name="Failures"/>Failures</h3>
    <p>In general, for all failure cases where a Solace PubSub+ event broker needs to send a non-200 OK HTTP response back to a REST HTTP client, the response text is in the HTTP response header (possibly in summary form) and in the HTTP response body (possibly with additional detail). The tables below outline the expected error codes in more detail. </p>
    <p>For a single HTTP POST request to Solace, two types of failures are possible:</p>
    <ul>
      <li>an authentication failure</li>
      <li> a messaging failure</li>
    </ul>
    <p>Typically, authentication failures only occur on the first HTTP POST request over a new HTTP REST connection, or when the session parameters change on subsequent HTTP requests. Messaging failures can occur on any message.</p>
    <p>A Solace PubSub+ event broker also returns error response details in the HTTP response body when failures occur. Refer to <MadCap:xref href="#HTTP-Resp-Body">HTTP Response Body Format</MadCap:xref>.</p>
    <h4><a name="Auth-Failures"/>Authentication Failures</h4>
    <p>The table below provides a partial list of the failure codes a REST HTTP client can encounter when connecting to the event broker. The provided descriptions should be sufficient to correctly identify the root cause of the failure.</p>
    <p class="GraphicCaption"><a name="Conncet-Failure-Codes"/>REST Producer Connectivity Failure Codes</p>
    <table style="width: 95%;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">
            <p class="GraphicCaption">Error Code</p>
          </th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">
            <p class="GraphicCaption">Description</p>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">403 Unauthorized</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The client authentication failed.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">403 Client Username Is Shutdown</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The username for the client is administratively shutdown on the event broker.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">403 Basic Authentication is Shutdown</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The client attempted to connect to an event broker that has basic authentication shutdown.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">403 Client Certificate Authentication is Shutdown</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">The client attempted to connect to an event broker that has client certificate authentication shutdown.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">403 Client Name Already In Use</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The REST HTTP client is attempting to use a client name that is in use by another client on the event broker. Client names must be unique within a Message VPN.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">403 Forbidden</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The client login to the Message VPN on the event broker was denied because an ACL on the event broker for the given username/Message VPN has been configured to deny a client using the provided IP address/netmask.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">503 Message VPN Unavailable</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body">The Message VPN  to which the REST HTTP client connects is currently shutdown on the event broker.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <h4><a name="Fail-on-POST-to-Solace"/>Messaging Failures on HTTP POST Requests to Event Broker</h4>
    <p><MadCap:xref href="#_Ref399848290" class="ParaTextOnly">Table: REST Producer Publish Failure Codes</MadCap:xref> lists some of the most common failure codes a REST HTTP client can encounter when sending requests to the event broker. It is not a full enumeration of all possible failure codes. In general, a REST HTTP client sending Guaranteed messages can receive all failure codes that a regular SMF client sending a message to a Solace PubSub+ event broker can receive. </p>
    <p>For Direct messages from a REST producer, the response is returned after the event broker reads and parses the message from the HTTP connection, and performs any necessary authentication processing. So for Direct messages, it is possible for the event broker to later discard the message even though it responded with a 200 OK. This discard will be tracked by the event broker statistics and is similar in behavior to other event broker clients. The one exception to this is Direct message request/reply message exchange patterns, where the HTTP response is delayed until the reply is received by the event broker. Detailed error codes are returned to the REST producer in more scenarios.</p>
    <p>The explanations in the failure code should be sufficient to correctly identify the root cause of the failure. In the table below, column “D” indicates the error code applies to Direct messages, and column “G” indicates the error code applies to Guaranteed messages (that is, persistent and non-persistent messages).</p>
    <p class="GraphicCaption"><a name="_Ref399848290"/>REST Producer Publish Failure Codes</p>
    <table style="mc-table-style: url('../../Resources/TableStyles/Table_Num.css');width: 95%;" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">
            <p class="GraphicCaption">Error Code</p>
          </th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">
            <p class="GraphicCaption">Description</p>
          </th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">
            <p class="GraphicCaption">D</p>
          </th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">
            <p class="GraphicCaption">G</p>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">400 Bad Request</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">The HTTP request format was incorrect. Details of the reason are provided in the body of the message.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">400 Topic Parse Error</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">The topic used unsupported syntax.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">400 Message Too Long</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">The client attempted to send a message larger than the event broker supports.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">400 Queue Not Found</p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">The REST producer attempted to POST to an unknown queue.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">N</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">403 Publish ACL Denied</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">A message from a REST producer could not be published because its topic matched that of a topic defined as disallowed in an ACL on the event broker for the given username and Message VPN.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">N</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">405 Method Not Allowed</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">The event broker only accepts POST request methods. Other HTTP request methods are unsupported and generate this error.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">408 Request Timeout</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">The event broker timed out when attempting to read the HTTP POST request from the REST HTTP client.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">500 Internal Server Error</p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">There were other reasons the HTTP POST request could not be processed. The issue should be reported to Solace support for investigation.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">N</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">503 Spool Over Quota</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">The message was not delivered because the Guaranteed Message spool is over its allotted space quota.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">N</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">503 Queue Shutdown</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">An attempt was made to operate on a shutdown queue.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">N</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">503 Service Unavailable</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Guaranteed Messaging service is not enabled on the event broker.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">N</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">504 Gateway Timeout</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">The event broker timed out while waiting for an expected reply message.</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body">Y</p>
          </td>
        </tr>
      </tbody>
    </table>
    <h4><a name="HTTP-Resp-Body"/>HTTP Response Body Format</h4>
    <p>In addition to the information provided in the HTTP response header described above, when a Solace PubSub+ event broker does not successfully receive a REST message from the REST HTTP client, the event broker provides error response details in the HTTP response body. The root element is the <code>&lt;solace-error-response&gt;</code> element. This element can have up to three children.</p>
    <p class="GraphicCaption">REST Response Body XML Details</p>
    <table style="mc-table-style: url('../../Resources/TableStyles/Table_Num.css');width: 95%;" class="TableStyle-Table_Num" cellspacing="0">
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">
            <p class="GraphicCaption">XML Element</p>
          </th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">
            <p class="GraphicCaption">Description</p>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">code</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The HTTP status code for the failure.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">reason</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">The HTTP status message for the failure.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">detail</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">A text description of the failure providing additional details related to the problem in human‑readable text.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">Internal-use</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body">The value is a Solace PubSub+ version specific ID to aid with internal Solace debugging.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>The following is an example of a Solace error response body:</p>
    <p class="Code">&lt;solace-error-response&gt;<br/>  &lt;code&gt;403&lt;/code&gt;<br/>  &lt;reason&gt;&lt;![CDATA[Publish ACL Denied]]&gt;&lt;/reason&gt;<br/>  &lt;detail&gt;&lt;![CDATA[<br/>Topic "/QUEUE/acl/topic";<br/>SMF AD control client ack response error<br/>]]&gt;&lt;/detail&gt;<br/>  &lt;internal-use&gt;2:10960&lt;/internal-use&gt;<br/>&lt;/solace-error-response&gt;</p>
    <h3><a name="HTTP-Connect-Termination"/>HTTP Connection Termination by Event Broker</h3>
    <p>A Solace PubSub+ event broker terminates the HTTP connection of a REST HTTP client for the following reasons:</p>
    <ol>
      <li>HTTP header parse errors—The received HTTP header is not in a valid format and cannot be parsed. Therefore, there is no way to proceed with the REST session. REST clients must send properly formatted HTTP when communicating with the event broker.</li>
      <li>Timeout waiting for authentication—If a REST client opens a HTTP connection to a Solace PubSub+ event broker, the event broker will not wait indefinitely to authenticate a client. After a period of time the event broker closes the REST HTTP client connection.</li>
      <li>Timeout waiting for a complete message—A Solace PubSub+ event broker will not wait indefinitely for HTTP request completion when reading from the HTTP client’s connection. After a period of time the event broker closes the REST HTTP client session  if the event broker has received only a partial request.</li>
      <li>Various shutdowns (including username, Message VPN, service, and so on) within Solace event broker management, administrative disconnections, or activity switches. These take effect immediately, even if the event broker has not finished sending an HTTP POST response.</li>
      <li>Slow client—If the event broker as a whole is running low on resources, any client that is consuming a large number of those resources but is unable to keep up with the traffic load it is offered  may have its connection disconnected. For example, if a REST HTTP producer sends a synchronous request/reply message, and the reply message has a large payload, but the REST HTTP producer is slow at draining that payload (either because the client cannot take it or there is a network impairment towards the client), then the REST HTTP producer’s connection may become eligible for disconnection as a slow client.</li>
    </ol>
    <h2 class="with-rule"><a name="Solace-POST-to-Consumer"/>Event Broker HTTP Requests to REST Consumers</h2>
    <h3><a name="Indicate-Success"/>Indicating Success to Event Broker</h3>
    <p>REST consumers must respond with a status of 200, 201, 204, or 205 to indicate successful message processing. The contents of any reply are included in the body of the HTTP response.</p>
    <h3><a name="Indicate-Failures"/>Indicating Failures to Event Broker</h3>
    <p>REST consumers can use 4xx or 5xx response codes to provide more detail for why a message is being rejected. REST consumers must restrict HTTP response codes used for errors because Solace PubSub+ event broker behavior is undefined for error response codes other than 4xx and 5xx.</p>
    <p>A Solace PubSub+ event broker keeps the most recent response codes for rejected messages similar to how no-subscription-match discards are logged. The log can be a useful location for debugging information related to REST consumer delivery failures.</p>
    <p>Additionally, for non-persistent and persistent messages, the event broker will retry delivery based on the settings on the event broker for any 4xx and 5xx response codes. Each delivery failure will be captured in the log. The Max Retry setting on the corresponding Solace queue controls the number of delivery retries that the event broker will attempt.</p>
    <p class="Note">The default Max Retry setting on an event broker queue is infinite (that is, message delivery will be retried forever). Therefore, it is recommended that Solace PubSub+ event broker administrators specify an appropriate value for their application to avoid messages being redelivered indefinitely to clients that are unable to handle them.</p>
    <p>If a message exhausts the retries, then it will follow regular Solace Guaranteed message handling and statistics are available that show what happened to the message which will be one of either discarded or moved to the DMQ depending on message flags.</p>
  </body>
</html>
