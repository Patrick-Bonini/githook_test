<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title></title>
        <link href="../../Resources/Stylesheets/mqtt_311_prtcl.css" rel="stylesheet" />
    </head>
    <body>
        <p class="Notices">Table of Contents</p>
        <p class="MsoToc1"><span class="MsoHyperlink">1 <MadCap:xref href="#_Toc430864872">Introduction</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="#_Toc430864873"> 1.1 Organization of MQTT </MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="#_Toc430864874">1.2 Terminology</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="#_Normative_References">1.3 &#160;Normative references</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="#_Toc430864876">1.4 Non normative references</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="#_Toc430864877">1.5 Data representations</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="#1.5.1">1.5.1 Bits</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="#_Toc430864879">1.5.2 Integer data values</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="#_Ref374438163">1.5.3 UTF-8 encoded strings</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="#_Toc430864881">1.6 Editing conventions</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm">2 MQTT Control Packet format</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Toc430864883">2.1 Structure of an MQTT Control Packet</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Figure_2.2_-">Figure 2.2 - Fixed header format</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Toc430864885">2.2.1 MQTT Control Packet type</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Toc430864886">2.2 Flags</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Ref355703004">2.2.3 Remaining Length</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Toc430864888">2.3 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Ref363041167">2.3.1 Packet Identifier</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Toc430864890">2.4 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm">3 MQTT Control Packets</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Ref363033523">3.1 CONNECT – Client requests a connection to a Server </MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864893"> 3.1.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864894">3.1.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864895">3.1.3Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864896">3.1.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Ref362964779">3.2 CONNACK – Acknowledge connection request</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864898">3.2.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864899">3.2.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864900">3.2.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864901">3.3 PUBLISH – Publish message</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Ref384201650">3.3.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864903"> 3.3.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864904">3.3.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864905">3.3.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864905">3.3.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864907">3.4 PUBACK – Publish acknowledgement </MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864908">3.4.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864909">3.4.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864910">3.4.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864911">3.4.4 Actions</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864912">3.5 PUBREC – Publish received (QoS 2 publish received, part 1)</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864913">3.5.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864914">3.5.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864915">3.5.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864916">3.5.4 Actions</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864917">3.6 PUBREL – Publish release (QoS 2 publish received, part 2)</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864918">3.6.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864919">3.6.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864920">3.6.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864921">3.6.4 Actions</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864922">3.7 PUBCOMP – Publish complete (QoS 2 publish received, part 3)</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864923">3.7.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864924">3.7.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864925">3.7.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864926">3.7.4 Actions</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864927">3.8 SUBSCRIBE - Subscribe to topics</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864928">3.8.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864929">3.82 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864930">3.8.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864931">3.8.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864932">3.9 SUBACK – Subscribe acknowledgement</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864933">3.9.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864934">3.9.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864935">3.9.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864936">3.10 UNSUBSCRIBE – Unsubscribe from topics</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864937">3.10.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864938">3.10.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864939">3.10.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864940">3.10.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864941">3.11 UNSUBACK – Unsubscribe acknowledgement</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864942">3.11.1Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864943">3.11.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864944">3.11.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864945">3.12 PINGREQ – PING request</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864946">3.12.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864947">3.12.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864948">3.12.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864949">3.12.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864950">3.13 PINGRESP – PING response</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864951">3.13.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864952">3.13.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864953">3.13.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864954">3.14 DISCONNECT – Disconnect notification</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864955">3.14.1 Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864956">3.14.2 Variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864957">3.14.3 Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430864958">3.14.4 Response</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm">4 Operational behavior</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref369188333">4.1 Storing state</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430864961">4.1.1 Non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref368642907">4.2 Network Connections</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref363045966">4.3 Quality of Service levels and protocol flows</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430864964">4.3.1 QoS 0: At most once delivery</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref384138490">4.3.2 QoS 1: At least once delivery</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref384138602">4.3.3 QoS 2: Exactly once delivery</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref383618483">4.4 Message delivery retry</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430864968">4.5 Message receipt</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430864969">4.6 Message ordering</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref374621403">4.7 Topic Names and Topic Filters</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Topic_wildcards">4.7.1 Topic wildcards</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430864972"> 4.7.2 Topics beginning with $</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430865187">4.7.1.3 Single level wildcard</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Ref381955543">4.8 Handling errors </MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="Security.htm">5 Security</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864976">5.1 Introduction</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864977">5.2 MQTT solutions: security and certification</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864978">5.3 Lightweight cryptography and constrained devices</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864979">5.4 Implementation notes</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864980">5.4.1 Authentication of Clients by the Server</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864981">5.4.2 Authorization of Clients by the Server</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864982">5.4.3 Authentication of the Server by the Client</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864983">5.4.4 Integrity of Application Messages and Control Packets</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Ref374028308">5.4.5 Privacy of Application Messages and Control Packets</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864985"> 5.4.6 Proof of Delivery of message transmission</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864986">5.4.7 Detecting compromise of Clients and Servers</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864987">5.4.8 Detecting abnormal behaviors</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864988">5.4.9 Other security considerations</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864989">5.4.10 Use of SOCKS</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Security.htm#_Toc430864990">5.4.11 Security profiles</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="Using WebSocket as a network.htm">6 Using WebSocket as a network transport</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Using WebSocket as a network.htm#_Toc430864992"> 6.1 IANA Considerations</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="Conformance.htm">7 Conformance</MadCap:xref></span>
        </p>
        <p class="MsoToc2"><span class="MsoHyperlink"><MadCap:xref href="Conformance.htm#_Toc430864994">7.1 Conformance Targets</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Conformance.htm#7.1.1">7.1.1 MQTT Server</MadCap:xref></span>
        </p>
        <p class="MsoToc3"><span class="MsoHyperlink"><MadCap:xref href="Conformance.htm#_Toc430864996">7.1.2 MQTT Client</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="AppendixA.htm">Appendix A. Acknowledgements  (non normative)</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="AppendixB.htm">Appendix B. Mandatory normative statements (non normative)</MadCap:xref></span>
        </p>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="AppendixC.htm">Appendix C. Revision history  (non normative)</MadCap:xref></span>
        </p>
        <div style="border: none;border-top: solid gray 1.0pt;padding: 1.0pt 0in 0in 0in;">
            <p class="Notices">Table of Figures and Tables</p>
        </div>
        <p class="MsoToc1"><span class="MsoHyperlink"><MadCap:xref href="#_Figure_1.1_Structure">Figure 1.1 Structure of UTF-8 encoded strings</MadCap:xref></span>
        </p>
        <p class="MsoNormal"><span style="font-size: 9.0pt;"><MadCap:xref href="#_Toc430865011">Figure 1.2 UTF-8 encoded string non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Figure_2.1_-">Figure 2.1 – Structure of an MQTT Control Packet</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Figure_2.2_-">Figure 2.2 - Fixed header format</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Table_2.1_-">Table 2.1 - Control packet types</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Table_2.2_-">Table 2.2 - Flag Bits</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Table_2.4_Size">Table 2.4 Size of Remaining Length field</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Toc430865026">Figure 2.3 - Packet Identifier bytes</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Table_2.5_-">Table 2.5 - Control Packets that contain a Packet Identifier</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packet format.htm#_Table_2.6_-">Table 2.6 - Control Packets that contain a Payload</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865033">Figure 3.1 – CONNECT Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865036">Figure 3.2 - Protocol Name bytes</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865038">Figure 3.3 - Protocol Level byte</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865040">Figure 3.4 - Connect Flag bits</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865048">Figure 3.5 Keep Alive bytes</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865050">Figure 3.6 - Variable header non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865057">Figure 3.7 - Password bytes</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.8_–">Figure 3.8 – CONNACK Packet fixed headers</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Ref383984522">Figure 3.9 – CONNACK Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table_3.1_-">Table 3.1 – Connect Return code values</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Ref383984666">Figure 3.10 – PUBLISH Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table_3.11_-">Table 3.2 - QoS definitions</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table_3.2_-">Table 3.3 - Publish Packet non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.11_-">Figure 3.11 - Publish Packet variable header non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table_3.3_-">Table 3.4 - Expected Publish Packet response</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865088">Figure 3.12 - PUBACK Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865090">Figure 3.13 – PUBACK Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865095">Figure 3.14 – PUBREC Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865097">Figure 3.15 – PUBREC Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865102">Figure 3.16 – PUBREL Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865104">Figure 3.17 – PUBREL Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865109">Figure 3.18 – PUBCOMP Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865111">Figure 3.19 – PUBCOMP Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865116">Figure 3.20 – SUBSCRIBE Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.21_-">Figure 3.21 - Variable header with a Packet Identifier of 10, Non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865121">Figure 3.22 – SUBSCRIBE Packet payload format</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table_3.4_-">Table 3.5 - Payload non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.23_-">Figure 3.23 - Payload byte format non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865128">Figure 3.24 – SUBACK Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.25_-">Figure 3.25 – SUBACK Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.26_-">Figure 3.26 – SUBACK Packet payload format</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table_3.5_-">Table 3.6 - Payload non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.27_-">Figure 3.27 - Payload byte format non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865138">Figure 3.28 – UNSUBSCRIBE Packet Fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865140">Figure 3.29 – UNSUBSCRIBE Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Table3.6_-_Payload">Table3.7 - Payload non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Figure_3.30_-">Figure 3.30 - Payload byte format non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865148">Figure 3.31 – UNSUBACK Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865150">Figure 3.32 – UNSUBACK Packet variable header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865154">Figure 3.33 – PINGREQ Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865160">Figure 3.34 – PINGRESP Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="MQTT Control Packets.htm#_Toc430865160">Figure 3.34 – PINGRESP Packet fixed header</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430865175">Figure 4.1 – QoS 0 protocol flow diagram, non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Toc430865177">Figure 4.2 – QoS 1 protocol flow diagram, non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="Operational_behavior.htm#_Figure_4.3_–">Figure 4.3 – QoS 2 protocol flow diagram, non normative example</MadCap:xref></span>
        </p>
        <p class="MsoToc5" style="margin-left: 0in;"><span class="MsoHyperlink"><MadCap:xref href="Using WebSocket as a network.htm#_Toc430865213">Figure 6.1 - IANA WebSocket Identifier</MadCap:xref></span>
        </p>
        <ol start="1" class="ol_1">
            <h1 class="Heading1">1 <a name="_Toc430864872"></a>Introduction</h1>
            <div class="div_2">
                <p><b>Solace Implementation Note</b>
                </p>
                <p class="p_1">This document provides an annotated version of the full text of the MQTT 3.1.1 functional specification. MQTT 3.1.1 is supported by the Solace PubSub+ event brokers running Solace PubSub+ software version 7.1.1 or greater acting in the role of an MQTT server. The text of the protocol specification is annotated with boxes like this one, which indicate any deviations, limitations, or choices made in the “SHOULD” and “MAY” clauses for the Solace implementation.</p>
                <p class="p_1">Only exceptions to the MQTT 3.1.1 specification are highlighted – meaning that unless indicated otherwise, the Solace server conforms to each section of the specification.</p>
                <p>The target audience for these annotations are application developers developing MQTT clients for use with a Solace MQTT appliance as their MQTT server.</p>
                <p class="p_1">A summary of the functionality supported by Solace is below. Solace PubSub+ software has only a few exceptions from what is required in the MQTT 3.1.1 specification.</p>
                <ol start="1" class="ol_2">
                    <li class="li_1" value="1">Server-side role only</li>
                    <li value="2">QoS 0 and QoS 1 messages are fully supported. QoS 2 messages from clients are accepted but are treated as QoS 1 messages. QoS 2 subscriptions from clients are accepted but are downgraded to QoS 1. Both of these behaviors are allowed by the specification.</li>
                    <li class="li_1" value="3">Will messages are supported with certain limitations.</li>
                </ol>
            </div>
        </ol>
        <h2 class="Heading2"> <a name="_Toc430864873"></a>1.1 Organization of MQTT </h2>
        <p>This specification is split into seven chapters:</p>
        <ul>
            <li>
                <MadCap:xref href="#_Toc430864872">Chapter 1 - Introduction</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MQTT Control Packet format.htm">Chapter 2 - MQTT Control Packet format</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MQTT Control Packets.htm">Chapter 3 - MQTT Control Packets</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="Operational_behavior.htm">Chapter 4 - Operational Behavior</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="Security.htm">Chapter 5 - Security</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="Using WebSocket as a network.htm">Chapter 6 - Using WebSocket as a network transport</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="Conformance.htm">Chapter 7 - Conformance Targets</MadCap:xref>
            </li>
        </ul>
        <h2 class="Heading2"><a name="_Toc430864874"></a>1.2 Terminology</h2>
        <p style="font-weight: bold;">Network Connection:
        </p>
        <p>A construct provided by the underlying transport protocol that is being used by MQTT.</p>
        <ul>
            <li>It connects the Client to the Server.</li>
            <li>It provides the means to send an ordered, lossless, stream of bytes in both directions.</li>
        </ul>
        <p>For examples see Section <MadCap:xref href="Operational_behavior.htm#_Ref368642907" class="ParaTextOnly">Network Connections</MadCap:xref>.</p>
        <p style="font-weight: bold;">Application Message:</p>
        <p>The data carried by the MQTT protocol across the network for the application. When Application Messages are transported by MQTT they have an associated Quality of Service and a Topic Name.</p>
        <p>Client:</p>
        <p>A program or device that uses MQTT. A Client always establishes the Network Connection to the Server. It can</p>
        <ul>
            <li>Publish Application Messages that other Clients might be interested in.</li>
            <li> Subscribe to request Application Messages that it is interested in receiving.</li>
            <li>Unsubscribe to remove a request for Application Messages.</li>
            <li>Disconnect from the Server.</li>
        </ul>
        <p><b>Server:</b>
        </p>
        <p>A program or device that acts as an intermediary between Clients which publish Application Messages and Clients which have made Subscriptions. A Server</p>
        <ul>
            <li>Accepts Network Connections from Clients.</li>
            <li>Accepts Application Messages published by Clients.</li>
            <li>Processes Subscribe and Unsubscribe requests from Clients.</li>
            <li>Forwards Application Messages that match Client Subscriptions.</li>
        </ul>
        <p><span class="Refterm">Subscription:</span>
        </p>
        <p>A Subscription comprises a Topic Filter and a maximum QoS. A Subscription is associated with a single Session. A Session can contain more than one Subscription. Each Subscription within a session has a different Topic Filter.</p>
        <p><span class="Refterm">Topic Name:</span>
        </p>
        <p>The label attached to an Application Message which is matched against the Subscriptions known to the Server. The Server sends a copy of the Application Message to each Client that has a matching Subscription.</p>
        <p><span class="Refterm">Topic Filter:</span>
        </p>
        <p>An expression contained in a Subscription, to indicate an interest in one or more topics. A Topic Filter can include wildcard characters.</p>
        <p><span class="Refterm">Session:</span>
        </p>
        <p>A stateful interaction between a Client and a Server. Some Sessions last only as long as the Network Connection, others can span multiple consecutive Network Connections between a Client and a Server.</p>
        <p><span class="Refterm">MQTT Control Packet:</span>
        </p>
        <p>A packet of information that is sent across the Network Connection. The MQTT specification defines fourteen different types of Control Packet, one of which (the PUBLISH packet) is used to convey Application Messages.</p>
        <h2 class="Heading2"><a name="_Normative_References"></a><a name="_Toc430864875">1.3 </a>Normative references</h2>
        <p><span class="span_5">Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", BCP 14, RFC 2119, March 1997.</span> <a href="http://www.ietf.org/rfc/rfc2119.txt" class="link-internal">http://www.ietf.org/rfc/rfc2119.txt</a></p>
        <p>&#160;</p>
        <p><span class="Refterm_2">[RFC <a name="RFC3629"></a> 3629]</span>
        </p>
        <p><span class="span_5">Yergeau, F., "UTF-8, a transformation format of ISO 10646", STD 63, RF</span><span class="span_5">C 3629, November 2003</span> <a href="http://www.ietf.org/rfc/rfc3629.txt" class="link-internal">http://www.ietf.org/rfc/rfc3629.txt</a></p>
        <p>&#160;</p>
        <p><span class="Refterm_2">[RFC 5246]</span><a name="RFC6455"></a>
        </p>
        <p class="p_2">Dierks, T. and E. Rescorla, "The Transport Layer Security (TLS) Protocol Version 1.2", RFC 5246, August 2008.</p>
        <p><a href="http://www.ietf.org/rfc/rfc5246.txt" class="link-internal">http://www.ietf.org/rfc/rfc5246.txt</a>
        </p>
        <p>&#160;</p>
        <p><span class="Refterm_2">[<a name="RFC5246"></a>RFC 6455]</span>
        </p>
        <p class="p_2">Fette, I. and A. Melnikov, "The WebSocket Protocol", RFC 6455, December 2011.</p>
        <p><a href="http://www.ietf.org/rfc/rfc6455.txt" class="link-internal">http://www.ietf.org/rfc/rfc6455.txt</a>
        </p>
        <p>&#160;</p>
        <p class="Refterm_1"><a name="Unicode">[Unicode]</a>
        </p>
        <p><span class="span_5">The Unicode Consortium. The Unicode Standard.</span>
        </p>
        <p><a href="http://www.unicode.org/versions/latest/" class="link-internal">http://www.unicode.org/versions/latest/</a>
        </p>
        <h2 class="Heading2"><a name="_Toc430864876"></a>1.4 Non normative references</h2>
        <p class="HTMLPreformatted"><span class="span_9"><a name="Postel,"></a>Postel, J. Transmission Control Protocol .  STD 7,  IETF RFC 793, September 1981.</span>
        </p>
        <p class="HTMLPreformatted"><a href="http://www.ietf.org/rfc/rfc793.txt" class="link-internal">http://www.ietf.org/rfc/rfc793.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="AES"></a><span class="Refterm_2">[AES]</span>
        </p>
        <p class="HTMLPreformatted_1">Advanced Encryption Standard (AES) (FIPS PUB 197).</p>
        <p class="p_3"><a href="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf" class="Hyperlink">http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="DES"></a><span class="Refterm_2">[DES]</span>
        </p>
        <p class="HTMLPreformatted_1">Data Encryption Standard (DES).</p>
        <p class="p_3"><a href="http://csrc.nist.gov/publications/fips/fips46-3/fips46-3.pdf" class="Hyperlink">http://csrc.nist.gov/publications/fips/fips46-3/fips46-3.pdf</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="FIPS1402"></a><span class="Refterm_2">[FIPS1402]</span>
        </p>
        <p class="p_2">Security Requirements for Cryptographic Modules (FIPS PUB 140-2)</p>
        <p class="p_3"><a href="http://csrc.nist.gov/publications/fips/fips140-2/fips1402.pdf" class="link-internal">http://csrc.nist.gov/publications/fips/fips140-2/fips1402.pdf</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="IEEE8021AR"></a><span class="Refterm_2">[IEEE 802.1AR]</span>
        </p>
        <p class="HTMLPreformatted_1">IEEE Standard for Local and metropolitan area networks - Secure Device Identity</p>
        <p class="p_3"><a href="http://standards.ieee.org/findstds/standard/802.1AR-2009.html" class="link-internal">http://standards.ieee.org/findstds/standard/802.1AR-2009.html</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="ISO29192"></a><span class="Refterm_2">[ISO29192]</span>
        </p>
        <p class="p_4">ISO/IEC 29192-1:2012 Information technology -- Security techniques -- Lightweight cryptography -- Part 1: General</p>
        <p class="p_3"><a href="http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=56425" class="link-internal">http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=56425</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="MQTT-NIST"></a><span class="Refterm_2">[MQTT NIST]</span>
        </p>
        <p class="p_4">MQTT supplemental publication, MQTT and the NIST Framework for Improving Critical Infrastructure Cybersecurity</p>
        <p class="p_3"><a href="http://docs.oasis-open.org/mqtt/mqtt-nist-cybersecurity/v1.0/mqtt-nist-cybersecurity-v1.0.html" class="link-internal">http://docs.oasis-open.org/mqtt/mqtt-nist-cybersecurity/v1.0/mqtt-nist-cybersecurity-v1.0.html</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a href="#_Normative_References"><span class="Refterm_2">[MQTTV31]</span></a>
        </p>
        <p class="HTMLPreformatted_1">MQTT V3.1 Protocol Specification.</p>
        <p><a href="http://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/mqtt-v3r1.html" class="link-internal">http://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/mqtt-v3r1.html</a>
        </p>
        <p>&#160;</p>
        <p><a name="NISTCSF"></a><span class="Refterm_2">[NISTCSF]</span>
        </p>
        <p class="p_3"><span class="span_5">Improving Critical Infrastructure Cybersecurity Executive Order 13636</span><a href="http://www.nist.gov/itl/upload/preliminary-cybersecurity-framework.pdf" class="link-internal">http://www.nist.gov/itl/upload/preliminary-cybersecurity-framework.pdf</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="NIST7628"></a><span class="Refterm_2">[NIST 7628]</span>
        </p>
        <p class="HTMLPreformatted_1">NISTIR 7628 Guidelines for Smart Grid Cyber Security</p>
        <p class="p_3"><a href="http://www.nist.gov/smartgrid/upload/nistir-7628_total.pdf" class="link-internal">http://www.nist.gov/smartgrid/upload/nistir-7628_total.pdf</a>
        </p>
        <p>&#160;</p>
        <p><a name="NSAB"></a><span class="Refterm_2">[NSAB]</span>
        </p>
        <p class="HTMLPreformatted_1">NSA Suite B Cryptography</p>
        <p class="p_3"><a href="http://www.nsa.gov/ia/programs/suiteb_cryptography/" class="link-internal">http://www.nsa.gov/ia/programs/suiteb_cryptography/</a>
        </p>
        <p>&#160;</p>
        <p><a name="PCIDSS"></a><span class="Refterm_2">[PCIDSS]</span>
        </p>
        <p class="HTMLPreformatted_1">PCI-DSS Payment Card Industry Data Security Standard</p>
        <p class="p_3"><a href="https://www.pcisecuritystandards.org/security_standards/" class="link-internal">https://www.pcisecuritystandards.org/security_standards/</a>
        </p>
        <p>&#160;</p>
        <p><span class="Refterm_2"><a name="RFC1928"></a>[RFC1928]</span>
        </p>
        <p class="p_2">Leech, M., Ganis, M., Lee, Y., Kuris, R., Koblas, D., and L. Jones, "SOCKS Protocol Version 5", RFC 1928, March 1996. </p>
        <p class="HTMLPreformatted"><a href="http://www.ietf.org/rfc/rfc1928.txt" class="link-internal">http://www.ietf.org/rfc/rfc1928.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="RFC4511"></a><span class="Refterm_2">[RFC4511]</span>
        </p>
        <p class="p_2">Sermersheim, J., Ed., "Lightweight Directory Access Protocol (LDAP): The Protocol", RFC 4511, June 2006.</p>
        <p><a href="http://www.ietf.org/rfc/rfc4511.txt" class="link-internal">http://www.ietf.org/rfc/rfc4511.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="RFC5077"></a><span class="Refterm_2">[RFC5077]</span>
        </p>
        <p class="p_4">Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig, "Transport Layer Security (TLS) Session Resumption without Server-Side State", RFC 5077, January 2008.</p>
        <p><a href="http://www.ietf.org/rfc/rfc5077.txt" class="link-internal">http://www.ietf.org/rfc/rfc5077.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="RFC5280"></a><span class="Refterm_2">[RFC5280]</span>
        </p>
        <p class="p_4">Cooper, D., Santesson, S., Farrell, S., Boeyen, S., Housley, R., and W. Polk, "Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile", RFC 5280, May 2008.</p>
        <p><a href="http://www.ietf.org/rfc/rfc5280.txt" class="link-internal">http://www.ietf.org/rfc/rfc5280.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="RFC6066"></a><span class="Refterm">[RFC6066]</span>
        </p>
        <p>Eastlake 3rd, D., "Transport Layer Security (TLS) Extensions: Extension Definitions", RFC 6066, January 2011. </p>
        <p><a href="http://www.ietf.org/rfc/rfc6066.txt" class="link-internal">http://www.ietf.org/rfc/rfc6066.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="RFC6749"></a><span class="Refterm_2">[RFC6749]</span>
        </p>
        <p class="p_2">Hardt, D., Ed., "The OAuth 2.0 Authorization Framework", RFC 6749, October 2012.</p>
        <p><a href="http://www.ietf.org/rfc/rfc6749.txt" class="link-internal">http://www.ietf.org/rfc/rfc6749.txt</a>
        </p>
        <p>&#160;</p>
        <p><a name="RFC6960"></a><span class="Refterm_2">[RFC 69960]</span>
        </p>
        <p class="p_4">Santesson, S., Myers, M., Ankney, R., Malpani, A., Galperin, S., and C. Adams, "X.509 Internet Public Key Infrastructure Online Certificate Status Protocol - OCSP", RFC 6960, June 2013.</p>
        <p class="p_3"><a href="http://www.ietf.org/rfc/rfc6960.txt" class="link-internal">http://www.ietf.org/rfc/rfc6960.txt</a>
        </p>
        <p class="p_3">&#160;</p>
        <p><a name="SARBANES"></a><span class="Refterm_2">[SARBANES]</span>
        </p>
        <p class="p_4">Sarbanes-Oxley Act of 2002.</p>
        <p class="p_3"><a href="http://www.gpo.gov/fdsys/pkg/PLAW-107publ204/html/PLAW-107publ204.htm" class="link-internal">http://www.gpo.gov/fdsys/pkg/PLAW-107publ204/html/PLAW-107publ204.htm</a>
        </p>
        <p>&#160;</p>
        <p><a name="USEUSAFEHARB"></a><span class="Refterm_2">[USEUSAFEHARB]</span>
        </p>
        <p class="p_4">U.S.-EU Safe Harbor</p>
        <p class="p_3"><a href="http://export.gov/safeharbor/eu/eg_main_018365.asp" class="link-internal">http://export.gov/safeharbor/eu/eg_main_018365.asp</a>
        </p>
        <h2 class="Heading2"><a name="_Toc430864877"></a>1.5 Data representations</h2>
        <h3 class="Heading3"><a name="1.5.1"></a>1.5.1 Bits</h3>
        <p>Bits in a byte are labeled 7 through 0. Bit number 7 is the most significant bit, the least significant bit is assigned bit number 0.</p>
        <h3 class="Heading3"><a name="_Toc430864879"></a>1.5.2 Integer data values</h3>
        <p>Integer data values are 16 bits in big-endian order: the high order byte precedes the lower order byte. This means that a 16-bit word is presented on the network as Most Significant Byte (MSB), followed by Least Significant Byte (LSB).</p>
        <h3 class="Heading3"><a name="_Ref374438163"></a>1.5.3 UTF-8 encoded strings</h3>
        <p>Text fields in the Control Packets described later are encoded as UTF-8 strings. UTF-8 <a href="#RFC3629"><span class="Hyperlink_4">[RFC 3629]</span></a>is an efficient encoding of Unicode <span class="Refterm_3">[<MadCap:xref href="#Unicode">Unicode</MadCap:xref>]</span> characters that optimizes the encoding of ASCII characters in support of text-based communications.</p>
        <p class="CommentText">Each of these strings is prefixed with a two byte length field that gives the number of bytes in a UTF-8 encoded string itself, as illustrated in <a href="#_Figure_1.1_Structure"><span class="Hyperlink">Figure 1.1 Structure of UTF-8 encoded strings</span></a> below. Consequently there is a limit on the size of a string that can be passed in one of these UTF-8 encoded string components; you cannot use a string that would encode to more than 65535 bytes.</p>
        <p class="Footer">Unless stated otherwise all UTF-8 encoded strings can have any length in the range 0 to 65535 bytes.</p>
        <p class="GraphicCaptionWord"><a name="_Figure_1.1_Structure"></a>Figure 1.1 Structure of UTF-8 encoded strings</p>
        <p><span class="span_12">The character data in a UTF-8 encoded string MUST be well-formed UTF-8 as defined by the Unicode specification <span class="Refterm_3">[<MadCap:xref href="#Unicode">Unicode</MadCap:xref>]</span> and restated in RFC 3629 [</span><a href="#RFC3629">RFC3629</a><span class="span_13">]. In particular this data MUST NOT include encodings of code points between U+D800 and U+DFFF. If a Server or Client receives a Control Packet containing ill-formed UTF-8 it MUST close the Network Connection</span>&#160;<span class="span_14">[MQTT-1.5.3-1]</span>.<br /><br /><span class="span_12">A UTF-8 encoded string MUST NOT include an encoding of the null character U+0000. If a receiver (Server or Client) receives a Control Packet containing U+0000 it MUST close the Network Connection</span>&#160;<span class="span_14">[MQTT-1.5.3-2].</span><br /></p>
        <p>The data SHOULD NOT include encodings of the Unicode code points listed below. If a receiver (Server or Client) receives a Control Packet containing any of them it MAY close the Network Connection:<br /><br />U+0001..U+001F control characters&#160;<br />U+007F..U+009F control characters&#160;<br />Code points defined in the Unicode specification [<span class="Hyperlink_6">Unicode</span>] to be non-characters (for example U+0FFFF)&#160;<br /><br /><span class="span_12">A UTF-8 encoded sequence 0xEF 0xBB 0xBF is always to be interpreted to mean U+FEFF ("ZERO WIDTH NO-BREAK SPACE") wherever it appears in a string and MUST NOT be skipped over or stripped off by a packet receiver</span>&#160;<span class="span_14">[MQTT-1.5.3-3].</span></p>
        <h4 class="Heading4">1.5.3.1 Non normative example</h4>
        <p class="GraphicCaptionWord"><a name="_Toc430865011"></a>Figure 1.2 UTF-8 encoded string non normative example</p>
        <table class="table_1">
            <col style="width: 96pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <col style="width: 48pt;" />
            <tr>
                <td class="td_1">
                    <p class="p_5">Bit</p>
                </td>
                <td class="td_2">
                    <p class="p_5">7</p>
                </td>
                <td class="td_2">
                    <p class="p_5">6</p>
                </td>
                <td class="td_2">
                    <p class="p_5">5</p>
                </td>
                <td class="td_2">
                    <p class="p_5">4</p>
                </td>
                <td class="td_2">
                    <p class="p_5">3</p>
                </td>
                <td class="td_2">
                    <p class="p_5">2</p>
                </td>
                <td class="td_2">
                    <p class="p_5">1</p>
                </td>
                <td class="td_2">
                    <p class="p_5">0</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>byte 1</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">String Length MSB (0x00)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>byte 2</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">String Length LSB (0x05)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>byte 3</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">‘A’ (0x41)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>byte 4</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">(0xF0)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>byte 5</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">(0xAA)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
            </tr>
            <tr style="height: 25pt;">
                <td class="td_3">
                    <p>byte 6</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">(0x9B)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>byte 7</p>
                </td>
                <td colspan="8" class="td_4">
                    <p class="p_6">(0x94)</p>
                </td>
            </tr>
            <tr>
                <td class="td_3">
                    <p>&#160;</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">1</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
                <td class="td_4">
                    <p class="p_6">0</p>
                </td>
            </tr>
        </table>
        <h2 class="Heading2"><a name="_Toc430864881"></a>1.6 Editing conventions</h2>
        <p>Text highlighted in <span class="span_17">Yellow</span> within this specification identifies conformance statements. Each conformance statement has been assigned a reference in the format <span class="span_14">[MQTT-x.x.x-y]</span>.</p>
    </body>
</html>