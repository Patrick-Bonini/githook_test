<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Installing SolOpenMAMA Components</h1>
    <p>To use SolOpenMAMA, the following components must be installed and configured:</p>
    <ul>
      <li>
        <MadCap:xref href="#solace-pubsub-event-broker">Solace PubSub+ Event Broker</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#client-systems">Client Systems</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#last-value-message-caching">Last-Value Message Caching</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule"><a name="solace-pubsub-event-broker"/>Solace PubSub+ Event Broker</h2>
    <p>For client applications to be able to publish and/or receive OpenMAMA messages through Solace PubSub+, event brokers must be networkâ€‘accessible and properly configured to handle messaging clients.</p>
    <p>To use an event broker specifically for OpenMAMA messaging, the following extra requirements must be met:</p>
    <ul>
      <li>Solace PubSub+ Version 7.1 or higher must be used</li>
      <li>a Solace-provided product key is required to use the OpenMAMA transport service</li>
      <li>a Solace-provided product key is required to use the PubSub+ Cache facility <p class="Note"> If the required product keys are not pre-entered on the event broker by Solace, valid product keys provided by Solace must be manually entered on the event broker. For assistance with product keys, <a href="../../get-support.htm" class="link-internal">contact Solace</a>.</p></li>
    </ul>
    <h2 class="with-rule"><a name="client-systems"/>Client Systems</h2>
    <p>For client applications to be able to publish and/or receive OpenMAMA messages through Solace PubSub+, the following requirements must be met on the system on which the client application is installed:</p>
    <ul>
      <li>install Solace Middleware and Payload Bridges (refer to <MadCap:xref href="#installing-solace-middleware-and-payload-bridges">Installing Solace Middleware and Payload Bridges</MadCap:xref>)</li>
      <li>install OpenMAMA and OpenMAMDA APIs (refer to <MadCap:xref href="#installing-openmama-and-openmamada-APIs">Installing OpenMAMA and OpenMAMDA APIs</MadCap:xref>)</li>
      <li>install Solace C messaging API (refer to <MadCap:xref href="#Installing-the-C-messaging-API">Installing the C Messaging API</MadCap:xref>)</li>
      <li>(optionally) install data dictionaries</li>
    </ul>
    <h3><a name="installing-solace-middleware-and-payload-bridges"/>Installing Solace Middleware and Payload Bridges</h3>
    <p>A Solace Middleware Bridge and a Solace Payload Bridge must be installed on:</p>
    <ul>
      <li>each system that hosts an OpenMAMA client application</li>
      <li>when last-value caching is to be used, each Linux server that will host a PubSub+ Cache Instance </li>
    </ul>
    <p>A Solace Middleware Bridge and a Solace Payload Bridge are provided in the single archive file (<code>solopenmama_bridge_&lt;supported_environment&gt;_&lt;releasenumber&gt;.tar.gz</code>) that can be downloaded from the Solace Secure File Transfer Protocol (SFTP) server.</p>
    <p>Archives are available for each of the following supported environments:</p>
    <ul>
      <li>Windows 7 (32-bit and 64-bit versions)</li>
      <li>Windows 8 (32-bit and 64-bit versions)</li>
      <li>Windows Server 2008 (32-bit and 64-bit versions)</li>
      <li>Linux26-i386</li>
      <li>Linux26-x86_64</li>
    </ul>
    <p>These archives may contain build artifacts for the particular environment you choose (for example, static/dynamic libraries, optimized/debug libraries, and so on).</p>
    <p>To install a Solace Middleware Bridge and a Solace Payload Bridge on a system that hosts an OpenMAMA client application or a PubSub+ Cache Instance, perform the following procedures:</p>
    <ol>
      <li>Download a SolOpenMAMA Bridge archive file for the appropriate system environment.</li>
      <li>Unzip the archive file.</li>
      <li>Copy the Solace Middleware Bridge and Payload Bridge runtime libraries from the <code>lib</code> directory to an install directory from which they can be statically or dynamically linked.</li>
    </ol>
    <h3><a name="installing-openmama-and-openmamada-APIs"/>Installing OpenMAMA and OpenMAMDA APIs</h3>
    <p>The standard OpenMAMA and OpenMAMDA APIs must be installed on:</p>
    <ul>
      <li>OpenMAMA client applications to allow them to interact with the Solace Middleware and Payload Bridges.                <p>The native C, or the C++, Java, or C# wrappers of the OpenMAMA and OpenMAMDA APIs may be installed, depending on the particular requirements of the client application and the system hosting that application.</p></li>
    </ul>
    <ul>
      <li>each Linux system to host a PubSub+ Cache Instance <p>Only the native C versions of the OpenMAMA and OpenMAMDA APIs must be installed.</p></li>
    </ul>
    <p>The OpenMAMA and OpenMAMDA APIs are maintained and freely distributed by the OpenMAMA project. They are not provided by Solace. To download the OpenMAMA and OpenMAMDA APIs, go to <a href="http://openmama.org/">openmama.org</a>.</p>
    <p class="Note">For information on the supported OpenMAMA and OpenMAMDA APIs versions, refer to <i class="Emphasis">Solace OpenMAMA Release Notes</i>.</p>
    <p>To install the OpenMAMA and OpenMAMDA APIs to a common install directory on a host system, follow the instructions provided with the downloaded OpenMAMA archive files.</p>
    <p>The obtained APIs must then be configured to use Solace Middleware and Payload bridges. A <code>mama.properties</code> file is used for these configurations (refer to <MadCap:xref MadCap:unresolvedLink="import-link:configuring_solace_openmama_bridges_1242721495_48690" href="Configuring-Solace-OpenMAMA-Bridges.htm">Configuring Solace OpenMAMA Bridges</MadCap:xref>).</p>
    <h3><a name="Installing-the-C-messaging-API"/>Installing the C Messaging API</h3>
    <p>The Solace C API must be installed on each system that hosts an OpenMAMA client application. The C API is provided as an archive.</p>
    <p class="Note">If PubSub+ Cache is to be used, the C API must be installed on each Linux system that will host a PubSub+ Cache Instance. For more information, follow the steps in the <code>README</code> file included with the PubSub+ Cache installation package.</p>
    <p>To install the C API on a system that hosts an OpenMAMA client application, perform the following procedures:</p>
    <ol>
      <li>Download a C API archive file for the appropriate system environment.        <p class="Note">The Solace C API will reside on the same host as the Solace Middleware Bridge and Solace Payload Bridge, therefore, the C API version that you download must support the same environment as the Solace Middleware Bridge and Solace Payload Bridge. For more information on the environments supported by the Solace Middleware Bridge and Solace Payload Bridge, refer to <MadCap:xref href="#installing-solace-middleware-and-payload-bridges">Installing Solace Middleware and Payload Bridges</MadCap:xref>.</p></li>
      <li>Unzip the downloaded archive file. <p class="Note">The sample C API applications contained in the <code>ex</code> directory should not be used or consulted for use with an OpenMAMA messaging environment because all application interaction with C API will occur through the Solace Middleware and Payload Bridges.</p></li>
      <li>Copy the C API runtime libraries from the <code>lib</code> directory to the same install directory that contains the OpenMAMA and OpenMAMDA APIs.
			</li>
    </ol>
    <h2 class="with-rule"><a name="last-value-message-caching"/>Last-Value Message Caching</h2>
    <p>If the PubSub+ Cache last-value caching facility is to be used, the following components must be installed and properly configured on each 64-bit Linux system that will host a PubSub+ Cache Instance:</p>
    <ul>
      <li>Solace Middleware Bridge (refer to <MadCap:xref href="#installing-solace-middleware-and-payload-bridges">Installing Solace Middleware and Payload Bridges</MadCap:xref>)</li>
      <li>Solace C API (refer to <MadCap:xref href="#Installing-the-C-messaging-API">Installing the C Messaging API</MadCap:xref>)</li>
      <li>OpenMAMA and OpenMAMDA APIs (refer to <MadCap:xref href="#installing-openmama-and-openmamada-APIs">Installing OpenMAMA and OpenMAMDA APIs</MadCap:xref>)</li>
      <li>OpenMAMA data dictionary</li>
      <li>PubSub+ Cache Instance software</li>
      <li>OpenMAMA-specific SolOpenMAMA Plug-In (refer to <MadCap:xref href="#installing-and-configuring-pubsubcache-instances">Installing and Configuring PubSub+ Cache Instances</MadCap:xref>)</li>
    </ul>
    <h3><a name="installing-and-configuring-pubsubcache-instances"/>Installing and Configuring PubSub+ Cache Instances</h3>
    <p>A PubSub+ Cache Instance consists of a single PubSub+ Cache process that must be installed on a standalone Linux system and a corresponding PubSub+ Cache Instance object on an event broker that is created through the Solace CLI.</p>
    <ul>
      <li>To install a PubSub+ Cache Instance on standalone Linux systems, follow the steps in the <code>README</code> file included with the PubSub+ Cache installation package.
        <p>The PubSub+ Cache installation package is available for download. <a href="../../get-support.htm" class="link-internal">Contact Solace</a> if you do not have access to this download site.</p><p class="Note">PubSub+ Cache Instances to be used for OpenMAMA message caching must only use the debug and optimized 64-bit Linux versions of the PubSub+ Cache Instance software.</p></li>
      <li>To configure the corresponding PubSub+ Cache Instance on the event broker, refer to <MadCap:xref MadCap:unresolvedLink="import-link:configuring_and_managing_solcache_541341864_58652" href="../../Additional-Products/Solace-PubSub-Cache/Configuring-PubSub-Cache-Ins.htm">Configuring PubSub+ Cache Instances</MadCap:xref>.</li>
    </ul>
    <h3><a name="installing-solopenmama-plugins"/>Installing SolOpenMAMA Plug-Ins</h3>
    <p>After you have installed a PubSub+ Cache Instance on a Linux server, you must replace the default PubSub+ Cache Plug-In provided with the PubSub+ Cache Instance with a Solace-customized SolOpenMAMA Plug-In.</p>
    <p>The SolOpenMAMA Plug-In is required for a PubSub+ Cache Instance to properly handle received OpenMAMA messages according to their message type (for example, an initial message or an update) before they are cached. This special handling is used to facilitate OpenMAMA incremental/delta updates.</p>
    <p>To install the SolOpenMAMA Plug-In for a PubSub+ Cache Instance, follow this procedure:</p>
    <ol>
      <li>Download the SolOpenMAMA Plug-In archive file (<code>solopenmama_plugin_&lt;supported_environment&gt;_&lt;releasenumber&gt;.tar.gz</code>) from the Solace SFTP server.</li>
      <li>Unzip the archive file.</li>
      <li>Replace the default PubSub+ Cache Plug-In library (<code>libSolCachePlugin.so</code>) that is located in the PubSub+ Cache install directory on the Linux server (for example, <code>/usr/local/solace</code>) with the Solace-customized SolOpenMAMA Plug-In library of the same name from the <code>lib</code> directory of the extracted package.</li>
      <li>Copy the Solace-provided dictionary from the extracted package or a customer-provided dictionary to the PubSub+ Cache install directory on the Linux server.</li>
      <li>Copy the Solace-provided SolOpenMAMA Plug-In configuration file (<code>mama.properties</code>) to the PubSub+ Cache install directory on the Linux server, and use a text editor to configure this file (refer to <MadCap:xref href="Configuring-Message-Caching.htm#Configur">Configuring the SolOpenMAMA Plug-In</MadCap:xref>).</li>
    </ol>
  </body>
</html>
