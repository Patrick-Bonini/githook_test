<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1><MadCap:variable name="Manifest-Products-Connectors.connector_manager_long"/> Example</h1>
    <p><MadCap:variable name="Manifest-Products-Connectors.connector_manager_long"/> is distributed with a few examples (sample configurations and shell scripts), allowing you to start and run the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> together with different <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s  with minimum effort. </p>
    <p>This section provides step-by-step instructions on how to run the <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_IBM_MQ"/> example that is provided in the  zip archive in the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>'s package. You can use this section as a model to apply similar instructions for any  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> (after downloading the configuration and executable files for these  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s).</p>
    <p>For detailed information about the samples folder and examples, see <MadCap:xref href="connector-manager.htm#starting-the-connector-manager">Starting the [%=Manifest-Products-Connectors.connector_manager_short%]</MadCap:xref>. </p>
    <h2 class="with-rule"><a name="starting-the-connector-manager"/>Starting the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/></h2>
    <p>The shell script to start the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> allows you to initiate a <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> instance and pre-configure it with essential parameters. For detailed information, see <MadCap:xref href="connector-manager.htm#starting_the_connector_manager_with_shell_script">Starting the [%=Manifest-Products-Connectors.connector_manager_short%] with Shell Script</MadCap:xref>. </p>
    <h3><a name="encrypting-values-for-cloud-configurations"/>Encrypting Values for Cloud Configurations</h3>
    <p>To create encrypted values for cloud configuration files, you must start the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>  in <code>local</code> mode (completely isolated from any production environment with the keystore file that is generated for this purpose) with enabled encryption, or as a localhost. For detailed information, see <MadCap:xref href="connector-manager.htm#encrypting-values-for-cloud-configuration">Encrypting Values for Cloud Configurations</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="starting-connectors"/>Starting <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_titlecase"/>s</h2>
    <p>In addition to the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> configurations, the <code>samples/connectors</code> folder contains a few configuration examples to start <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> instances  (with the script to do that). Therefore, all commands that you need are in the <code>samples/connectors</code> folder.</p>
    <p>Currently, the examples of configuration parameters for  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s are available for:</p>
    <ul>
      <li>
        <p>IBM MQ</p>
      </li>
      <li>
        <p>TIBCO EMS</p>
      </li>
    </ul>
    <p>The <code>samples/connectors</code> folder contains a few nested subdirectories:</p>
    <ul>
      <li>
        <p><code>applications</code> — contains all JAR files with  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s (not included). You must have the JAR files of the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s copied into this folder.</p>
      </li>
      <li>
        <p><code>libs</code> — contains some third-party libraries that are required for any  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> to run. If necessary, you must fill these out before starting your  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>(s).</p>
      </li>
      <li>
        <p><code>connectors-configs</code> — contains operator configurations that are required to start up the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>.</p>
      </li>
      <li>
        <p><code>security</code> — contains a pre-generated keystore called <code>demo.jks</code>. This must not be used for any purpose other than demonstration.</p>
      </li>
    </ul>
    <p>In the <code>samples/connectors</code> folder, there is a <code>connector.sh</code> script that allows you to start up the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>. This script is the same as the one distributed with any  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>, so all the required parameters are the same.</p>
    <h3><a name="prerequisites-for-connector-startup"/>Prerequisites for <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_titlecase"/> Startup </h3>
    <p style="font-weight: normal;">Before running your  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> with the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>, make sure that a few prerequisites are met. </p>
    <h4><a name="prerequisites-for-the-pubsub-event-broker"/>Prerequisites for the PubSub+ Software Event Broker:</h4>
    <ul>
      <li>
        <p>The <MadCap:variable name="Product-Names.broker_sw_short"/> must be running on port <code>55555</code> with default parameters.</p>
      </li>
      <li>
        <p> A queue with the name <code>Solace/Queue/0</code> must be created.</p>
      </li>
    </ul>
    <h4><a name="prerequisites-for-the-IBM-MQ-broker"/>Prerequisites for the IBM MQ Broker:</h4>
    <ul>
      <li>
        <p>The IBM MQ broker must be running with default parameters. Credentials are:</p>
        <ul>
          <li>
            <p>Username: <code>admin</code></p>
          </li>
          <li>
            <p>Password: <code>passw0rd</code></p>
          </li>
          <li>
            <p>Queue Manager: <code>QM1</code></p>
          </li>
        </ul>
      </li>
    </ul>
    <ul>
      <li>
        <p> A queue with the name <code>DEV.QUEUE.0</code> must be created.</p>
      </li>
    </ul>
    <h4><a name="prerequisites-for-configuration"/>Prerequisites for Configuration:</h4>
    <p>In the <code>samples/connectors/connectors-configs/ibmmq</code> folder in the <code>application.yml</code> file, the  <code>encrypt.keyStore.location</code> variable must be modified to include the absolute path.</p>
    <p>This is a full list of the parameters that you can use with shell script for <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s:</p>
    <table style="width: 100%;mc-table-style: url('../../../../Resources/TableStyles/Table_Num.css');margin-left: 0;margin-right: auto;" class="TableStyle-Table_Num" cellspacing="0">
      <caption style="text-align: left;">
        <a name="parameters-to-use-with-shell-script-for-pubsub-self-contained-connectors"/>
      </caption>
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/>
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 75%;"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1" style="text-align: center;">Parameter</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1" style="text-align: center;">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-n</code> or <code>--name</code></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the name of the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> instance that is set up in <code>spring.application.name</code>. This name has an impact on grouping  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>s only.
</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-l</code> or <code>--libs</code></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the directory that contains the required and optional dependency JARs, such as Micrometer metrics export dependencies (if configured). If not specified, it uses the current <code>./libs/</code> folder.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-p</code> or <code>--profile</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the profile to be used for  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> configuration. The <code>application-&lt;profile&gt;.yml</code>configuration file  is used. The default value is empty, which means that the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> will look for a configuration file called <code>application.yml</code>.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1"><code>-c</code> or <code>--config</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p>Specifies the path to the folder that contains the configuration files to be applied during  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> startup for the chosen profile. By default, it is set to the current folder and automatically looks in nested and sibling <code>config</code> folders (if any), as well as in the current and parent folders.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-P</code> or <code>--port</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the port that the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> will be running on. The default value is <code>8090</code>.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-H</code> or <code>--host</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the host that the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> will be running on. The default value is <code>127.0.0.1</code>.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-mp</code> or <code>--mgmt_port</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the management port for the back calls of the current  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> from the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>. The default value is <code>9009</code>. Ignored if the <code>-cm</code> argument is missing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1"><code>-j</code> or <code>--jar</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p>Specifies the path to the specified JAR file to start the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/>. If not specified, the default JAR file from the current folder is used.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-cm</code> or <code>--manager</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Allows cloud configuration for the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> by using the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>'s configuration storage.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-cmp</code> or <code>--cm_port</code></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the port that the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> is running on. The default value is <code>9500</code>. Ignored if the <code>-cm</code> argument is missing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-cmh</code> or <code>--cm_host</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Specifies the host that the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> is running on. The default value is <code>127.0.0.1</code>. Ignored if the <code>-cm</code> argument is missing.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1"><code>-o</code> or <code>--options</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p>Specifies the JVM options that are used when starting the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> (for example, <code>-Xms64M -Xmx1G</code>). Use single/double quotes to specify parameters.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-b</code> or <code>--background</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Runs the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> in the background. No logs are displayed, and the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> continues to run in detached mode.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>-s</code> or <code>--show</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Prints the start CLI command in raw format and exits.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>-h</code> or <code>--help</code><![CDATA[	]]></td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>Prints this help page and exits.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <h3><a name="starting-the-IBM-MQ-connector-with-default-configuration"/>Starting the <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_IBM_MQ"/> with Default Configuration</h3>
    <p>The <code>connector.sh</code> script has a few additional properties, allowing you to configure your  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector"/> with various parameters dynamically:</p>
    <pre>$&gt; ./connector.sh \
    -c ./connectors-configs/ibmmq \
    -j ./applications/pubsubplus-connector-ibmmq-1.2.1.jar \
    -cm \
    -cmh 10.0.0.100 \
    -cmp 9500 \
    -H 10.0.0.100 \
    --port 9101 \
    -mp 9201</pre>
    <p>This command starts the  <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_IBM_MQ"/> with one workflow enabled. The <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_IBM_MQ"/>  is shown in the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>:</p>
    <ul>
      <li>
        <p>running on host <code>10.0.0.100</code> and port <code>9500</code> (parameters <code>-cm</code>, <code>-cmh</code>, and <code>cmp</code>) .</p>
      </li>
      <li>
        <p>specifying the back management port and host as <code>9201</code> (to make calls  from the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> to the <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_IBM_MQ"/>) (parameter <code>-mp</code>).</p>
      </li>
      <li>
        <p>specifying the <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_IBM_MQ"/> host and port as <code>9101</code> (parameters <code>-H</code> and <code>-cp</code>).</p>
      </li>
    </ul>
    <p>For more information, see the (parameter <code>-h</code>) help.</p>
  </body>
</html>
