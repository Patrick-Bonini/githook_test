<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:conditions="Default.ConnectorSpecific">
  <head>
    <link href="../../../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
    <title/>
  </head>
  <body>
    <h1>Getting Started With the <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_snowflake"/></h1>
    <p MadCap:conditions="Default.HideFromAllOutput">Writer's Note: Most of the content is the same, but there are blocks that indicate the specific connector. We've specified the parts in the connector with the connector-specific condition. Please check closely. We could use generic content instead of the name, but since it's a Getting Started, we should be explicit. If only we had folder-specific variables like in DITA!</p>
    <p>Presuming you’re using the default <code>application.yml</code> file provided within the download, follow one of the quick starts below to connect a <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker and a <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name" MadCap:conditions="Default.ConnectorSpecific"/> broker</MadCap:conditionalText>. The quick starts use <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific">specified</MadCap:conditionalText> credentials as examples to get started with two workflows enabled, <b>workflow 0</b> and <b>workflow 1</b>. </p>
    <p>Where:</p>
    <ul>
      <li>
        <p><b>Workflow 0</b> consumes messages from the <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Variables.CompanyName"/> <MadCap:variable name="Product-Names.pubsub_brand_only"/> queue</MadCap:conditionalText>, <code MadCap:conditions="Default.ConnectorSpecific">Queue-A</code> and publishes them to the <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name"/> table</MadCap:conditionalText>, <code MadCap:conditions="Default.ConnectorSpecific">DEMO.PUBLIC.TABLEA</code>.</p>
      </li>
      <li>
        <p><b>Workflow 1</b> consumes messages from the <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Variables.CompanyName"/> <MadCap:variable name="Product-Names.pubsub_brand_only"/> queue</MadCap:conditionalText>, <code MadCap:conditions="Default.ConnectorSpecific">Queue-B</code>  and publishes them to the <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name"/> table</MadCap:conditionalText>, <code MadCap:conditions="Default.ConnectorSpecific">DEMO.PUBLIC.TABLEB</code>.</p>
      </li>
    </ul>
    <p>A workflow is the configuration of a flow of messages from a source to a target. The connector supports up to  <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific">20 individual, concurrent workflows</MadCap:conditionalText>  per  instance.</p>
    <p class="Note" MadCap:conditions="Default.ConnectorSpecific">The connector does not provision <MadCap:variable name="Variables.CompanyName"/> queues that do not exist, but can provision the <MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name"/> tables based on configuration.</p>
    <h2>Prerequisites</h2>
    <ul>
      <li>
        <p>
          <a href="https://solace.com/products/event-broker/" target="_blank" class="link-offsite"><MadCap:variable name="Variables.CompanyName"/> <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker</a>
        </p>
        <ul>
          <li>
            <p>If you are using <MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_snowflake"/>, <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific">version 2.0</MadCap:conditionalText> and later, you must use an  <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker running version 10.2.1 or later.</p>
          </li>
        </ul>
      </li>
      <li>
        <p MadCap:conditions="Default.ConnectorSpecific"><![CDATA[  ]]><a href="http://www.snowflake.com/" target="_blank" class="link-offsite"><MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name"/> broker</a></p>
      </li>
    </ul>
    <h2>Quick Start Common Steps</h2>
    <p>These are the steps required to run all quick-start examples:</p>
    <ol MadCap:conditions="Default.ConnectorSpecific">
      <li>
        <p>Configure a <MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name"/> user account with a <a href="https://docs.snowflake.com/en/user-guide/key-pair-auth" target="_blank" class="link-offsite">public/private key pair</a> for authentication.</p>
      </li>
      <li>
        <p>Grant the necessary permissions to the user account to allow for table creation and data insertion.</p>
      </li>
      <li>
        <p>(Optional) Create the desired target test tables in accordance with the standard connector schema.</p>
      </li>
      <li>
        <p>Update the provided <code>samples/config/application.yml</code> with the credentials and entities for your deployment.</p>
      </li>
    </ol>
    <h2><a name="_bookmark4"/>Quick Start: Running the Connector Using the Command Line</h2>
    <p>Run:</p>
    <pre xml:space="preserve" MadCap:conditions="Default.ConnectorSpecific">
java -jar <MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-package-name"/>-&lt;version&gt;.jar --add-opens=java.base/java.nio=ALLUNNAMED
--spring.config.additional-location=file:samples/config/</pre>
    <p>Where:</p>
    <ul>
      <li><code>&lt;version&gt;</code> is the version of the connector you are using, such as <MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-latest-version"/>.</li>
    </ul>
    <p>By default, this command detects any Spring Boot configuration files as per the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files" target="_blank" class="link-offsite">Spring Boot's default locations</a>. </p>
    <p>For more information, see <a href="Snowflake-Configuration.htm#_bookmark57" target="_blank" class="link-internal" MadCap:conditions="Default.ConnectorSpecific">Configure Locations to Find Spring Property Files</a>.</p>
    <h2>Quick Start: Running the Connector Using the  <code>start.sh</code> Script</h2>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/getting-started-generic-start-cmd-v2.0.0-to-1.0.x.flsnp"/>
    <p>The script shows you all errors at the same time:</p>
    <pre xml:space="preserve"><MadCap:variable name="Manifest-Products-Connectors.pubsub_self_contained_connector_for_snowflake_long" MadCap:conditions="Default.ConnectorSpecific"/>		

Connector startup failed:

Following folder doesn't exists on your filesystem:     'dummy_folder'		
Following folder doesn't exists on your filesystem:     'dummy_folder'
Following file doesn't exists on your filesystem:       'dummy_file.jar'</pre>
    <p>In situations where you have don't provide a parameter, the script runs with the predefined values as follows:</p>
    <p class="Note"><a name="name-of-this-connector-jar"/>The default name for the JAR file is <code MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-package-name"/>-<MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-latest-version"/>.jar</code>.</p>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/getting-started-parameters-v2.0.0-to-1.0.x.flsnp"/>
    <p>The script can provide more help information from the command line by using the <code>-h</code> option. For more configuration examples of starting the connector together with <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/>, see the examples provided in the <MadCap:variable name="Manifest-Products-Connectors.connector_manager_short"/> archive.</p>
    <h2>Quick Start: Running the Connector as a Container</h2>
    <p>The following steps show how to use the sample docker compose file that has been included in the package:</p>
    <ol start="1">
      <li>
        <p>Change to the docker directory:</p>
        <pre>cd samples/docker</pre>
        <p>This directory contains both the <code>docker-compose.yml</code> file, as well as an <code>.env</code> file that contains environment secrets required for the container’s health check.</p>
      </li>
    </ol>
    <ol start="2">
      <li>
        <p>Run the connector:</p>
        <pre>docker-compose up -d</pre>
        <p>The sample docker compose file:</p>
        <ul>
          <li>
            <p>Exposes the connector’s <code>8090</code> web port to <code>8090</code> on the host.</p>
          </li>
          <li>
            <p>Connects a <MadCap:variable name="Product-Names.pubsub_brand_only"/> event broker and the <span MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Manifest-Products-Connectors.connector-snowflake-product-name"/></span>  broker exposed on a host using default ports.</p>
          </li>
          <li>
            <p>Mounts the <code>samples/config</code> directory.</p>
          </li>
          <li>
            <p>Mounts the previously defined <code>libs</code> directory.</p>
          </li>
          <li>
            <p>Creates a <code>healthcheck</code> user with read-only permissions.</p>
            <ul>
              <li>
                <p>The default username and password for this user can be found within the <code>.env</code> file.</p>
              </li>
              <li>
                <p>This user overrides any users you have defined in your <code>application.yml</code>. See <MadCap:xref href="Security.htm" MadCap:conditions="Default.ConnectorSpecific">Security</MadCap:xref> for more information.</p>
              </li>
            </ul>
          </li>
          <li>
            <p>Uses the connector’s management health endpoint as the container’s health check.</p>
          </li>
        </ul>
      </li>
    </ol>
    <p MadCap:conditions="Default.ConnectorSpecific">For more information about how to use and configure this container, see <MadCap:xref href="Snowflake-container-configuration.htm">Modifying the Container Configuration</MadCap:xref>.</p>
  </body>
</html>
