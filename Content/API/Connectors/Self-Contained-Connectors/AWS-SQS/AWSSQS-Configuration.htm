<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:conditions="Default.ConnectorSpecific">
  <head>
    <link href="../../../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
    <title/>
  </head>
  <body>
    <h1>Connector Configuration</h1>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/configuration-part1-providing-configuration.flsnp"/>
    <p MadCap:conditions="Default.ConnectorSpecific">For example of the command to add additional locations, see <MadCap:xref href="AWSSQS-Getting-Started.htm#_bookmark4">Quick Start: Running the Connector Using the Command Line</MadCap:xref>.</p>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/configuration-part2-providing-configuration-note.flsnp"/>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/configuration-part4-obtaining-build-information.flsnp"/>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/configuration-part3-spring-config-options.flsnp"/>
    <h2>
      <a name="SQS"/>
      <MadCap:conditionalText MadCap:conditions="Default.ConnectorSpecific"><MadCap:variable name="Manifest-Products-Connectors.connector-awssqs-product-name"/> Binder Configuration Options</MadCap:conditionalText>
    </h2>
    <p>The following properties are available at the <MadCap:variable name="Manifest-Products-Connectors.connector-awssqs-product-name"/> binder level.</p>
    <p><span>These properties are to be prefixed with <code>spring.cloud.stream.sqs.bindings.&lt;function name&gt;.consumer</code>.</span> For more information, see <a href="https://github.com/idealo/spring-cloud-stream-binder-sqs/tree/main" target="_blank" class="link-offsite">SQS Binder configuration</a>.</p>
    <table class="TableStyle-Table_Num" style="caption-side: top;width: 95%;mc-table-style: url('../../../../Resources/TableStyles/Table_Num.css');" cellspacing="0">
      <caption valign="top" style="padding-bottom: 3pt;">
        <p> </p>
      </caption>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 165px;"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Config Option</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Type</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Valid Values</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Default Value</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <code>maxMessagesPerPoll</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <code>int</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <span>1-10</span>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>10</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p><span>The number of messages that are returned per poll</span>.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>visibilityTimeout</code><![CDATA[
]]></td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>int</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <span>&gt; 0</span>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">30</td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>The duration (in seconds) that polled messages are hidden from subsequent poll requests after having been retrieved.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <code>pollTimeout</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <code>int</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <span>1-20</span>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>10</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>The duration (in seconds) that the system waits for new messages to arrive when polling.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p>
              <code>listenerShutdownTimeout</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p>
              <code>int</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p>
              <span>&gt; 0</span>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p>10</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p>The number of seconds that the listener is given to gracefully finish its work on shutdown before interrupting the current thread.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <code>snsFanout</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>boolean</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p><code>true</code>or <code>false</code></p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>
              <code>false</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>It enables the automatic deserialization of incoming SNS-formatted messages. By default, SNS messages are delivered in JSON-format, encapsulating both the message content and various metadata, such as the message ID, timestamp, and the topic ARN.</p>
            <p>Enabling <code>snsFanout</code> allows this connector to automatically parse the JSON structure for extracting and separating the payload message from the metadata. This functionality is particularly beneficial for applications that consume messages from SNS topics that are forwarded to SQS queues because it streamlines the handling of such messages.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>
              <code>consumer.concurrency</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>
              <code>int</code>
            </p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>&gt; 0</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>1</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>The number of concurrent threads to launch. By specifying a value, you launch concurrent threads that continuously poll for the <code>maxMessagesPerPoll</code> per thread. Threads asynchronously process  all messages. Each thread must complete the processing of its batch of messages prior to retrieving more messages. If the duration for message processing is highly variable from message to message, we recommend to set a lower value for the <code>maxMessagesPerPoll</code>, and a higher value for <code>consumer.concurrency</code>.</p>
            <p>Using this parameter increases the number of API calls made to the<MadCap:variable name="Manifest-Products-Connectors.connector-awssqs-product-name"/> queue, which may increase the its cost. For more information, see <a href="https://aws.amazon.com/sqs/pricing/" class="link-offsite">Amazon SQS Pricing</a>.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Note">Only set <code>snsFanOut</code> to true (enable) if all incoming messages are SNS-formatted messages. If you set  <code>snsFanout</code> property to true, the connector deserializes every incoming message as an SNS-formatted message, but if there are messages that are not SNS-formatted, failures occur.</p>
    <h3>FIFO SQS Queues</h3>
    <p>To use  FIFO (First-In-First-Out) SQS queues, you must provide a group ID and a deduplication ID (though you can choose not to set it). With this binder, you can set the  message headers,   <code>message_groupId</code> and <code>message_deduplicationId</code>. For more information about FIFO queues, see <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-fifo-queues.html" target="_blank" class="link-offsite">FIFO queues</a>.</p>
    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Header Name</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Type</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Applies To </th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>sqs_groupId</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <code>string</code>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <MadCap:variable name="Manifest-Products-Connectors.connector-awssqs-product-name"/>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">The identifier for a  distinct ordered message group within an Amazon SQS queue. This identifier ensures that messages within the group are processed in the same order that they are sent.  This parameter must be set and if not provided, Amazon SQS rejects the message with an error.</td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <code>sqs_deduplicationId</code>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <code>string</code>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <MadCap:variable name="Manifest-Products-Connectors.connector-awssqs-product-name"/>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>A token used for deduplication of sent messages. When set, messages with the same deduplication identifier are not sent within a five-minute interval.   If this parameter is not set: </p>
            <ul>
              <li> For releases 1.2.3 and later; the <MadCap:variable name="Product-Names.pubsub_brand_only"/> replication group ID (<code>solace_replicationGroupMessageId</code>)  is used as the deduplication identifier</li>
              <li>For releases earlier than 1.2.3, the value remains unset.</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/configuration-part6-connector-config-options-v2.0.0-to-1.0.x.flsnp"/>
    <MadCap:snippetBlock src="../../../../Resources/Snippets/API/Connectors/common/configuration-part7-workflow-config-options.flsnp"/>
  </body>
</html>
