<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/Stylesheets/mqtt_311_prtcl.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <h1>3 MQTT
Control Packets</h1>
    <h2><a name="3.1-connection-request"/>3.1 CONNECT – Connection Request </h2>
    <p class="MsoNormal"><span style="background: yellow;">After a Network Connection
is established by a Client to a Server, the first packet sent from the Client to
the Server MUST be a CONNECT packet</span><span style="color: red;">[MQTT-3.1.0-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A Client can only send the CONNECT packet once over a
Network Connection. <span style="background: yellow;">The Server MUST process a
second CONNECT packet sent from a Client as a Protocol Error and close the
Network Connection</span><span style="color: red;">[MQTT-3.1.0-2]</span>. Refer to
<a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> for information about handling errors.</p>
    <p class="MsoNormal" style="text-align: justify;"> </p>
    <p class="MsoNormal" style="text-align: justify;">The Payload contains one or more
encoded fields. They specify a unique Client identifier for the Client, a Will Topic,
Will Payload, User Name and Password. All but the Client identifier can be
omitted and their presence is determined based on flags in the Variable Header.</p>
    <h3><a name="3.1.1-fixed-header"/>3.1.1 CONNECT Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.1_–"/>Figure 3‑1
- CONNECT packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="53" valign="top" style="width: 39.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.7pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="70" valign="top" style="width: 52.8pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="62" valign="top" style="width: 46.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="79" valign="top" style="width: 59.4pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="249" colspan="4" valign="top" style="width: 186.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (1)</p>
        </td>
        <td width="283" colspan="4" valign="top" style="width: 2.95in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="53" valign="top" style="width: 39.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="64" valign="top" style="width: 47.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="70" valign="top" style="width: 52.8pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="62" valign="top" style="width: 46.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="79" valign="top" style="width: 59.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2…</p>
        </td>
        <td width="532" colspan="8" valign="top" style="width: 399.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable Header plus the length of
the Payload. It is encoded as a Variable Byte Integer.</p>
    <h3><a name="3.1.2-variable-header"/>3.1.2 CONNECT Variable Header</h3>
    <p class="MsoNormal">The Variable Header for the CONNECT Packet contains the following
fields in this order: Protocol Name, Protocol Level, Connect Flags, Keep Alive,
and Properties. The rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section 2.2.2</a>.</p>
    <h4>3.1.2.1 Protocol Name</h4>
    <p class="TblCaption"><a name="_Figure_3.2_-"/>Figure 3‑2
- Protocol Name bytes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="margin-left: -.05in;border-collapse: collapse;border: none;">
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="643" colspan="10" valign="top" style="width: 6.7in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Protocol Name</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length MSB (0)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length LSB (4)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘M’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘Q’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 5</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘T’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 6</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘T’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="text-align: justify;">The Protocol Name is a UTF-8
Encoded String that represents the protocol name “MQTT”, capitalized as shown.
The string, its offset and length will not be changed by future versions of the
MQTT specification.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A Server which support multiple protocols uses the Protocol
Name to determine whether the data is MQTT. <span style="background: yellow;">The
protocol name MUST be the UTF-8 String "MQTT". If the Server does not
want to accept the CONNECT, and wishes to reveal that it is an MQTT Server it
MAY send a CONNACK packet with Reason Code of 0x84 (Unsupported Protocol
Version), and then it MUST close the Network Connection</span><span style="color: red;"> [MQTT-3.1.2-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Packet
inspectors, such as firewalls, could use the Protocol Name to identify MQTT
traffic.</p>
    <h4>3.1.2.2 Protocol Version</h4>
    <p class="TblCaption"><a name="_Figure_3.3_-"/>Figure 3‑3
- Protocol Version byte</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="margin-left: -.05in;border-collapse: collapse;border: none;">
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="643" colspan="10" valign="top" style="width: 6.7in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Protocol Level</p>
        </td>
      </tr>
      <tr>
        <td width="111" valign="top" style="width: 83.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 7</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Version(5)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal" style="text-align: justify;"> </p>
    <p class="MsoNormal">The one byte unsigned value that represents the revision
level of the protocol used by the Client. The value of the Protocol Version
field for version 5.0 of the protocol is 5 (0x05). </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A Server which supports multiple versions of the MQTT
protocol uses the Protocol Version to determine which version of MQTT the
Client is using. <span style="background: yellow;">If the Protocol Version is not
5 and the Server does not want to accept the CONNECT packet, the Server MAY
send a CONNACK packet with Reason </span><span style="background: yellow;">Code
0x84 (Unsupported Protocol Version) and then MUST close the Network Connection</span> <span style="color: red;">[MQTT-3.1.2-2]</span>.</p>
    <h4>3.1.2.3 Connect Flags</h4>
    <p class="MsoNormal">The Connect Flags byte contains several parameters
specifying the behavior of the MQTT connection. It also indicates the presence
or absence of fields in the Payload.</p>
    <p class="TblCaption"><a name="_Figure_3.4_-"/>Figure 3‑4
- Connect Flag bits</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="65" valign="top" style="width: 48.55pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="85" valign="top" style="width: 63.65pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="84" valign="top" style="width: 63.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="85" valign="top" style="width: 63.8pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="47" valign="top" style="width: 35.45pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="47" valign="top" style="width: 35.45pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="76" valign="top" style="width: 56.7pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="78" valign="top" style="width: 58.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="65" valign="top" style="width: 48.55pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="85" valign="top" style="width: 63.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">User Name Flag</p>
        </td>
        <td width="84" valign="top" style="width: 63.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Password Flag</p>
        </td>
        <td width="85" valign="top" style="width: 63.8pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Will Retain</p>
        </td>
        <td width="95" colspan="2" valign="top" style="width: 70.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Will QoS</p>
        </td>
        <td width="76" valign="top" style="width: 56.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Will Flag</p>
        </td>
        <td width="78" valign="top" style="width: 58.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Clean Start</p>
        </td>
        <td width="71" valign="top" style="width: 53.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="65" valign="top" style="width: 48.55pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 8</p>
        </td>
        <td width="85" valign="top" style="width: 63.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="84" valign="top" style="width: 63.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="85" valign="top" style="width: 63.8pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="47" valign="top" style="width: 35.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="47" valign="top" style="width: 35.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="76" valign="top" style="width: 56.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="78" valign="top" style="width: 58.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="71" valign="top" style="width: 53.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST validate
that the reserved flag in the CONNECT packet is set to 0</span><span style="color: red;">[MQTT-3.1.2-3]</span>. If the reserved flag is not 0 it is a
Malformed Packet. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> for
information about handling errors.</p>
    <h4><a name="3.1.2.4-clean-start"/>3.1.2.4
Clean Start</h4>
    <p class="MsoNormal" style="text-align: justify;"><b>Position:</b> bit 1 of the
Connect Flags byte.</p>
    <p class="MsoCommentText"> </p>
    <p class="MsoCommentText">This bit specifies whether the Connection starts a new
Session or is a continuation of an existing Session. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.1-session-state" class="link-internal">section 4.1</a> for a definition of the Session State.</p>
    <p class="MsoCommentText"> </p>
    <p class="MsoNormal" style="text-align: justify;"><span style="background: yellow;">If
a CONNECT packet is received with Clean Start is set to 1, the Client and
Server MUST discard any existing Session and start a new Session</span><span style="color: red;">[MQTT-3.1.2-4]</span>. Consequently, the Session Present flag
in CONNACK is always set to 0 if Clean Start is set to 1.</p>
    <p class="MsoNormal" style="text-align: justify;"> </p>
    <p class="MsoNormal" style="text-align: justify;"><span style="background: yellow;">If
a CONNECT packet is received with Clean Start set to 0 and there is a Session
associated with the Client Identifier, the Server MUST resume communications
with the Client based on state from the existing Session</span><span style="color: red;">[MQTT-3.1.2-5]</span>. <span style="background: yellow;">If a
CONNECT packet is received with Clean Start set to 0 and there is no Session
associated with the Client Identifier, the Server MUST create a new Session</span><span style="color: red;">[MQTT-3.1.2-6]</span>.</p>
    <h4><a name="3.1.2.5-Will-Flag"/>3.1.2.5
Will Flag</h4>
    <p class="MsoNormal"><b>Position:</b> bit 2 of the Connect Flags.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Will Flag is set to 1
this indicates that a Will Message MUST be stored on the Server and associated
with the Session</span><span style="color: red;">[MQTT-3.1.2-7]</span>. The Will
Message consists of the Will Properties, Will Topic, and Will Payload fields in
the CONNECT Payload. <span style="background: yellow;">The Will Message MUST be
published after the Network Connection is subsequently closed and either the
Will Delay Interval has elapsed or the Session ends, unless the Will Message
has been deleted by the Server on receipt of a DISCONNECT packet with Reason
Code 0x00 (Normal disconnection) or a new Network Connection for the ClientID
is opened before the Will Delay Interval has elapsed</span><span style="color: red;">[MQTT-3.1.2-8]</span>.</p>
    <p class="MsoNormal">Situations in which the Will Message is published include,
but are not limited to:</p>
    <ul style="margin-top: 0in;" type="disc">
      <li class="MsoNormal">An I/O error or network failure detected by the Server.</li>
      <li class="MsoNormal">The Client fails to communicate within the Keep Alive
 time.</li>
      <li class="MsoNormal">The Client closes the Network Connection without first
 sending a DISCONNECT packet with a Reason Code 0x00 (Normal disconnection).</li>
      <li class="MsoNormal">The Server closes the Network Connection without first
 receiving a DISCONNECT packet with a Reason Code 0x00 (Normal
 disconnection).</li>
    </ul>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Will Flag is set to
1, the Will Properties, Will Topic, and Will Payload fields MUST be present in
the Payload</span><span style="color: red;">[MQTT-3.1.2-9]</span>. <span style="background: yellow;">The Will Message MUST be removed from the stored
Session State in the Server once it has been published or the Server has
received a DISCONNECT packet with a Reason Code of 0x00 (Normal disconnection)
from the Client</span><span style="color: red;">[MQTT-3.1.2-10]</span>. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server SHOULD publish Will Messages promptly after the
Network Connection is closed and the Will Delay Interval has passed, or when
the Session ends, whichever occurs first. In the case of a Server shutdown or
failure, the Server MAY defer publication of Will Messages until a subsequent
restart. If this happens, there might be a delay between the time the Server
experienced failure and when the Will Message is published.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="#3.1.3.2-will-properties" class="link-internal">section 3.1.3.2</a>
for information about the Will Delay Interval.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Client can arrange for the Will
Message to notify that Session Expiry has occurred by setting the Will Delay
Interval to be longer than the Session Expiry Interval and sending DISCONNECT
with Reason Code 0x04 (Disconnect with Will Message).</p>
    <div class="div_2" style="margin-left: .5in;">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p class="p_1">The Solace server supports Will Flag set to 1 and associated procedures as described above. Will messages are limited to 1,600 bytes in size. If a CONNECT packet is received with a Will Message that exceeds this limit, then the connection is rejected and a log is raised.</p>
      <p class="p_1">The Solace server will not send Will messages under the following conditions:</p>
      <ul>
        <li>an administrative shutdown</li>
        <li>an event broker HA failover or restart</li>
      </ul>
    </div>
    <h4><a name="3.1.2.6-will-qos"/>3.1.2.6 Will QoS</h4>
    <p class="MsoNormal"><b>Position:</b> bits 4 and 3 of the Connect Flags.</p>
    <p class="MsoNormal">These two bits specify the QoS level to be used when
publishing the Will Message. </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Will Flag is set to 0,
then the Will QoS MUST be set to 0</span><span style="background: yellow;">(0x00)</span><span style="color: red;">[MQTT-3.1.2-11]</span>.</p>
    <p class="MsoNormal"><span style="background: yellow;">If the Will Flag is set to
1, the value of Will QoS can be 0 (0x00), 1 (0x01), or 2 (0x02)</span><span style="color: red;">[MQTT-3.1.2-12]</span>. A
value of 3 (0x03) is a Malformed Packet. Refer to
<a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> for information about handling errors.</p>
    <h4><a name="3.1.2.7-will-retain"/>3.1.2.7 Will Retain</h4>
    <p class="MsoNormal"><b>Position:</b> bit 5 of the Connect Flags.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">This bit specifies if the Will Message is to be retained
when it is published.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Will Flag is set to
0, then Will Retain MUST be set to 0</span><span style="color: red;"> [MQTT-3.1.2-13]</span>.<span style="background: yellow;">If the Will Flag is
set to 1 and Will Retain is set to 0, the Server MUST publish the Will Message
as a non-retained message</span><span style="color: red;">[MQTT-3.1.2-14]</span>.<span style="background: yellow;">If the Will Flag is
set to 1 and Will Retain is set to 1, the Server MUST publish the Will Message
as a retained message</span><span style="color: red;">[MQTT-3.1.2-15]</span>.</p>
    <p class="MsoNormal"> </p>
    <h4><a name="3.1.2.8-user-name-flag"/>3.1.2.8 User Name Flag</h4>
    <p class="MsoNormal"><b>Position:</b> bit 7 of the Connect Flags.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the User Name Flag is set
to 0, a User Name MUST NOT be present in the Payload</span><span style="color: red;">[MQTT-3.1.2-16]</span>. <span style="background: yellow;">If
the User Name Flag is set to 1, a User Name MUST be present in the Payload</span><span style="color: red;">[MQTT-3.1.2-17]</span>.</p>
    <h4><a name="3.1.2.9-password-flag"/>3.1.2.9 Password Flag</h4>
    <p class="MsoNormal"><b>Position:</b> bit 6 of the Connect Flags.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Password Flag is set
to 0, a Password MUST NOT be present in the Payload</span><span style="color: red;">[MQTT-3.1.2-18]</span>. <span style="background: yellow;">If
the Password Flag is set to 1, a Password MUST be present in the Payload</span><span style="color: red;">[MQTT-3.1.2-19].</span></p>
    <p> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">This version of the protocol allows
the sending of a Password with no User Name, where MQTT v3.1.1 did not. This
reflects the common use of Password for credentials other than a password.</p>
    <h4><a name="3.1.2.10-keep-alive"/>3.1.2.10
Keep Alive</h4>
    <p class="TblCaption"><a name="_Figure_3.5_Keep"/>Figure 3‑5
- Keep Alive bytes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="70" valign="top" style="width: 52.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>Bit</b>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.05pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>7</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>6</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>5</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>4</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>3</b>
          </p>
        </td>
        <td width="69" valign="top" style="width: 51.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>2</b>
          </p>
        </td>
        <td width="71" valign="top" style="width: 52.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>1</b>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="70" valign="top" style="width: 52.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 9</p>
        </td>
        <td width="568" colspan="8" valign="top" style="width: 425.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Keep Alive MSB</p>
        </td>
      </tr>
      <tr>
        <td width="70" valign="top" style="width: 52.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 10</p>
        </td>
        <td width="568" colspan="8" valign="top" style="width: 425.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Keep Alive LSB</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Keep Alive is a Two Byte Integer which is a time
interval measured in seconds. It is the maximum time interval that is permitted
to elapse between the point at which the Client finishes transmitting one MQTT Control
Packet and the point it starts sending the next. It is the responsibility of
the Client to ensure that the interval between MQTT Control Packets being sent
does not exceed the Keep Alive value. <span style="background: yellow;">If Keep
Alive is non-zero and in the absence of sending any other MQTT Control Packets,
the Client MUST send a PINGREQ packet</span><span style="color: red;">[MQTT-3.1.2-20]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Server returns a
Server Keep Alive on the CONNACK packet, the Client MUST use that value instead
of the value it sent as the Keep Alive</span><span style="color: red;">[MQTT-3.1.2-21]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Client can send PINGREQ at any time, irrespective of the
Keep Alive value, and check for a corresponding PINGRESP to determine that the
network and the Server are available. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Keep Alive value is
non-zero and the Server does not receive an MQTT Control Packet from the Client
within one and a half times the Keep Alive time period, it MUST close the
Network Connection to the Client as if the network had failed</span><span style="color: red;">[MQTT-3.1.2-22]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If a Client does not receive a PINGRESP packet within a
reasonable amount of time after it has sent a PINGREQ, it SHOULD close the
Network Connection to the Server.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A Keep Alive value of 0 has the effect of turning off the Keep
Alive mechanism. If Keep Alive is 0 the Client is not obliged to send MQTT
Control Packets on any particular schedule.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Server may have other reasons
to disconnect the Client, for instance because it is shutting down. Setting
Keep Alive does not guarantee that the Client will remain connected. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The actual value of the Keep Alive
is application specific; typically, this is a few minutes. The maximum value of
65,535 is 18 hours 12 minutes and 15 seconds. </p>
    <h4><a name="3.1.2.11-connect-properties"/>3.1.2.11 CONNECT Properties</h4>
    <h5>3.1.2.11.1 Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the CONNECT packet Variable
Header encoded as a Variable Byte Integer.</p>
    <h5>
      <span lang="EN-GB">3.1.2.11.2
</span>
      <span lang="EN-GB">Session Expiry Interval</span>
    </h5>
    <p class="MsoNormal"><b>17 (0x11) Byte,</b> Identifier of the Session
Expiry Interval.</p>
    <p class="MsoNormal">Followed by the Four Byte Integer representing the Session Expiry
Interval in seconds. It is a Protocol Error to include the Session Expiry Interval
more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Session Expiry Interval is absent the value 0 is
used. If it is set to 0, or is absent, the Session ends when the Network Connection
is closed. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Session Expiry Interval is 0xFFFFFFFF (UINT_MAX), the
Session does not expire. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client and Server MUST
store the Session State after the Network Connection is closed if the Session
Expiry Interval is greater than 0</span><span style="color: red;">[MQTT-3.1.2-23]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The clock in the Client or Server
may not be running for part of the time interval, for instance because the
Client or Server are not running. This might cause the deletion of the state to
be delayed. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.1-session-state" class="link-internal">section 4.1</a> for more information about Sessions.
Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.1.1-storing-session-state" class="link-internal">section 4.1.1</a> for details and
limitations of stored state.</p>
    <p class="MsoNormal">When the Session expires the Client
and Server need not process the deletion of state atomically.</p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Setting Clean Start to 1 and a
Session Expiry Interval of 0, is equivalent to setting CleanSession to 1 in the
MQTT Specification Version 3.1.1. Setting Clean Start to 0 and no Session
Expiry Interval, is equivalent to setting CleanSession to 0 in the MQTT
Specification Version 3.1.1. </p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">A Client that only wants to process
messages while connected will set the Clean Start to 1 and set the Session
Expiry Interval to 0. It will not receive Application Messages published before
it connected and has to subscribe afresh to any topics that it is interested in
each time it connects.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">A Client might be connecting to a Server
using a network that provides intermittent connectivity. This Client can use a
short Session Expiry Interval so that it can reconnect when the network is
available again and continue reliable message delivery. If the Client does not
reconnect, allowing the Session to expire, then Application Messages will be
lost.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">When a Client connects with a long
Session Expiry Interval, it is requesting that the Server maintain its MQTT
session state after it disconnects for an extended period. Clients should only
connect with a long Session Expiry Interval if they intend to reconnect to the
Server at some later point in time. When a Client has determined that it has no
further use for the Session it should disconnect with a Session Expiry Interval
set to 0.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Client should always use the Session
Present flag in the CONNACK to determine whether the Server has a Session State
for this Client. </p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Client can avoid implementing
its own Session expiry and instead rely on the Session Present flag returned
from the Server to determine if the Session had expired. If the Client does
implement its own Session expiry, it needs to store the time at which the Session
State will be deleted as part of its Session State.</p>
    <h5>3.1.2.11.3
Receive Maximum</h5>
    <p class="MsoNormal"><b>33 (0x21) Byte</b>, Identifier of the Receive Maximum. </p>
    <p class="MsoNormal">Followed by the Two Byte Integer representing the Receive
Maximum value. It is a Protocol Error to include the Receive Maximum value more
than once or for it to have the value 0.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Client uses this value to limit the number of QoS 1 and
QoS 2 publications that it is willing to process concurrently. There is no mechanism
to limit the QoS 0 publications that the Server might try to send.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The value of Receive Maximum applies only to the current
Network Connection. If the Receive Maximum value is
absent then its value defaults to 65,535.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to section
<MadCap:xref href="mqtt-v50-4-operational-behavior.htm#4.9-flow-control">4.9 Flow Control</MadCap:xref> for details of how the Receive Maximum is used.</p>
    <p class="MsoNormal"> </p>
    <h5><a name="3.1.2.11.4-maximum-packet-size"/>3.1.2.11.4
Maximum Packet Size</h5>
    <p class="MsoNormal"><b>39 (0x27) Byte</b>, Identifier of the Maximum Packet Size. </p>
    <p class="MsoNormal">
      <span lang="EN-GB">Followed by a Four Byte Integer
representing the Maximum Packet Size the Client is willing to accept. If the
Maximum Packet Size is not present, no limit on the packet size is imposed
beyond the limitations in the protocol as a result of the remaining length
encoding and the protocol header sizes.</span>
    </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">It is a Protocol Error to include the Maximum Packet Size
more than once, or for the value to be set to zero.</p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span lang="EN-GB">It is the
responsibility of the application to select a suitable Maximum Packet Size
value if it chooses to restrict the Maximum Packet Size.</span>
    </p>
    <p class="MsoNormal">
      <span lang="EN-GB">The packet size is the total number of
bytes in an MQTT Control Packet, as defined in </span>
      <a href="mqtt-v50-2-control-packet-format.htm#2.1.4-remaining-length" class="link-internal">
        <span lang="EN-GB">section 2.1.4</span>
      </a>
      <span lang="EN-GB">. The Client uses the Maximum Packet Size to inform the Server that
it will not process packets exceeding this limit.</span>
    </p>
    <p class="MsoNormal">
      <span lang="EN-GB" style="background: yellow;">The Server MUST
NOT send packets exceeding Maximum Packet Size to the Client</span>
      <span lang="EN-GB"><span style="color: red;">[MQTT-3.1.2-24]</span>. If a Client
receives a packet whose size exceeds this limit, this is a Protocol Error, the
Client uses DISCONNECT with Reason Code 0x95 (Packet too large), as described
in </span>
      <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">
        <span lang="EN-GB">section 4.13</span>
      </a>
      <span lang="EN-GB">.</span>
    </p>
    <p class="MsoNormal"><span lang="EN-GB" style="background: yellow;">Where a Packet is
too large to send, the Server MUST discard it without sending it and then
behave as if it had completed sending that Application Message</span><span style="color: red;">[MQTT-3.1.2-25]</span>.
        </p>
    <p class="MsoNormal">
      <span lang="EN-GB">In the case of a Shared Subscription where the
message is too large to send to one or more of the Clients but other Clients can
receive it, the Server can choose either discard the message without sending
the message to any of the Clients, or to send the message to one of the Clients
that can receive it.</span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Where a packet is discarded without
being sent, the Server could place the discarded packet on a ‘dead letter
queue’ or perform other diagnostic action. Such actions are outside the scope
of this specification.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <h5>3.1.2.11.5
Topic Alias Maximum</h5>
    <p class="MsoNormal"><b>34 (0x22) Byte,</b> Identifier of the Topic Alias Maximum.
</p>
    <p class="MsoNormal">Followed by the Two Byte Integer representing the Topic
Alias Maximum value. It is a Protocol Error to include the Topic Alias Maximum
value more than once. If the Topic Alias Maximum property is absent, the
default value is 0.</p>
    <p class="MsoNormal">This value indicates the highest value that the Client will
accept as a Topic Alias sent by the Server. The Client uses this value to limit
the number of Topic Aliases that it is willing to hold on this Connection. <span style="background: yellow;">The Server MUST NOT send a Topic Alias in a PUBLISH
packet to the Client greater than Topic Alias Maximum</span><span style="color: red;">[MQTT-3.1.2-26]</span>. A value of 0 indicates that the
Client does not accept any Topic Aliases on this connection. <span style="background: yellow;">If Topic Alias Maximum is absent or zero, the Server
MUST NOT send any Topic Aliases to the Client</span><span style="color: red;">[MQTT-3.1.2-27]</span>.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p class="p_1">Solace does not support Topic Alias.</p>
    </div>
    <h5><a name="3.1.2.11.6-request-response-information"/>3.1.2.11.6 Request Response Information</h5>
    <p class="MsoNormal"><b>25 (0x19) Byte,</b> Identifier of the Request Response
Information. </p>
    <p class="MsoNormal">Followed by a Byte with a value of either 0 or 1. It is
Protocol Error to include the Request Response Information more than once, or
to have a value other than 0 or 1. If the Request Response Information is
absent, the value of 0 is used.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Client uses this value to request the Server to return
Response Information in the CONNACK. <span style="background: yellow;">A value of
0 indicates that the Server MUST NOT return Response Information</span><span style="color: red;">[MQTT-3.1.2-28]</span>. If the value is 1 the Server MAY
return Response Information in the CONNACK packet.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>When Response Information is 1 the CONNACK always includes Response Information. Applications SHOULD use this as a prefix for building  their PUBLISH Response Topics. This is the same <a href="../MQTT/MQTT-Topics.htm#Special" class="link-internal">prefix that is returned</a> to clients that subscribe to <code>#SYS/client/reply-to</code>.</p>
    </div>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;font-weight: bold;">Non-normative
comment</p>
    <p class="MsoNormal" style="margin-left: .5in;">The Server can choose not to
include Response Information in the CONNACK, even if the Client requested it.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.10-request-response" class="link-internal">section 4.10</a> for more information about Request
/ Response.</p>
    <h5><a name="3.1.2.11.7-request-problem-information"/>3.1.2.11.7
Request Problem Information</h5>
    <p class="MsoNormal"><b>23 (0x17) Byte,</b> Identifier of the Request Problem
Information. </p>
    <p class="MsoNormal">Followed by a Byte with a value of either 0 or 1. It is a
Protocol Error to include Request Problem Information more than once, or to
have a value other than 0 or 1. If the Request Problem Information is absent, the
value of 1 is used. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Client uses this value to indicate whether the Reason
String or User Properties are sent in the case of failures. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the value of Request
Problem Information is 0, the Server MAY return a Reason String or User
Properties on a CONNACK or DISCONNECT packet, but MUST NOT send a Reason String
or User Properties on any packet <span style="color: black;">other than PUBLISH,
CONNACK, or DISCONNECT</span></span><span style="color: red;">[MQTT-3.1.2-29]</span>.
If the value is 0 and the Client receives a Reason String or User Properties in
a packet other than PUBLISH, CONNACK, or DISCONNECT, it uses a DISCONNECT packet
with Reason Code 0x82 (Protocol Error) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section
4.13</a> Handling errors.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If this value is 1, the Server MAY return a Reason String or
User Properties on any packet where it is allowed.</p>
    <h5>3.1.2.11.8 User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte</b>, Identifier of the User Property. </p>
    <p class="MsoNormal">Followed by a UTF-8 String Pair. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><a name="_Toc473620025"/>The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <a name="_Toc473620026"/>
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">User Properties on the CONNECT
packet can be used to send connection related properties from the Client to the
Server. The meaning of these properties is not defined by this specification.</p>
    <div class="div_2" style="margin-left: 0.5in;">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not define any User Properties for  the CONNECT packet. Any provided User Property is ignored.</p>
    </div>
    <h5>3.1.2.11.9 Authentication Method</h5>
    <p class="MsoNormal"><b>21 (0x15) Byte,</b> Identifier of the Authentication
Method. </p>
    <p class="MsoNormal">Followed by a UTF-8 Encoded String containing the name of
the authentication method used for extended authentication .It is a Protocol
Error to include Authentication Method more than once.</p>
    <p class="MsoNormal">If Authentication Method is absent, extended authentication
is not performed. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section 4.12</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Client sets an Authentication
Method in the CONNECT, the Client MUST NOT send any packets other than AUTH or
DISCONNECT packets until it has received a CONNACK packet</span><span style="color: red;">[MQTT-3.1.2-30]</span>.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support extended authentication. If an  Authentication Method is provided in the CONNACK the connection is closed.</p>
    </div>
    <h5>3.1.2.11.10 Authentication Data</h5>
    <p class="MsoNormal"><b>22 (0x16) Byte,</b> Identifier of the Authentication
Data. </p>
    <p class="MsoNormal">Followed by Binary Data containing authentication data. It
is a Protocol Error to include Authentication Data if there is no
Authentication Method. It is a Protocol Error to include Authentication Data
more than once. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The contents of this data are defined by the authentication
method. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section 4.12</a> for more
information about extended authentication.</p>
    <h4><a name="3.1.2.12-variable-header-non-normative-example"/>3.1.2.12 Variable Header non-normative example</h4>
    <p class="TblCaption"><a name="_Figure_3.6_-"/>Figure 3‑6
- Variable Header example</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Protocol Name</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length MSB (0)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length LSB (4)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘M’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘Q’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 5</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘T’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 6</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘T’</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Protocol Version</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 7</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Version (5)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Connect Flags</p>
        </td>
      </tr>
      <tr style="height: 139.5pt;">
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal"> </p>
          <p class="MsoNormal"> </p>
          <p class="MsoNormal"> </p>
          <p class="MsoNormal"> </p>
          <p class="MsoNormal">byte 8</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" style="line-height: 150%;">
            <span lang="DE">User Name Flag (1)</span>
          </p>
          <p class="MsoNormal" style="line-height: 150%;">
            <span lang="DE">Password Flag (1)</span>
          </p>
          <p class="MsoNormal" style="line-height: 150%;">Will Retain (0)</p>
          <p class="MsoNormal" style="line-height: 150%;">Will QoS (01)</p>
          <p class="MsoNormal" style="line-height: 150%;">Will Flag (1)</p>
          <p class="MsoNormal" style="line-height: 150%;">Clean Start(1)</p>
          <p class="MsoNormal" style="line-height: 150%;"><i>Reserved</i> (0)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;height: 139.5pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Keep Alive</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 9</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Keep Alive MSB (0)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 10</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Keep Alive LSB (10)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Properties</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 11</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length (5)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 12</p>
        </td>
        <td width="248" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Session Expiry Interval identifier (17)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 13</p>
        </td>
        <td width="248" rowspan="4" valign="top" style="width: 186.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Session Expiry Interval (10)</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 14</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 15</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 16</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" valign="top" style="width: 26.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.1.3-connect-payload"/>3.1.3 CONNECT Payload</h3>
    <p class="MsoNormal"><span style="background: yellow;">The Payload of the CONNECT
packet contains one or more length-prefixed fields, whose presence is
determined by the flags in the Variable Header. These fields, if present, MUST
appear in the order Client Identifier, Will Properties, Will Topic, Will Payload,
User Name, Password</span><span style="color: red;">[MQTT-3.1.3-1]</span>.</p>
    <h4><a name="3.1.3.1-client-identifier"/>3.1.3.1 Client Identifier
(ClientID)</h4>
    <p class="MsoNormal" style="text-align: justify;">The Client Identifier (ClientID)
identifies the Client to the Server. Each Client connecting to the Server has a
unique ClientID. <span style="background: yellow;">The ClientID MUST be used by
Clients and by Servers to identify state that they hold relating to this MQTT
Session between the Client and the Server</span><span style="color: red;">[MQTT-3.1.3-2]</span>. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.1-session-state" class="link-internal">section 4.1</a> for more information about Session State.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><a name="_Toc473620032"/><span style="background: yellow;">The
ClientID MUST be present and is the first field in the CONNECT packet Payload</span><span style="color: red;">[MQTT-3.1.3-3]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The ClientID MUST be a UTF-8
Encoded String</span> as defined in <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
1.5.4</a><span style="color: red;">[MQTT-3.1.3-4]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <span style="background: yellow;">The Server MUST allow ClientID’s
which are between 1 and 23 UTF-8 encoded bytes in length, and that contain only
the characters</span>
    </p>
    <p class="MsoNormal"><span style="background: yellow;">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span style="color: red;">[MQTT-3.1.3-5]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server MAY allow ClientID’s that contain more than 23 encoded
bytes. The Server MAY allow ClientID’s that contain characters not included in
the list given above. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A Server MAY allow a Client
to supply a ClientID that has a length of zero bytes, however if it does so the
Server MUST treat this as a special case and assign a unique ClientID to that
Client</span><span style="color: red;">[MQTT-3.1.3-6]</span>. <span style="background: yellow;">It MUST then process the CONNECT packet as if the
Client had provided that unique ClientID, and MUST
return the Assigned Client Identifier in the CONNACK packet</span><span style="color: red;">[MQTT-3.1.3-7]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <span style="background: yellow;">If the Server rejects the
ClientID it MAY respond to the CONNECT packet with a CONNACK using Reason Code
0x85 (Client Identifier not valid) as described in </span>
      <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>
      <span style="background: yellow;"> Handling errors, and then it MUST close the Network
Connection</span>
      <span style="color: red;">[MQTT-3.1.3-8]</span>
      <span style="color: black;">.</span>
    </p>
    <p class="MsoNormal" style="text-align: justify;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <a name="_Toc473620033"/>
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">A Client implementation could
provide a convenience method to generate a random ClientID. Clients using this
method should take care to avoid creating long-lived orphaned Sessions.</p>
    <div class="div_2" style="margin-left: .5in;">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <ul>
        <li>ClientIds can be up to 128 bytes in length</li>
        <li>ClientIds can contain any UTF-8 characters as allowed by <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
 1.5.4.</a></li>
      </ul>
    </div>
    <h4><a name="3.1.3.2-will-properties"/>3.1.3.2 Will Properties</h4>
    <p class="MsoNormal">If the Will Flag is set to 1, the Will Properties is the
next field in the Payload. The Will Properties field defines the Application
Message properties to be sent with the Will Message when it is published, and
properties which define when to publish the Will Message. The Will Properties
consists of a Property Length and the Properties.</p>
    <h5>3.1.3.2.1 Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the Will Properties encoded
as a Variable Byte Integer.</p>
    <h5>3.1.3.2.2 Will
Delay Interval</h5>
    <p class="MsoNormal"><b>24 (0x18) Byte,</b> Identifier of the Will Delay
Interval.</p>
    <p class="MsoNormal">Followed by the Four Byte Integer representing the Will
Delay Interval in seconds. It is a Protocol Error to include the Will Delay Interval
more than once. If the Will Delay Interval is absent, the default value is 0
and there is no delay before the Will Message is published.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server delays publishing the Client’s Will Message until
the Will Delay Interval has passed or the Session ends, whichever happens
first. <span style="background: yellow;">If a new Network Connection to this
Session is made before the Will Delay Interval has passed, the Server MUST NOT
send the Will Message</span><span style="color: red;">[MQTT-3.1.3-9]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">One use of this is to avoid
publishing Will Messages if there is a temporary network disconnection and the
Client succeeds in reconnecting and continuing its Session before the Will
Message is published.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">If a Network Connection uses a
Client Identifier of an existing Network Connection to the Server, the Will
Message for the exiting connection is sent unless the new connection specifies
Clean Start of 0 and the Will Delay is greater than zero. If the Will Delay is 0
the Will Message is sent at the close of the existing Network Connection, and
if Clean Start is 1 the Will Message is sent because the Session ends.</p>
    <div class="div_2" style="margin-left: .5in;">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support Will Delay. If non-zero, the connection will be closed.</p>
    </div>
    <h5>3.1.3.2.3 Payload Format
Indicator</h5>
    <p class="MsoNormal"><b>1 (0x01) Byte,</b> Identifier of the Payload Format
Indicator. </p>
    <p class="MsoNormal">Followed by the value of the Payload Format Indicator,
either of: </p>
    <ul>
      <li>0 (0x00) Byte Indicates that the Will Message is unspecified
bytes, which is equivalent to not sending a Payload Format Indicator.</li>
      <li>1 (0x01) Byte Indicates that the Will Message is UTF-8 Encoded
Character Data. The UTF-8 data in the Payload MUST be well-formed UTF-8 as defined by the
Unicode specification <a href="mqtt-v50-1-introduction.htm#Unicode" class="link-internal">[Unicode] </a>and restated in RFC 3629 <a href="mqtt-v50-1-introduction.htm#RFC3629" class="link-internal">[RFC3629]</a>.</li>
    </ul>
    <p class="MsoNormal">It is a Protocol Error to include the Payload Format Indicator
more than once. The Server MAY validate that the Will Message is of the format
indicated, and if it is not send a CONNACK with the Reason Code of 0x99 (Payload
format invalid) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <h5>3.1.3.2.4 Message Expiry Interval</h5>
    <p class="MsoNormal"><b>2 (0x02) Byte,</b> Identifier of the Message Expiry Interval.
</p>
    <p class="MsoNormal">Followed by the Four Byte Integer representing the Message
Expiry Interval. It is a Protocol Error to include the Message Expiry Interval
more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If present, the Four Byte value is the lifetime of the Will
Message in seconds and is sent as the Publication Expiry Interval when the
Server publishes the Will Message.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If absent, no Message Expiry Interval is sent when the
Server publishes the Will Message. </p>
    <h5>3.1.3.2.5 Content Type</h5>
    <p class="MsoListParagraph" style="margin-left: 0in;"><b>3 (0x03)</b> Identifier of
the Content Type. </p>
    <p class="MsoNormal" style="background: white;">Followed by a UTF-8 Encoded String
describing the content of the Will Message. <span style="color: #333333;background: white;">It is a Protocol Error to include the Content Type more than
once. </span>The value of the Content Type is defined by the sending and receiving
application. </p>
    <h5>3.1.3.2.6 Response Topic</h5>
    <p><b>8 (0x08)
Byte</b>, Identifier of the
Response Topic. </p>
    <p>Followed by a
UTF-8 Encoded String which is used as the Topic Name for a response message. It
is a Protocol Error to include the Response Topic more than once. The presence
of a Response Topic identifies the Will Message as a Request. </p>
    <p>Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.10-request-response" class="link-internal">section 4.10</a> for more information about Request / Response.</p>
    <h5>3.1.3.2.7 Correlation Data</h5>
    <p class="MsoNormal"><b>9 (0x09) Byte,</b> Identifier of the Correlation Data. </p>
    <p class="MsoNormal">Followed by Binary Data. The Correlation Data is used by the
sender of the Request Message to identify which request the Response Message is
for when it is received. It is a Protocol Error to include Correlation Data
more than once. If the Correlation Data is not present, the Requester does not
require any correlation data.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The value of the Correlation Data only has meaning to the
sender of the Request Message and receiver of the Response Message.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.10-request-response" class="link-internal">section 4.10</a> for
more information about Request / Response</p>
    <h5>3.1.3.2.8 User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte</b>, Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by a UTF-8 String Pair. The User Property is
allowed to appear multiple times to represent multiple name, value pairs. The
same name is allowed to appear more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST maintain the
order of User Properties when publishing the Will Message</span><span style="color: red;">[MQTT-3.1.3-10]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">This property is intended to
provide a means of transferring application layer name-value tags whose meaning
and interpretation are known only by the application programs responsible for
sending and receiving them.</p>
    <h4>3.1.3.3 Will Topic</h4>
    <p class="MsoNormal">If the Will Flag is set to 1, the Will Topic is the next
field in the Payload.<span style="background: yellow;"> The Will Topic MUST be a
UTF-8 Encoded String</span> as defined in <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
1.5.4</a><span style="color: red;">[MQTT-3.1.3-11]</span>.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>
        <span class="span_4">A Will Topic must be valid as per Solace limitations described in <a href="mqtt-v50-4-operational-behavior.htm#4.7-topic-names-topic-filters" class="link-internal">section 4.7</a>. Invalid topics will cause the CONNECT to be rejected or the Will message to be discarded if published.</span>
      </p>
    </div>
    <h4><a name="3.1.3.4-will-payload"/>3.1.3.4 Will Payload</h4>
    <p class="MsoNormal">If the Will Flag is set to 1 the Will Payload is the next
field in the Payload. The Will Payload defines the Application Message Payload
that is to be published to the Will Topic as described in <a href="#3.1.2.5-Will-Flag" class="link-internal">section 3.1.2.5</a>. This field consists of Binary Data.</p>
    <h4><a name="3.1.3.5-user-name"/>3.1.3.5 User Name</h4>
    <p class="MsoNormal"><span style="background: yellow;">If the User Name Flag is set
to 1, the User Name is the next field in the Payload. The User Name MUST be a
UTF-8 Encoded String</span> as defined in <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
1.5.4</a><span style="color: red;">[MQTT-3.1.3-12]</span>. It can be used by the Server for authentication and
authorization. </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>If OAuth is used to authenticate the MQTT Client, then the Solace client user name used to establish connection policy is taken from an OAuth token (or introspection thereof) and the MQTT User Name in the CONNECT packet is ignored.</p>
      <p>If an SSL Client Certificate is used by the MQTT Client to authenticate, then the Solace client user name used to establish connection policy is taken from the certificate and the MQTT User Name in the CONNECT packet is ignored. This behavior is consistent across all Solace-supported protocols. MQTT is silent about the handling of user name in the certificate versus user name in the CONNECT packet.</p>
      <p class="p_14">Otherwise </p>
      <ul>
        <li>The Solace server maps the MQTT User Name to the Solace Client User Name for authentication purposes.</li>
        <li>The Solace server supports the ability for MQTT User Names (that is,  Solace Client User Names) to be predefined on the appliance and to map directly to a client profile and Access Control List (ACL) profile for authorization purposes.</li>
        <li>The Solace server supports the ability for MQTT User Names to NOT be predefined on the appliance.  In this case, the MQTT connection is associated with a client profile and ACL profile either through the default client user name (named “default”) or through an LDAP lookup of an LDAP group based on the MQTT User Name, which then maps to a client  profile and an ACL profile.</li>
        <li>The maximum supported length of the MQTT User Name is 189 characters – same as the Solace client user name.  If the MQTT client provides a longer User Name, then the connection is rejected because the full user name cannot be passed to the appropriate authentication and authorization service.</li>
      </ul>
    </div>
    <h4><a name="3.1.3.6-password"/>3.1.3.6 Password</h4>
    <p class="MsoNormal">If the Password Flag is set to 1, the Password is the next
field in the Payload. The Password field is Binary Data. Although this field is
called Password, it can be used to carry any credential information.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>The length of passwords that may be used are limited as follows:</p>
      <ul>
        <li>MQTT clients that use LDAP servers to authenticate can use passwords that contain up to 64,000 characters, including null characters. Clients that use RADIUS authentication are limited to 128 characters.</li>
        <li>The maximum supported password length for LDAP and RADIUS authentication is 128 characters. If the MQTT client provides a longer password, then the connection will be rejected because the full password cannot be passed to the appropriate authentication service. Passwords cannot contain binary data because null characters were treated as string terminators. </li>
        <li>For clients that use the Solace internal database for authentication, the length of a password is limited to 128 characters.</li>
      </ul>
      <p>The password field is allowed to contain OAuth v2 tokens.  These tokens must be supplied in a very specific format:</p>
      <p>
        <code>OAUTH~&lt;Provider&gt;~access_token</code>
      </p>
      <p>The password field can also contain OpenID Connect tokens:</p>
      <p>
        <code>OPENID~&lt;Provider&gt;~id_token~access_token</code>
      </p>
      <p>In both cases, the password must start with a literal string "OAUTH~" or "OPENID~" and be followed by the name of the provider (which must match one of the configured providers on the broker, or it can be zero-length which indicates that Solace should use the configured default provider on the broker), and then another tilde, and then the tokens (separated by a tilde).</p>
      <p>The <code>access_token</code> must be either a JWT or a URL-encoded opaque token.</p>
    </div>
    <h3><a name="3.1.4-connect-actions"/>3.1.4 CONNECT Actions</h3>
    <p class="MsoNormal">Note that a Server MAY support multiple protocols (including
other versions of the MQTT protocol) on the same TCP port or other network
endpoint. If the Server determines that the protocol is MQTT v5.0 then it
validates the connection attempt as follows. </p>
    <ol>
      <li>If the
Server does not receive a CONNECT packet within a reasonable amount of time
after the Network Connection is established, the Server SHOULD close the Network
Connection.</li>
      <li><span style="background: yellow;">The Server MUST validate that the CONNECT packet matches
the format described in </span><a href="#3.1-connection-request" class="link-internal">section 3.1</a><span style="background: yellow;">
and close the Network Connection if it does not match</span><span style="color: red;">[MQTT-3.1.4-1]</span>. The
Server MAY send a CONNACK with a Reason Code of 0x80 or greater as described in
<a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> before closing the Network Connection. </li>
      <li><span style="background: yellow;">The
 Server MAY check that the contents of the CONNECT packet meet any further
 restrictions and SHOULD perform authentication and authorization checks. If
 any of these checks fail, it MUST close the Network Connection</span><span style="color: red;">[MQTT-3.1.4-2]</span>. Before closing the Network
 Connection, it MAY send an appropriate CONNACK response with a Reason Code
 of 0x80 or greater as described in <a href="#3.2-connect-acknowledgement" class="link-internal">section
 3.2</a> and <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</li>
    </ol>
    <p class="MsoNormal">If validation is successful, the
Server performs the following steps. </p>
    <ol>
      <li> <span style="background: yellow;">If the ClientID represents a Client already connected
to the Server, the Server sends a DISCONNECT packet to the existing Client with
Reason Code of 0x8E (Session taken over) as described in </span><a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a><span style="background: yellow;"> and MUST close the Network Connection of the
existing Client</span><span style="color: red;">[MQTT-3.1.4-3]</span>. If the
existing Client has a Will Message, that Will Message is published as described
in <a href="#3.1.2.5-Will-Flag" class="link-internal">section 3.1.2.5</a>.<div class="div_2"><p><span class="span_3">Solace Implementation Note</span></p><p>By default, if the ClientId represents a Client already connected to the Solace PubSub+ event broker, then the existing Client connection will be disconnected. However, an administrator can use the no replace-duplicate-client-connections Authentication Config command in the Solace CLI to override this behavior to leave the existing client connected.</p></div><p class="MsoNormal" style="margin-left: .5in;"><b>Non-normative comment</b></p><p class="MsoNormal" style="margin-left: .5in;">If the Will Delay Interval of the
existing Network Connection is 0 and there is a Will Message, it will be sent
because the Network Connection is closed. If the Session Expiry Interval of the
existing Network Connection is 0, or the new Network Connection has Clean Start
set to 1 then if the existing Network Connection has a Will Message it will be
sent because the original Session is ended on the takeover.</p></li>
      <li>
        <p><span style="background: yellow;">The Server MUST perform the processing of Clean Start</span>
that is described in <a href="#3.1.2.4-clean-start" class="link-internal">section 3.1.2.4</a><span style="color: red;">[MQTT-3.1.4-4]</span>.</p>
      </li>
      <li>
        <p><span style="background: yellow;">The Server MUST acknowledge the CONNECT packet with a
CONNACK packet containing a 0x00 (Success) Reason Code</span><span style="color: red;">[MQTT-3.1.4-5]</span>.</p>
        <p class="MsoNormal" style="margin-left: .5in;">
          <b>Non-normative comment</b>
        </p>
        <p class="MsoNormal" style="margin-left: .5in;">It is recommended that
authentication and authorization checks be performed if the Server is being
used to process any form of business critical data. If these checks succeed,
the Server responds by sending CONNACK with a 0x00 (Success) Reason Code. If
they fail, it is suggested that the Server does not send a CONNACK at all, as
this could alert a potential attacker to the presence of the MQTT Server and
encourage such an attacker to launch a denial of service or password-guessing
attack.</p>
      </li>
      <li>
        <p>Start
message delivery and Keep Alive monitoring.</p>
      </li>
    </ol>
    <p class="MsoNormal">Clients are allowed to send further MQTT Control Packets
immediately after sending a CONNECT packet; Clients need not wait for a CONNACK
packet to arrive from the Server. <span style="background: yellow;">If the Server
rejects the CONNECT, it MUST NOT process any data sent by the Client after the
CONNECT packet except AUTH packets</span><span style="color: red;">[MQTT-3.1.4-6]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .4in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .4in;">Clients typically wait for a
CONNACK packet, However, if the Client exploits its freedom to send MQTT Control
Packets before it receives a CONNACK, it might simplify the Client
implementation as it does not have to police the connected state. The Client accepts
that any data that it sends before it receives a CONNACK packet from the Server
will not be processed if the Server rejects the connection.</p>
    <p class="MsoNormal" style="margin-left: .4in;"> </p>
    <p class="MsoNormal" style="margin-left: .4in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .4in;">Clients that send MQTT Control
Packets before they receive CONNACK will be unaware of the Server constraints
and whether any existing Session is being used. </p>
    <p class="MsoNormal" style="margin-left: .4in;"> </p>
    <p class="MsoNormal" style="margin-left: .4in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .4in;">The Server can limit reading from
the Network Connection or close the Network Connection if the Client sends too
much data before authentication is complete. This is suggested as a way of
avoiding denial of service attacks.</p>
    <h2><a name="3.2-connect-acknowledgement"/>3.2 CONNACK – Connect
acknowledgement</h2>
    <p class="MsoNormal">The CONNACK packet is the packet sent by the Server in
response to a CONNECT packet received from a Client. <span style="background: yellow;">The Server MUST send a CONNACK with a 0x00 (Success) Reason Code before
sending any Packet other than AUTH</span><span style="color: red;">[MQTT-3.2.0-1]</span>.
<span style="background: yellow;">The Server MUST NOT send more than one CONNACK
in a Network Connection</span><span style="color: red;">[MQTT-3.2.0-2]</span>.</p>
    <p class="MsoNormal" style="text-align: justify;">If the Client does not receive a
CONNACK packet from the Server within a reasonable amount of time, the Client
SHOULD close the Network Connection. A "reasonable" amount of time
depends on the type of application and the communications infrastructure.</p>
    <h3><a name="3.2.1-connack-fixed-header"/>3.2.1 CONNACK Fixed Header</h3>
    <p class="MsoNormal">The Fixed Header format is illustrated in Figure 3-7.</p>
    <p class="TblCaption">Figure 3‑7 – CONNACK packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 Type (2)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="542" colspan="8" valign="top" style="width: 5.65in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length </p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable
Header encoded as a Variable Byte Integer.</p>
    <h3><a name="3.2.2-connack-variable-header"/>3.2.2 CONNACK Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the CONNACK Packet contains the
following fields in the order: Connect Acknowledge Flags, Connect Reason Code, and
Properties. The rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section 2.2.2</a>.</p>
    <h4>3.2.2.1 Connect Acknowledge Flags</h4>
    <p class="MsoNormal"><span style="background: yellow;">Byte 1 is the "Connect
Acknowledge Flags". Bits 7-1 are reserved and MUST be set to 0</span><span style="color: red;">[MQTT-3.2.2-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Bit 0 is the Session Present Flag.</p>
    <p class="MsoNormal"> </p>
    <h5>3.2.2.1.1 Session Present</h5>
    <p class="MsoNormal">Position: bit 0 of the Connect Acknowledge Flags.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Session Present flag informs the Client whether the
Server is using Session State from a previous connection for this ClientID.
This allows the Client and Server to have a consistent view of the Session
State.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Server accepts a
connection with Clean Start set to 1, the Server MUST set Session Present to 0
in the CONNACK packet in addition to setting a 0x00 (Success) Reason Code in
the CONNACK packet</span><span style="color: red;">[MQTT-3.2.2-2]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Server accepts a
connection with Clean Start set to 0 and the Server has Session State for the
ClientID, it MUST set Session Present to 1 in the CONNACK packet, otherwise it
MUST set Session Present to 0 in the CONNACK packet. In both cases it MUST set
a 0x00 (Success) Reason Code in the CONNACK packet</span><span style="color: red;"> [MQTT-3.2.2-3]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the value of Session Present received by the Client from
the Server is not as expected, the Client proceeds as follows:</p>
    <ul>
      <li><span style="background: yellow;">If the Client does not have
Session State and receives Session Present set to 1 it MUST close the Network
Connection</span><span style="color: red;">[MQTT-3.2.2-4]</span>. If it wishes
to restart with a new Session the Client can reconnect using Clean Start set to
1.</li>
      <li><span style="background: yellow;">If the Client does have Session
State and receives Session Present set to 0 it MUST discard its Session State
if it continues with the Network Connection</span><span style="color: red;">[MQTT-3.2.2-5]</span>.</li>
    </ul>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <span style="background: yellow;">If a Server sends a CONNACK
packet containing a non-zero Reason Code it MUST set Session Present to 0</span>
      <span style="color: red;">[MQTT-3.2.2-6]</span>
      <span style="color: black;">.</span>
    </p>
    <h4><a name="3.2.2.2-connect-reason-code"/>3.2.2.2 Connect Reason Code</h4>
    <p class="MsoNormal">Byte 2 in the Variable Header is the Connect Reason Code.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The values the Connect Reason Code are shown below. If a
well formed CONNECT packet is received by the Server, but the Server is unable
to complete the Connection the Server MAY send a CONNACK packet containing the
appropriate Connect Reason code from this table. <span style="background: yellow;">If
a Server sends a CONNACK packet containing a Reason code of 128 or greater it
MUST then close the Network Connection</span><span style="color: red;">[MQTT-3.2.2-7]</span>.</p>
    <p class="TblCaption">Table
3‑1 - Connect Reason Code values</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="667" style="width: 6.95in;border-collapse: collapse;border: none;">
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x00</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Success</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Connection is accepted.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">128</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x80</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Unspecified error</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not wish to reveal the reason for the
 failure, or none of the other Reason Codes apply.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">129</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x81</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Malformed Packet</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Data within the CONNECT packet could not be correctly parsed.
  </p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">130</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x82</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Protocol Error</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Data in the CONNECT packet does not conform to this
 specification.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">131</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x83</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Implementation specific error</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The CONNECT is valid but is not accepted by this Server.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">132</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x84</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Unsupported Protocol Version</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support the version of the MQTT
 protocol requested by the Client.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">133</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x85</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Client Identifier not valid</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client Identifier is a valid string but is not allowed
 by the Server.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">134</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x86</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Bad User Name or Password</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not accept the User Name or Password
 specified by the Client </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">135</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x87</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Not authorized</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client is not authorized to connect.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">136</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x88</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Server unavailable</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The MQTT Server is not available.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">137</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x89</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Server busy</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server is busy. Try again later.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">138</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x8A</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Banned</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">This Client has been banned by administrative action.
 Contact the server administrator.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">140</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x8C</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Bad authentication method</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The authentication method is not supported or does not
 match the authentication method currently in use.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">144</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x90</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Name invalid</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Will Topic Name is not malformed, but is not accepted
 by this Server.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">149</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x95</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet too large</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The CONNECT packet exceeded the maximum permissible size.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">151</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x97</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Quota exceeded</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">An implementation or administrative imposed limit has been
 exceeded.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">153</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x99</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Payload format invalid</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Will Payload does not match the specified Payload
 Format Indicator.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">154</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9A</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Retain not supported</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support retained messages, and Will
 Retain was set to 1.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">155</p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9B</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">QoS not supported</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support the QoS set in Will QoS.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">156</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9C</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Use another server</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client should temporarily use another server.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">157</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9D</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Server moved</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client should permanently use another server.</p>
        </td>
      </tr>
      <tr>
        <td width="52" valign="top" style="width: 38.65pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">159</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9F</p>
        </td>
        <td width="212" valign="top" style="width: 159.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Connection rate exceeded</p>
        </td>
        <td width="343" valign="top" style="width: 257.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The connection rate limit has been exceeded.</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Server sending the
CONNACK packet MUST use one of the Connect Reason Code values</span><span style="color: red;">T-3.2.2-8]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Reason Code 0x80 (Unspecified
error) may be used where the Server knows the reason for the failure but does
not wish to reveal it to the Client, or when none of the other Reason Code
values applies.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Server may choose to close the Network
Connection without sending a CONNACK to enhance security in the case where an
error is found on the CONNECT. For instance, when on a public network and the
connection has not been authorized it might be unwise to indicate that this is
an MQTT Server.</p>
    <h4><a name="3.2.2.3-connack-properties"/>3.2.2.3 CONNACK Properties</h4>
    <h5>3.2.2.3.1 Property Length</h5>
    <p class="MsoNormal">This is the length of the Properties in the CONNACK packet Variable
Header encoded as a Variable Byte Integer.</p>
    <p class="MsoNormal"> </p>
    <h5><a name="3.2.2.3.2-session-expiry-interval"/>3.2.2.3.2 Session
Expiry Interval</h5>
    <p class="MsoNormal"><b>17 (0x11) Byte,</b> Identifier of the Session Expiry
Interval.</p>
    <p class="MsoNormal">Followed by the Four Byte Integer representing the Session
Expiry Interval in seconds. It is a Protocol Error to include the Session
Expiry Interval more than once.</p>
    <p class="MsoNormal">If the Session Expiry Interval is absent the value in the
CONNECT Packet used. The server uses this property to inform the Client that it
is using a value other than that sent by the Client in the CONNACK. Refer to section
3.1.2.11.2 for a description of the use of Session Expiry Interval.</p>
    <p class="MsoNormal"> </p>
    <h5><a name="3.2.2.3.3-receive-maximum"/>3.2.2.3.3 Receive Maximum</h5>
    <p class="MsoNormal"><b>33 (0x21) Byte,</b> Identifier of the Receive Maximum. </p>
    <p class="MsoNormal">Followed by the Two Byte Integer representing the Receive
Maximum value. It is a Protocol Error to include the Receive Maximum value more
than once or for it to have the value 0.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server uses this value to limit the number of QoS 1 and
QoS 2 publications that it is willing to process concurrently for the Client. It
does not provide a mechanism to limit the QoS 0 publications that the Client
might try to send.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Receive Maximum value is
absent, then its value defaults to 65,535. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.9-flow-control" class="link-internal">section
4.9</a> Flow Control for details of how the Receive Maximum is used.</p>
    <h5><a name="3.2.2.3.4-max-qos"/>3.2.2.3.4 Maximum QoS</h5>
    <p class="MsoNormal"><b>36 (0x24) Byte,</b> Identifier of the Maximum QoS. </p>
    <p class="MsoNormal">Followed by a Byte with a value of either 0 or 1. It is a
Protocol Error to include Maximum QoS more than once, or to have a value other
than 0 or 1. If the Maximum QoS is absent, the Client uses a Maximum QoS of 2.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Server does not support
QoS 1 or QoS 2 PUBLISH packets it MUST send a Maximum QoS in the CONNACK packet
specifying the highest QoS it supports</span><span style="color: red;">[MQTT-3.2.2-9]</span>.
<span style="background: yellow;">A Server that does not support QoS 1 or QoS 2
PUBLISH packets MUST still accept SUBSCRIBE packets containing a Requested QoS
of 0, 1 or 2</span><span style="color: red;">[MQTT-3.2.2-10]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Client receives a
Maximum QoS from a Server, it MUST NOT send PUBLISH packets at a QoS level exceeding
the Maximum QoS level specified</span><span style="color: red;">[MQTT-3.2.2-11]</span>.
It is a Protocol Error if the Server receives a PUBLISH packet with a QoS
greater than the Maximum QoS it specified. In this case use DISCONNECT with
Reason Code 0x9B (QoS not supported) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> Handling errors.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Server receives a
CONNECT packet containing a Will QoS that exceeds its capabilities, it MUST
reject the connection. It SHOULD use a CONNACK packet with Reason Code 0x9B
(QoS not supported) </span><span style="background: yellow;">as described in </span><a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a><span style="background: yellow;"> Handling errors, and MUST close the Network Connection</span><span style="color: red;">[MQTT-3.2.2-12]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">A Client does not need to support
QoS 1 or QoS 2 PUBLISH packets. If this is the case, the Client simply
restricts the maximum QoS field in any SUBSCRIBE commands it sends to a value
it can support.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace returns a Maximum QoS of 0 if the Assured Delivery feature is not enabled for the client.</p>
    </div>
    <p> </p>
    <h5><a name="3.2.2.3.5-retain-available"/>3.2.2.3.5
Retain Available</h5>
    <p class="MsoNormal"><b>37 (0x25) Byte</b>, Identifier of Retain Available.</p>
    <p class="MsoNormal">Followed by a Byte field. If present, this byte declares
whether the Server supports retained messages. A value of 0 means that retained
messages are not supported. A value of 1 means retained messages are supported.
If not present, then retained messages are supported. It is a Protocol Error to
include Retain Available more than once or to use a value other than 0 or 1.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Server receives a
CONNECT packet containing a Will Message with the Will Retain set to 1, and it
does not support retained messages, the Server MUST reject the connection
request. It SHOULD send CONNACK with Reason Code 0x9A (Retain not supported)
and then it MUST close the Network Connection</span><span style="color: red;">[MQTT-3.2.2-13]</span>.
</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A Client receiving Retain
Available set to 0 from the Server MUST NOT send a PUBLISH packet with the
RETAIN flag set to 1</span><span style="color: red;">[MQTT-3.2.2-14]</span>. If
the Server receives such a packet, this is a Protocol Error. The Server SHOULD
send a DISCONNECT with Reason Code of 0x9A (Retain not supported) as described
in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace returns Retain Available only if retain is enabled for the Message VPN the client is connecting to.</p>
    </div>
    <p> </p>
    <h5><a name="3.2.2.3.6-max-packet-size"/>3.2.2.3.6 Maximum Packet Size</h5>
    <p class="MsoNormal"><b>39 (0x27) Byte</b>, Identifier of the Maximum Packet
Size. </p>
    <p class="MsoNormal">Followed by a Four Byte Integer representing the Maximum
Packet Size the Server is willing to accept. If the Maximum Packet Size is not
present, there is no limit on the packet size imposed beyond the limitations in
the protocol as a result of the remaining length encoding and the protocol
header sizes.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">It is a Protocol Error to include the Maximum Packet Size more
than once, or for the value to be set to zero.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The packet size is the total number
of bytes in an MQTT Control Packet, as defined in <a href="mqtt-v50-2-control-packet-format.htm#2.1.4-remaining-length" class="link-internal">section 2.1.4</a>.The Server uses the
Maximum Packet Size to inform the Client that it will not process packets whose
size exceeds this limit.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span lang="EN-GB" style="background: yellow;">The Client MUST
NOT send packets exceeding Maximum Packet Size to the Server</span><span style="color: red;">[MQTT-3.2.2-15]</span>. If a Server receives a packet whose size exceeds this limit, this is
a Protocol Error, the Server uses DISCONNECT with Reason Code 0x95 (Packet too large),
as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not send a Maximum Packet Size in the CONNACK. However, there are limits to the size of messages.</p>
    </div>
    <p> </p>
    <h5><a name="3.2.2.3.7-assigned-client-identifier"/>3.2.2.3.7 Assigned Client Identifier</h5>
    <p class="MsoNormal"><b>18 (0x12) Byte</b>, Identifier of the Assigned Client
Identifier. </p>
    <p class="MsoNormal">Followed by the UTF-8 string which is the Assigned Client
Identifier. It is a Protocol Error to include the Assigned Client Identifier
more than once.</p>
    <p class="MsoNormal" style="margin: 0in;margin-bottom: .0001pt;background: white;"> </p>
    <p class="MsoNormal" style="margin: 0in;margin-bottom: .0001pt;background: white;">
      <span lang="EN-GB" style="color: black;">The Client Identifier which was assigned by the
Server because a zero length Client Identifier was found in the CONNECT packet.</span>
    </p>
    <p class="MsoNormal" style="margin: 0in;margin-bottom: .0001pt;background: white;"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the Client connects using
a zero length Client Identifier, the Server MUST respond with a CONNACK
containing an Assigned Client Identifier. The Assigned Client Identifier MUST
be a new Client Identifier not used by any other Session currently in the
Server</span><span style="color: red;">[MQTT-3.2.2-16]</span>.</p>
    <p class="MsoNormal"> </p>
    <h5><a name="3.2.2.3.8-topic-alias-maximum"/>3.2.2.3.8
Topic Alias Maximum </h5>
    <p class="MsoNormal"><b>34 (0x22) Byte</b>, Identifier of the Topic Alias Maximum.
</p>
    <p class="MsoNormal">Followed by the Two Byte Integer representing the Topic
Alias Maximum value. It is a Protocol Error to include the Topic Alias Maximum
value more than once. If the Topic Alias Maximum property is absent, the
default value is 0.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">This value indicates the highest value that the Server will
accept as a Topic Alias sent by the Client. The Server uses this value to limit
the number of Topic Aliases that it is willing to hold on this Connection. <span style="background: yellow;">The Client MUST NOT send a Topic Alias in a PUBLISH
packet to the Server greater than this value</span><span style="color: red;">[MQTT-3.2.2-17]</span>.
A value of 0 indicates that the Server does not accept any Topic Aliases on
this connection. <span style="background: yellow;">If Topic Alias Maximum is
absent or 0, the Client MUST NOT send any Topic Aliases on to the Server</span> <span style="color: red;">[MQTT-3.2.2-18]</span>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support Topic Alias. It never returns a Topic Alias Maximum in its CONNACK, and thus the client MUST NOT send any Topic Aliases.</p>
    </div>
    <p class="MsoNormal"> </p>
    <h5><a name="3.2.2.3.9-reason-string"/>3.2.2.3.9
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte</b> Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is a human readable string
designed for diagnostics and SHOULD NOT be parsed by the Client. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server uses this value to give additional information to
the Client. <span style="background: yellow;">The Server MUST NOT send this
property if it would increase the size of the CONNACK packet beyond the Maximum
Packet Size specified by the Client</span><span style="color: red;">[MQTT-3.2.2-19]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Proper uses for the reason string
in the Client would include using this information in an exception thrown by the
Client code, or writing this string to a log.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace never sends a Reason String in any packet sent to the Client.</p>
    </div>
    <p> </p>
    <h5>3.2.2.3.10
User Property</h5>
    <p class="MsoListParagraphCxSpFirst" style="margin-left: 0in;"><b>38 (0x26) Byte, </b>Identifier
of User Property.</p>
    <p class="MsoListParagraphCxSpLast" style="margin-left: 0in;">Followed by a UTF-8
String Pair. This property can be used to provide additional information to the
Client including diagnostic information. <span style="background: yellow;">The Server
MUST NOT send this property if it would increase the size of the CONNACK packet
beyond the Maximum Packet Size specified by the Client</span><span style="color: red;">[MQTT-3.2.2-20]</span>. The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The content and meaning of this
property is not defined by this specification. The receiver of a CONNACK
containing this property MAY ignore it.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not define any User Properties for  the CONNACK packet.</p>
    </div>
    <p> </p>
    <h5>3.2.2.3.11
Wildcard Subscription Available</h5>
    <p class="MsoNormal"><b>40 (0x28) Byte,</b> Identifier of Wildcard Subscription
Available.</p>
    <p class="MsoNormal">Followed by a Byte field. If present, this byte declares
whether the Server supports Wildcard Subscriptions. A value is 0 means that
Wildcard Subscriptions are not supported. A value of 1 means Wildcard
Subscriptions are supported. If not present, then Wildcard Subscriptions are
supported. It is a Protocol Error to include the Wildcard Subscription
Available more than once or to send a value other than 0 or 1.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Server receives a SUBSCRIBE packet containing a Wildcard
Subscription and it does not support Wildcard Subscriptions, this is a Protocol
Error. The Server uses DISCONNECT with Reason Code 0xA2 (Wildcard Subscriptions
not supported) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If a Server supports Wildcard Subscriptions, it can still reject
a particular subscribe request containing a Wildcard Subscription. In this case
the Server MAY send a SUBACK Control Packet with a Reason Code 0xA2 (Wildcard
Subscriptions not supported).</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace supports wildcard subscriptions.</p>
    </div>
    <p class="MsoNormal"> </p>
    <h5>3.2.2.3.12
Subscription Identifiers Available</h5>
    <p class="MsoNormal"><b>41 (0x29) Byte</b>, Identifier of Subscription Identifier
Available.</p>
    <p class="MsoNormal">Followed by a Byte field. If present, this byte declares
whether the Server supports Subscription Identifiers. A value is 0 means that
Subscription Identifiers are not supported. A value of 1 means Subscription
Identifiers are supported. If not present, then Subscription Identifiers are
supported. It is a Protocol Error to include the Subscription Identifier
Available more than once, or to send a value other than 0 or 1.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Server receives a SUBSCRIBE packet containing
Subscription Identifier and it does not support Subscription Identifiers, this
is a Protocol Error. The Server uses DISCONNECT with Reason Code of 0xA1
(Subscription Identifiers not supported) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support Subscription Identifiers. A value of 0 is always set in the CONNACK.</p>
    </div>
    <p> </p>
    <h5>3.2.2.3.13
Shared Subscription Available</h5>
    <p class="MsoNormal"><b>42 (0x2A) Byte</b>, Identifier of Shared Subscription
Available.</p>
    <p class="MsoNormal">Followed by a Byte field. If present, this byte declares
whether the Server supports Shared Subscriptions. A value is 0 means that
Shared Subscriptions are not supported. A value of 1 means Shared Subscriptions
are supported. If not present, then Shared Subscriptions are supported. It is a
Protocol Error to include the Shared Subscription Available more than once or
to send a value other than 0 or 1.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Server receives a SUBSCRIBE packet containing Shared
Subscriptions and it does not support Shared Subscriptions, this is a Protocol
Error. The Server uses DISCONNECT with Reason Code 0x9E (Shared Subscriptions
not supported) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace supports shared subscriptions with some caveats. See <a href="mqtt-v50-4-operational-behavior.htm#4.8.2-shared-subscriptions" class="link-internal">section 4.8.2</a> for details.</p>
      <p>If the client is not allowed to use shared subscriptions, the broker returns a SUBACK with reason code 0x9E (Shared Subscriptions not supported).</p>
    </div>
    <p> </p>
    <h5><a name="3.2.2.3.14-server-keep-alive"/>3.2.2.3.14
Server Keep Alive</h5>
    <p class="MsoNormal"><b>19 (0x13) Byte</b>, Identifier of the Server Keep Alive. </p>
    <p class="MsoNormal">Followed by a Two Byte Integer with the Keep Alive time
assigned by the Server. <span style="background: yellow;">If the Server sends a
Server Keep Alive on the CONNACK packet, the Client MUST use this value instead
of the Keep Alive value the Client sent on CONNECT</span><span style="color: red;">[MQTT-3.2.2-21]</span>. <span style="background: yellow;">If
the Server does not send the Server Keep Alive, the Server MUST use the Keep
Alive value set by the Client on CONNECT</span><span style="color: red;">[MQTT-3.2.2-22]</span>.
It is a Protocol Error to include the Server Keep Alive more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The primary use of the Server Keep
Alive is for the Server to inform the Client that it will disconnect the Client
for inactivity sooner than the Keep Alive specified by the Client.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <h5><a name="3.2.2.3.15-response-information"/>3.2.2.3.15 Response
Information</h5>
    <p class="MsoNormal"><b>26 (0x1A) Byte</b>, Identifier of the Response
Information. </p>
    <p class="MsoNormal">Followed by a UTF-8 Encoded String which is used as the
basis for creating a Response Topic. The way in which the Client creates a
Response Topic from the Response Information is not defined by this
specification. It is a Protocol Error to include the Response Information more
than once.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>The Response Information returned by Solace SHOULD be used as a prefix by the Client to build topics to be used for the request/response messaging pattern. By using this prefix, response topics will work better with MNR and DMR, and across protocols, and the client is always authorized to use them.</p>
    </div>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Client sends a Request Response Information with a
value 1, it is OPTIONAL for the Server to send the Response Information in the
CONNACK.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">A common use of this is to pass a
globally unique portion of the topic tree which is reserved for this Client for
at least the lifetime of its Session. This often cannot just be a random name
as both the requesting Client and the responding Client need to be authorized
to use it. It is normal to use this as the root of a topic tree for a
particular Client. For the Server to return this information, it normally needs
to be correctly configured. Using this mechanism allows this configuration to
be done once in the Server rather than in each Client.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.10-request-response" class="link-internal">section 4.10</a> for more information about Request
/ Response.</p>
    <p class="MsoNormal"> </p>
    <h5>3.2.2.3.16
Server Reference</h5>
    <p class="MsoNormal"><b>28 (0x1C) Byte</b>, Identifier of the Server Reference. </p>
    <p class="MsoNormal">Followed by a UTF-8 Encoded String which can be used by the
Client to identify another Server to use. It is a Protocol Error to include the
Server Reference more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server uses a Server Reference in either a CONNACK or
DISCONNECT packet with Reason code of 0x9C (Use another server) or Reason Code
0x9D (Server moved) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to<a href="mqtt-v50-4-operational-behavior.htm#4.11-server-redirection" class="link-internal"> section 4.11</a> Server redirection for information
about how Server Reference is used.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace never returns a Server Reference.</p>
    </div>
    <p> </p>
    <h5>3.2.2.3.17 Authentication Method</h5>
    <p class="MsoNormal"><b>21 (0x15) Byte,</b> Identifier of the Authentication
Method. </p>
    <p class="MsoNormal">Followed by a UTF-8 Encoded String containing the name of
the authentication method. It is a Protocol Error to include the Authentication
Method more than once. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section
4.12</a> for more information about extended authentication.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support extended authentication.</p>
    </div>
    <h5>3.2.2.3.18 Authentication Data</h5>
    <p class="MsoNormal"><b>22 (0x16) Byte,</b> Identifier of the Authentication
Data. </p>
    <p class="MsoNormal">Followed by Binary Data containing authentication data. The
contents of this data are defined by the authentication method and the state of
already exchanged authentication data. It is a Protocol Error to include the
Authentication Data more than once. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section
4.12</a> for more information about extended authentication.</p>
    <h3><a name="3.2.3-connack-payload"/>3.2.3
CONNACK Payload</h3>
    <p class="MsoNormal">The CONNACK packet has no Payload.</p>
    <h2><a name="3.3-publish-message"/>3.3 PUBLISH – Publish message</h2>
    <p class="MsoNormal">A PUBLISH packet is sent from a Client to a Server or from a
Server to a Client to transport an Application Message.</p>
    <h3><a name="3.3.1-publish-fixed-header"/>3.3.1
PUBLISH Fixed Header</h3>
    <p class="TblCaption">Figure
3‑8 – PUBLISH packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="96%" style="width: 96.38%;border-collapse: collapse;border: none;">
      <tr>
        <td width="16%" valign="top" style="width: 16.66%;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="8%" valign="top" style="width: 8.34%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="9%" valign="top" style="width: 9.96%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="11%" valign="top" style="width: 11.26%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="9%" valign="top" style="width: 9.42%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="11%" valign="top" style="width: 11.02%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="9%" valign="top" style="width: 9.64%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="11%" valign="top" style="width: 11.28%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="12%" valign="top" style="width: 12.42%;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="16%" valign="top" style="width: 16.66%;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="38%" colspan="4" valign="top" style="width: 38.98%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (3)</p>
        </td>
        <td width="11%" valign="top" style="width: 11.02%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">DUP flag</p>
        </td>
        <td width="20%" colspan="2" valign="top" style="width: 20.92%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">QoS level</p>
        </td>
        <td width="12%" valign="top" style="width: 12.42%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">RETAIN</p>
        </td>
      </tr>
      <tr>
        <td width="16%" valign="top" style="width: 16.66%;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="8%" valign="top" style="width: 8.34%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="9%" valign="top" style="width: 9.96%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="11%" valign="top" style="width: 11.26%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="9%" valign="top" style="width: 9.42%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="11%" valign="top" style="width: 11.02%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="9%" valign="top" style="width: 9.64%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="11%" valign="top" style="width: 11.28%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="12%" valign="top" style="width: 12.42%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
      </tr>
      <tr>
        <td width="16%" valign="top" style="width: 16.66%;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2…</p>
        </td>
        <td width="83%" colspan="8" valign="top" style="width: 83.34%;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <h4>3.3.1.1 DUP</h4>
    <p class="MsoNormal"><b>Position:</b> byte 1, bit 3.</p>
    <p class="MsoNormal">If the DUP flag is set to 0, it indicates that this is the
first occasion that the Client or Server has attempted to send this PUBLISH packet.
If the DUP flag is set to 1, it indicates that this might be re-delivery of an
earlier attempt to send the packet.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The DUP flag MUST be set to
1 by the Client or Server when it attempts to re-deliver a PUBLISH packet</span><span style="color: red;">[MQTT-3.3.1-1]</span>. <span style="background: yellow;">The
DUP flag MUST be set to 0 for all QoS 0 messages</span><span style="color: red;">[MQTT-3.3.1-2]</span>. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The value of the DUP flag from an incoming PUBLISH packet is
not propagated when the PUBLISH packet is sent to subscribers by the Server. <span style="background: yellow;">The DUP flag in the outgoing PUBLISH packet is set
independently to the incoming PUBLISH packet, its value MUST be determined
solely by whether the outgoing PUBLISH packet is a retransmission</span><span style="color: red;">[MQTT-3.3.1-3]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The receiver of an MQTT Control
Packet that contains the DUP flag set to 1 cannot assume that it has seen an
earlier copy of this packet. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">It is important to note that the
DUP flag refers to the MQTT Control Packet itself and not to the Application
Message that it contains. When using QoS 1, it is possible for a Client to
receive a PUBLISH packet with DUP flag set to 0 that contains a repetition of
an Application Message that it received earlier, but with a different Packet
Identifier.<a href="mqtt-v50-2-control-packet-format.htm#2.2.1-packet-identifier" class="link-internal"> Section 2.2.1</a> provides more
information about Packet Identifiers.</p>
    <h4>3.3.1.2 QoS</h4>
    <p class="MsoNormal"><b>Position:</b> byte 1, bits 2-1.</p>
    <p class="MsoNormal">This field indicates the level of assurance for delivery of
an Application Message. The QoS levels are shown below. </p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption">Table
3‑2 - QoS definitions</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>QoS value</b>
          </p>
        </td>
        <td width="51" valign="top" style="width: 38.1pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit 2</b>
          </p>
        </td>
        <td width="48" valign="top" style="width: .5in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>bit 1</b>
          </p>
        </td>
        <td width="246" valign="top" style="width: 184.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="51" valign="top" style="width: 38.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="246" valign="top" style="width: 184.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">At most once delivery</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="51" valign="top" style="width: 38.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="246" valign="top" style="width: 184.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">At least once delivery</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">2</p>
        </td>
        <td width="51" valign="top" style="width: 38.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="246" valign="top" style="width: 184.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Exactly once delivery</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">-</p>
        </td>
        <td width="51" valign="top" style="width: 38.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="246" valign="top" style="width: 184.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Reserved – must not be used</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Server included a Maximum QoS in its CONNACK response
to a Client and it receives a PUBLISH packet with a QoS greater than this, then
it uses DISCONNECT with Reason Code 0x9B (QoS not supported) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> Handling errors.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A PUBLISH Packet MUST NOT
have both QoS bits set to 1</span><span style="color: red;">[MQTT-3.3.1-4]</span>.
If a Server or Client receives a PUBLISH packet which has both QoS bits set to
1 it is a Malformed Packet. Use DISCONNECT with Reason Code 0x81 (Malformed
Packet) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <h4><a name="3.3.1.3-retain"/>3.3.1.3
RETAIN</h4>
    <p class="MsoNormal"><b>Position:</b> byte 1, bit 0.</p>
    <p class="MsoNormal" style="text-align: justify;"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the RETAIN flag is set to
1 in a PUBLISH packet sent by a Client to a Server, the Server MUST replace any
existing retained message for this topic and store the Application Message</span><span style="color: red;">[MQTT-3.3.1-5]</span>, so that it can be delivered to
future subscribers whose subscriptions match its Topic Name. <span style="background: yellow;">If the Payload contains zero bytes it is processed
normally by the Server but any retained message with the same topic name MUST
be removed and any future subscribers for the topic will not receive a retained
message</span><span style="color: red;">[MQTT-3.3.1-6]</span>. <span style="background: yellow;">A retained message with a Payload containing zero bytes
MUST NOT be stored as a retained message on the Server</span><span style="color: red;">[MQTT-3.3.1-7]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If the RETAIN flag is 0 in a
PUBLISH packet sent by a Client to a Server, the Server MUST NOT store the message
as a retained message and MUST NOT remove or replace any existing retained
message</span><span style="color: red;">[MQTT-3.3.1-8]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Server included Retain Available in its CONNACK
response to a Client with its value set to 0 and it receives a PUBLISH packet
with the RETAIN flag is set to 1, then it uses the DISCONNECT Reason Code of
0x9A (Retain not supported) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">When a new Non‑shared Subscription is made, the last
retained message, if any, on each matching topic name is sent to the Client as
directed by the Retain Handling Subscription Option. These messages are sent
with the RETAIN flag set to 1. Which retained messages are sent is controlled
by the Retain Handling Subscription Option. At the time of the Subscription:</p>
    <ul>
      <li><span style="background: yellow;">If Retain Handling is set to 0
the Server MUST send the retained messages matching the Topic Filter of the
subscription to the Client</span><span style="color: red;">[MQTT-3.3.1-9]</span>.</li>
      <li><span style="background: yellow;">If Retain Handling is set to 1 then
if the subscription did not already exist, the Server MUST send all retained
message matching the Topic Filter of the subscription to the Client, and if the
subscription did exist the Server MUST NOT send the retained messages.</span><span style="color: red;">[MQTT-3.3.1-10]</span>.</li>
      <li><span style="background: yellow;">If Retain Handling is set to 2,
the Server MUST NOT send the retained messages</span><span style="color: red;">[MQTT-3.3.1-11]</span>.</li>
    </ul>
    <p> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace only supports Retain Handling of 0.</p>
      <p>Support for MQTT Retained Messages is a Controlled Availability (CA) feature. Please <a href="../../get-support.htm" class="link-internal">contact Solace</a> to find out if this feature is supported for your use case.</p>
    </div>
    <p> </p>
    <p class="MsoNormal">Refer to <a href="#3.8.3.1-subscription-options" class="link-internal">section 3.8.3.1</a>
for a definition of the Subscription Options.</p>
    <p class="MsoNormal">If the Server receives a PUBLISH packet with the RETAIN flag
set to 1, and QoS 0 it SHOULD store the new QoS 0 message as the new retained
message for that topic, but MAY choose to discard it at any time. If this
happens there will be no retained message for that topic. </p>
    <p class="MsoNormal">If the current retained message for a Topic expires, it is
discarded and there will be no retained message for that topic.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not expire retained messages.</p>
    </div>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The setting of the RETAIN flag in an Application Message
forwarded by the Server from an established connection is controlled by the Retain
As Published subscription option. Refer to <a href="#3.8.3.1-subscription-options" class="link-internal">section 3.8.3.1</a> for a definition of the Subscription Options.</p>
    <p class="MsoNormal"> </p>
    <ul>
      <li><span style="background: yellow;">If the value of Retain As
Published subscription option is set to 0, the Server MUST set the RETAIN flag
to 0 when forwarding an Application Message regardless of how the RETAIN flag
was set in the received PUBLISH packet</span><span style="color: red;">[MQTT-3.3.1-12]</span>.</li>
      <li><span style="background: yellow;">If the value of Retain As Published
subscription option is set to 1, the Server MUST set the RETAIN flag equal to
the RETAIN flag in the received PUBLISH packet</span><span style="color: red;">[MQTT-3.3.1-13]</span>.</li>
    </ul>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace only supports Retain As Published of 0.</p>
    </div>
    <p> </p>
    <p class="MsoNormal" style="margin-left: .25in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .25in;">Retained messages are useful where
publishers send state messages on an irregular basis. A new non-shared
subscriber will receive the most recent state.</p>
    <h4>3.3.1.4 Remaining Length</h4>
    <p class="MsoNormal">This is the length of Variable Header plus the length of the
Payload, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.3.2-publish-variable-header"/>3.3.2 PUBLISH Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the PUBLISH Packet contains the
following fields in the order: Topic Name, Packet Identifier, and Properties.
The rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
 2.2.2</a>.</p>
    <h4>3.3.2.1 Topic Name</h4>
    <p class="MsoNormal">The Topic Name identifies the information channel to which Payload
data is published. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Topic Name MUST be
present as the first field in the PUBLISH packet Variable Header. It MUST be a
UTF-8 Encoded String</span> as defined in <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
 1.5.4</a><span style="color: red;">[MQTT-3.3.2-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><a name="_Toc473620093"/><span style="background: yellow;">The
Topic Name in the PUBLISH packet MUST NOT contain wildcard characters</span><span style="color: red;">[MQTT-3.3.2-2]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Topic Name in a PUBLISH
packet sent by a Server to a subscribing Client MUST match the Subscription’s
Topic Filter</span> according to the matching process defined in <a href="mqtt-v50-4-operational-behavior.htm#4.7-topic-names-topic-filters" class="link-internal">section 4.7</a><span style="color: red;">[MQTT-3.3.2-3]</span>.
However, as the Server is permitted to map the Topic Name to another name, it
might not be the same as the Topic Name in the original PUBLISH packet.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p class="p_1">Topic Name must be <a href="../MQTT/MQTT-Topics.htm" class="link-internal">from 1 to 250 characters in length with at most 128 levels</a>.  Topics outside these bounds cause the connection to be closed.</p>
    </div>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">To reduce the size of the PUBLISH packet the sender can use
a Topic Alias. The Topic Alias is described in <a href="#3.3.2.3.4-topic-alias" class="link-internal">section
 3.3.2.3.4</a>. It is a Protocol Error if the Topic Name is zero length and
there is no Topic Alias.</p>
    <h4>3.3.2.2 Packet Identifier</h4>
    <p class="MsoNormal">The Packet Identifier field is only present in PUBLISH packets
where the QoS level is 1 or 2. <a href="mqtt-v50-2-control-packet-format.htm#2.2.1-packet-identifier" class="link-internal"> Section 2.2.1</a>
provides more information about Packet Identifiers.</p>
    <h4>3.3.2.3 PUBLISH Properties</h4>
    <h5>3.3.2.3.1 Property Length</h5>
    <p class="MsoNormal" style="text-align: justify;">The length of the Properties in
the PUBLISH packet Variable Header encoded as a Variable Byte Integer.</p>
    <h5>3.3.2.3.2
Payload Format Indicator</h5>
    <p class="MsoNormal"><b>1 (0x01) Byte,</b> Identifier of the Payload Format
Indicator. </p>
    <p class="MsoNormal">Followed by the value of the Payload Format Indicator,
either of: </p>
    <ul>
      <li>0 (0x00) Byte Indicates that the Payload is unspecified bytes, which
is equivalent to not sending a Payload Format Indicator.</li>
      <li>1 (0x01) Byte Indicates that the Payload is UTF-8 Encoded
Character Data. The UTF-8 data in the Payload MUST be well-formed UTF-8 as defined by the
Unicode specification <a href="mqtt-v50-1-introduction.htm#Unicode" class="link-internal">[Unicode]</a> and restated in RFC 3629 <a href="mqtt-v50-1-introduction.htm#RFC3629" class="link-internal">[RFC3629]</a>. </li>
    </ul>
    <p class="MsoNormal" style="margin-left: .25in;"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A Server MUST send the
Payload Format Indicator unaltered to all subscribers receiving the Application
Message</span><span style="color: red;">[MQTT-3.3.2-4]</span>. The receiver MAY
validate that the Payload is of the format indicated, and if it is not send a
PUBACK, PUBREC, or DISCONNECT with Reason Code of 0x99 (Payload format invalid)
as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.  Refer to <a href="mqtt-v50-5-security.htm#5.4.9-handlind-disallowed-unicode-codepoints" class="link-internal">section
 5.4.9</a> for information about security issues in
validating the payload format.</p>
    <h5>3.3.2.3.3
Message Expiry Interval</h5>
    <p class="MsoNormal"><b>2 (0x02) Byte,</b> Identifier of the Message Expiry Interval.
</p>
    <p class="MsoNormal">Followed by the Four Byte Integer representing the Message Expiry
Interval.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If present, the Four Byte value is the lifetime of the Application
Message in seconds. <span style="background: yellow;">If the Message Expiry
Interval has passed and the Server has not managed to start onward delivery to
a matching subscriber, then it MUST delete the copy of the message for that
subscriber</span><span style="color: red;">[MQTT-3.3.2-5]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If absent, the Application Message
does not expire. </p>
    <p class="MsoNormal"><span style="background: yellow;">The PUBLISH packet sent to a
Client by the Server MUST contain a Message Expiry Interval set to the received
value minus the time that the Application Message has been waiting in the
Server</span><span style="color: red;">[MQTT-3.3.2-6]</span>.</p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.1-session-state" class="link-internal">section 4.1</a> for details and limitations of stored
state. </p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Message Expiry Interval is not acted upon for a QoS 0 PUBLISH. The received value is passed on unmodified to clients. In addition, the expiry interval is limited to approximately 10 years. Any interval longer than this is truncated to 10 years.</p>
    </div>
    <h5><a name="3.3.2.3.4-topic-alias"/>3.3.2.3.4 Topic Alias</h5>
    <p class="MsoNormal"><b>35 (0x23) Byte</b>, Identifier of the Topic Alias. </p>
    <p class="MsoNormal">Followed by the Two Byte integer representing the Topic
Alias value. It is a Protocol Error to include the Topic Alias value more than
once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A Topic Alias is an integer value that is used to identify
the Topic instead of using the Topic Name. This reduces the size of the PUBLISH
packet, and is useful when the Topic Names are long and the same Topic Names
are used repetitively within a Network Connection.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The sender decides whether to use a Topic Alias and chooses
the value. It sets a Topic Alias mapping by including a non-zero length Topic
Name and a Topic Alias in the PUBLISH packet. The receiver processes the
PUBLISH as normal but also sets the specified Topic Alias mapping to this Topic
Name.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If a Topic Alias mapping has been set at the receiver, a
sender can send a PUBLISH packet that contains that Topic Alias and a zero length
Topic Name. The receiver then treats the incoming PUBLISH as if it had
contained the Topic Name of the Topic Alias.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A sender can modify the Topic Alias mapping by sending
another PUBLISH in the same Network Connection with the same Topic Alias value
and a different non-zero length Topic Name.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Topic Alias mappings exist only within a Network Connection
and last only for the lifetime of that Network Connection. <span style="background: yellow;">A receiver MUST NOT carry forward any Topic Alias mappings
from one Network Connection to another</span><span style="color: red;">[MQTT-3.3.2-7]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A Topic Alias of 0 is not permitted. <span style="background: yellow;">A sender MUST NOT send a PUBLISH packet containing a Topic Alias which
has the value 0</span><span style="color: red;">[MQTT-3.3.2-8]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A Client MUST NOT send a
PUBLISH packet with a Topic Alias greater than the Topic Alias Maximum value
returned by the Server in the CONNACK packet</span><span style="color: red;">[MQTT-3.3.2-9]</span>.
<span style="background: yellow;">A Client MUST accept all Topic Alias values
greater than 0 and less than or equal to the Topic Alias Maximum value that it
sent in the CONNECT packet</span><span style="color: red;">[MQTT-3.3.2-10]</span>.
</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A Server MUST NOT send a
PUBLISH packet with a Topic Alias greater than the Topic Alias Maximum value
sent by the Client in the CONNECT packet</span><span style="color: red;">[MQTT-3.3.2-11]</span>.
<span style="background: yellow;">A Server MUST accept all Topic Alias values
greater than 0 and less than or equal to the Topic Alias Maximum value that it
returned in the CONNACK packet</span><span style="color: red;">[MQTT-3.3.2-12]</span>.
</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Topic Alias mappings used by the Client and Server are
independent from each other. Thus, when a Client sends a PUBLISH containing a
Topic Alias value of 1 to a Server and the Server sends a PUBLISH with a Topic
Alias value of 1 to that Client they will in general be referring to different
Topics.<a name="_Toc462729129"/></p>
    <p> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support Topic Aliasing.</p>
    </div>
    <h5><a name="3.3.2.3.5-response-topic"/>3.3.2.3.5
Response Topic</h5>
    <p class="MsoNormal"><b>8 (0x08)
Byte</b>, Identifier of the
Response Topic. </p>
    <p class="MsoNormal">Followed by a
UTF-8 Encoded String which is used as the Topic Name for a response message. <span style="background: yellow;">The Response Topic MUST be a UTF-8 Encoded String</span>
as defined in <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
 1.5.4</a> <span style="color: red;">[MQTT-3.3.2-13]</span><span style="color: #333333;background: white;">. <span style="background: yellow;">The Response Topic MUST NOT contain
wildcard characters</span> </span><span style="color: red;">[MQTT-3.3.2-14]</span>. It is a Protocol Error to include the Response
Topic more than once. The presence of a Response Topic identifies the Message
as a Request. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer
to <a href="mqtt-v50-4-operational-behavior.htm#4.10-request-response" class="link-internal">section 4.10</a> for more information about Request
/ Response.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="color: #333333;background: yellow;">The Server MUST
send the Response Topic unaltered to all subscribers receiving the Application
Message</span><span style="color: red;">[MQTT-3.3.2-15]</span>.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment:</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The receiver of an Application Message with a Response Topic
sends a response by using the Response Topic as the Topic Name of a PUBLISH. If
the Request Message contains a Correlation Data, the receiver of the Request
Message should also include this Correlation Data as a property in the PUBLISH
packet of the Response Message.</p>
    <h5><a name="3.3.2.3.6-correlation-data"/>3.3.2.3.6 Correlation
Data</h5>
    <p class="MsoNormal"><b>9 (0x09) Byte,</b> Identifier of the Correlation Data. </p>
    <p class="MsoNormal">Followed by Binary Data. The Correlation Data is used by the
sender of the Request Message to identify which request the Response Message is
for when it is received. It is a Protocol Error to include Correlation Data
more than once. If the Correlation Data is not present, the Requester does not
require any correlation data.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The
Server MUST send the Correlation Data unaltered to all subscribers receiving
the Application Message</span><span style="color: red;">[MQTT-3.3.2-16]</span>.
The value of the Correlation Data only has meaning to the sender of the Request
Message and receiver of the Response Message.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The receiver of an Application
Message which contains both a Response Topic and a Correlation Data sends a
response by using the Response Topic as the Topic Name of a PUBLISH. The Client
should also send the Correlation Data unaltered as part of the PUBLISH of the
responses.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">If the Correlation Data contains
information which can cause application failures if modified by the Client responding
to the request, it should be encrypted and/or hashed to allow any alteration to
be detected.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.10-request-response" class="link-internal">section 4.10</a> for
more information about Request / Response</p>
    <p class="MsoNormal"> </p>
    <h5>3.3.2.3.7
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte</b>, Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by a UTF-8 String Pair. The User Property is allowed
to appear multiple times to represent multiple name, value pairs. The same name
is allowed to appear more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST send all
User Properties unaltered in a PUBLISH packet when forwarding the Application
Message to a Client</span><span style="color: red;">[MQTT-3.3.2-17]</span>. <span style="background: yellow;">The Server MUST maintain the order of User Properties
when forwarding the Application Message</span><span style="color: red;">[MQTT-3.3.2-18]</span>.</p>
    <p> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>There is no limit to the number of MQTT user properties in a PUBLISH message received by the Solace server. There is a limit of 96 to the number of MQTT user properties in a PUBLISH message sent by the Solace server.</p>
    </div>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">This property is intended to
provide a means of transferring application layer name-value tags whose meaning
and interpretation are known only by the application programs responsible for
sending and receiving them.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <h5>3.3.2.3.8 Subscription Identifier</h5>
    <p class="MsoListParagraphCxSpFirst" style="margin-left: 0in;"><b>11 (0x0B)</b>,
Identifier of the Subscription Identifier.</p>
    <p class="MsoListParagraphCxSpMiddle" style="margin-left: 0in;">Followed by a
Variable Byte Integer representing the identifier of the subscription. </p>
    <p class="MsoListParagraphCxSpMiddle" style="margin-left: 0in;"> </p>
    <p class="MsoListParagraphCxSpMiddle" style="margin-left: 0in;">The Subscription
Identifier can have the value of 1 to 268,435,455. It is a Protocol Error if
the Subscription Identifier has a value of 0. Multiple Subscription Identifiers
will be included if the publication is the result of a match to more than one
subscription, in this case their order is not significant.</p>
    <p> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support Subscription Identifiers.</p>
    </div>
    <h5>3.3.2.3.9 Content Type</h5>
    <p class="MsoListParagraphCxSpFirst" style="margin-left: 0in;"><b>3 (0x03)</b>
Identifier of the Content Type. </p>
    <p class="MsoListParagraphCxSpMiddle" style="margin-left: 0in;">Followed by a UTF-8
Encoded String describing the content of the Application Message. <span style="color: #333333;background: yellow;">The Content Type MUST be a UTF-8
Encoded String</span><span style="color: #333333;background: white;"> as defined
in </span><a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section
 1.5.4</a><span style="color: red;">[MQTT-3.3.2-19]</span><span style="color: #333333;background: white;">. </span></p>
    <p class="MsoListParagraphCxSpMiddle" style="margin-left: 0in;"><span style="color: #333333;background: white;">It is a Protocol Error to include the Content
Type more than once. </span>The value of the Content Type is defined by the
sending and receiving application. </p>
    <p class="MsoListParagraphCxSpLast" style="margin-left: 0in;"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A
Server MUST send the Content Type unaltered to all subscribers receiving the Application
Message</span><span style="color: red;">[MQTT-3.3.2-20]</span>. </p>
    <p class="MsoListParagraph" style="margin-left: 0in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoListParagraphCxSpFirst" style="margin-left: .5in;">The UTF-8 Encoded String may use a MIME
content type string to describe the contents of the Application message.
However, since the sending and receiving applications are responsible for the
definition and interpretation of the string, MQTT performs no validation of the
string except to insure it is a valid UTF-8 Encoded String.</p>
    <p class="MsoListParagraphCxSpMiddle"> </p>
    <p class="MsoListParagraphCxSpMiddle" style="margin-left: .5in;">
      <b>Non-normative example</b>
    </p>
    <p class="MsoListParagraphCxSpLast" style="margin-left: .5in;">Figure 3-9 shows an example of a PUBLISH
packet with the Topic Name set to “a/b”, the Packet Identifier set to 10, and
having no properties.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Toc473620119"/>Figure 3‑9
- PUBLISH packet Variable Header non-normative example</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Topic Name</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length MSB (0)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length LSB (3)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">‘a’ (0x61)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">‘/’ (0x2F)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 5</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">‘b’ (0x62)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 6</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier MSB (0)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 7</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier LSB (10)</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Property Length</p>
        </td>
      </tr>
      <tr>
        <td width="100" valign="top" style="width: 75.1pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 8</p>
        </td>
        <td width="247" valign="top" style="width: 185.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">No Properties</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" valign="top" style="width: 28.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="41" valign="top" style="width: 30.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.65pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.3.3-publish-payload"/>3.3.3 PUBLISH Payload</h3>
    <p class="MsoNormal">The Payload contains the Application Message that is being
published. The content and format of the data is application specific. The
length of the Payload can be calculated by subtracting the length of the Variable
Header from the Remaining Length field that is in the Fixed Header. It is valid
for a PUBLISH packet to contain a zero length Payload.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace has limits to the size of a message, depending on the message QoS and the type of event broker.</p>
      <p>When a Solace server receives a message whose length and QoS combination exceeds these limits, the connection is closed and an appropriate log is raised. Note that the Solace PubSub+ event broker administrator may configure lower limits than these.</p>
    </div>
    <h3><a name="3.3.4-publish-actions"/>3.3.4 PUBLISH Actions</h3>
    <p class="MsoNormal">
      <span style="background: yellow;">The receiver of a PUBLISH
Packet MUST respond with the packet as determined by the QoS in the PUBLISH
Packet</span>
      <span style="color: red;">[MQTT-3.3.4-1]</span>
      <span style="color: black;">.</span>
    </p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption">Table 3‑3 Expected PUBLISH packet response</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>QoS Level</b>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Expected
 Response</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">QoS 0</p>
        </td>
        <td width="210" valign="top" style="width: 157.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">None</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">QoS 1</p>
        </td>
        <td width="210" valign="top" style="width: 157.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">PUBACK packet</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">QoS 2</p>
        </td>
        <td width="210" valign="top" style="width: 157.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">PUBREC packet</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Client uses a PUBLISH packet to send an Application
Message to the Server, for distribution to Clients with matching subscriptions.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server uses a PUBLISH packet to send an Application
Message to each Client which has a matching subscription. The PUBLISH packet
includes the Subscription Identifier carried in the SUBSCRIBE packet, if there
was one.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">When Clients make subscriptions with Topic Filters that
include wildcards, it is possible for a Client’s subscriptions to overlap so
that a published message might match multiple filters. <span style="background: yellow;">In this case the Server MUST deliver the message to the Client respecting
the maximum QoS of all the matching subscriptions</span><span style="color: red;">[MQTT-3.3.4-2]</span>. In addition, the Server MAY deliver
further copies of the message, one for each additional matching subscription
and respecting the subscription’s QoS in each case.</p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p class="p_1">When the Solace server delivers the message to the Client, it will respect the maximum QoS of all the matching subscriptions. In addition, if there is one or more QoS 1 subscriptions and one or more QoS 0 subscriptions that overlap, then the Solace server will deliver two instances of the message – one for each QoS level.</p>
    </div>
    <p class="MsoNormal">If a Client receives an unsolicited Application Message (not
resulting from a subscription) which has a QoS greater than Maximum QoS, it
uses a DISCONNECT packet with Reason Code 0x9B (QoS not supported ) as
described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> Handling errors.</p>
    <p class="MsoNormal"/>
    <p class="MsoNormal"><span style="background: yellow;">If the Client specified a
Subscription Identifier for any of the overlapping subscriptions the Server
MUST send those Subscription Identifiers in the message which is published as
the result of the subscriptions</span><span style="color: red;">[MQTT-3.3.4-3]</span>.
<span style="background: yellow;">If the Server sends a single copy of the
message it MUST include in the PUBLISH packet the Subscription Identifiers for
all matching subscriptions which have a Subscription Identifiers, their order
is not significant</span><span style="color: red;">[MQTT-3.3.4-4]</span>. <span style="background: yellow;">If the Server sends multiple PUBLISH packets it MUST
send, in each of them, the Subscription Identifier of the matching subscription
if it has a Subscription Identifier</span><span style="color: red;">[MQTT-3.3.4-5]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">It is possible that the Client made several subscriptions which
match a publication and that it used the same identifier for more than one of
them. In this case the PUBLISH packet will carry multiple identical Subscription
Identifiers.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">It is a Protocol Error for a PUBLISH packet to contain any Subscription
Identifier other than those received in SUBSCRIBE packet which caused it to
flow. <span style="background: yellow;">A PUBLISH packet sent from a Client to a Server
MUST NOT contain a Subscription Identifier</span><span style="color: red;">[MQTT-3.3.4-6]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the subscription was shared, then only the Subscription Identifiers
that were present in the SUBSCRIBE packet from the Client which is receiving
the message are returned in the PUBLISH packet.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The action of the recipient when it receives a PUBLISH packet
depends on the QoS level as described in <a href="mqtt-v50-4-operational-behavior.htm#4.3-quality-of-service" class="link-internal">section
4.3</a>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p class="p_1">The Solace server does not fully support the two-phase commit semantics of receiving a PUBLISH packet with QoS 2.  However, to provide maximum interoperability, as allowed by the above section, the Solace server responds to a PUBLISH packet with QoS 2 (that is, the Solace server will respond to a received QoS 2 PUBLISH packet with a PUBREC packet, and will respond to a received PUBREL packet with a PUBCOMP packet). This response effectively provides the same quality of service treatment as a QoS 1 message.</p>
    </div>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the PUBLISH packet contains a Topic Alias, the receiver
processes it as follows: </p>
    <ol>
      <li>A Topic Alias
value of 0 or greater than the Maximum Topic Alias is a Protocol Error, the
receiver uses DISCONNECT with Reason Code of 0x94 (Topic Alias invalid) as
described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.<br/> </li>
      <li>If the receiver
has already established a mapping for the Topic Alias, then<ol style="list-style-type: lower-alpha;"><li>If the packet
has a zero length Topic Name, the receiver processes it using the Topic Name
that corresponds to the Topic Alias</li><li>If the packet
contains a non-zero length Topic Name, the receiver processes the packet using
that Topic Name and updates its mapping for the Topic Alias to the Topic Name
from the incoming packet<br/><br/></li></ol></li>
      <li>If the receiver
does not already have a mapping for this Topic Alias<ol style="list-style-type: lower-alpha;"><li>If the packet
has a zero length Topic Name field it is a Protocol Error and the receiver uses
DISCONNECT with Reason Code of 0x82 (Protocol Error) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</li><li>If the packet
contains a Topic Name with a non-zero length, the receiver processes the packet
using that Topic Name and sets its mappings for the Topic Alias to Topic Name
from the incoming packet.</li></ol></li>
    </ol>
    <p class="MsoNormal" style="margin-left: .25in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative Comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">If the Server distributes
Application Messages to Clients at different protocol levels (such as MQTT
V3.1.1) which do not support properties or other features provided by this specification,
some information in the Application Message can be lost, and applications which
depend on this information might not work correctly.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client MUST NOT send
more than Receive Maximum QoS 1 and QoS 2 PUBLISH packets for which it has not
received PUBACK, PUBCOMP, or PUBREC with a Reason Code of 128 or greater from
the Server</span><span style="color: red;">[MQTT-3.3.4-7]</span>. If it receives
more than Receive Maximum QoS 1 and QoS 2 PUBLISH packets where it has not sent
a PUBACK or PUBCOMP in response, the Server uses a DISCONNECT packet with
Reason Code 0x93 (Receive Maximum exceeded) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> Handling errors. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.9-flow-control" class="link-internal">section 4.9</a> for more information about flow control.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client MUST NOT delay
the sending of any packets other than PUBLISH packets due to having sent
Receive Maximum PUBLISH packets without receiving acknowledgements for them</span><span style="color: red;">[MQTT-3.3.4-8]</span>. The value of Receive Maximum
applies only to the current Network Connection.</p>
    <p class="MsoNormal" style="text-align: justify;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Client might choose to send
fewer than Receive Maximum messages to the Server without receiving
acknowledgement, even if it has more than this number of messages available to
send. </p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Client might choose to suspend
the sending of QoS 0 PUBLISH packets when it suspends the sending of QoS 1 and
QoS 2 PUBLISH packets. </p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">If the Client sends QoS 1 or QoS 2
PUBLISH packets before it has received a CONNACK packet, it risks being disconnected
because it has sent more than Receive Maximum publications.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST NOT send
more than Receive Maximum QoS 1 and QoS 2 PUBLISH packets for which it has not
received PUBACK, PUBCOMP, or PUBREC with a Reason Code of 128 or greater from
the Client</span><span style="color: red;">[MQTT-3.3.4-9]</span>. If it receives
more than Receive Maximum QoS 1 and QoS 2 PUBLISH packets where it has not sent
a PUBACK or PUBCOMP in response, the Client uses DISCONNECT with Reason Code
0x93 (Receive Maximum exceeded) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> Handling errors. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.9-flow-control" class="link-internal">section 4.9</a> for
more information about flow control.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST NOT delay
the sending of any packets other than PUBLISH packets due to having sent
Receive Maximum PUBLISH packets without receiving acknowledgements for them</span><span style="color: red;">[MQTT-3.3.4-10]</span>. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Server might choose to send
fewer than Receive Maximum messages to the Client without receiving
acknowledgement, even if it has more than this number of messages available to
send. </p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The Server might choose to suspend
the sending of QoS 0 PUBLISH packets when it suspends the sending of QoS 1 and
QoS 2 PUBLISH packets.</p>
    <h2><a name="3.4-publish-acknowledgement"/>3.4
PUBACK – Publish acknowledgement </h2>
    <p class="MsoNormal">A PUBACK packet is the response to a PUBLISH packet with QoS
1.</p>
    <h3><a name="3.4.1-puback-fixed-header"/>3.4.1 PUBACK Fixed Header</h3>
    <p class="TblCaption">Figure 3‑10 - PUBACK packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.7pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 202.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (4)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="68" valign="top" style="width: 50.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="541" colspan="8" valign="top" style="width: 405.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length </p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable Header, encoded as a Variable
Byte Integer.</p>
    <h3><a name="3.4.2-puback-variable-header"/>3.4.2 PUBACK Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the PUBACK Packet contains the
following fields in the order: Packet Identifier from the PUBLISH packet that
is being acknowledged, PUBACK Reason Code, Property Length, and the Properties.
The rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>. </p>
    <p class="TblCaption">Figure 3‑11
– PUBACK packet Variable Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 MSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 LSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">PUBACK Reason Code</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Property Length</p>
        </td>
      </tr>
    </table>
    <h4>3.4.2.1 PUBACK Reason Code</h4>
    <p class="MsoNormal">Byte 3 in the Variable Header is the PUBACK Reason Code. If
the Remaining Length is 2, then there is no Reason Code and the value of 0x00
(Success) is used.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption">Table 3‑4 - PUBACK Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="685" style="width: 513.9pt;border-collapse: collapse;border: none;">
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x00</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Success</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The message is accepted. Publication of the QoS 1 message
 proceeds. </p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">16</p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x10</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">No matching subscribers</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The message is accepted but there are no subscribers. This
 is sent only by the Server. If the Server knows that there are no matching
 subscribers, it MAY use this Reason Code instead of 0x00 (Success).</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">128</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x80</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Unspecified error</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The receiver does not accept the publish but either does
 not want to reveal the reason, or it does not match one of the other values.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">131</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x83</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Implementation specific error</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The PUBLISH is valid but the receiver is not willing to
 accept it. </p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">135</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x87</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Not authorized</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The PUBLISH is not authorized.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">144</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x90</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Name invalid</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Topic Name is not malformed, but is not accepted by
 this Client or Server.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">145</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x91</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet identifier in use</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Packet Identifier is already in use. This might
 indicate a mismatch in the Session State between the Client and Server.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">151</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x97</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Quota exceeded</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">An implementation or administrative imposed limit has been
 exceeded.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 39.45pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">153</span>
          </p>
        </td>
        <td width="75" valign="top" style="width: 56.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x99</p>
        </td>
        <td width="224" valign="top" style="width: 167.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Payload format invalid</p>
        </td>
        <td width="333" valign="top" style="width: 250.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The payload format does not match the specified Payload
 Format Indicator.</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"><a name="_Toc442180859"/><a name="_Toc385349782"/><a name="_Toc385349281"/><a name="_Toc384800419"/> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client or Server sending
the PUBACK packet MUST use one of the PUBACK Reason Codes</span><span style="color: red;">[MQTT-3.4.2-1]</span>. The Reason Code and Property Length
can be omitted if the Reason Code is 0x00 (Success) and there are no
Properties. In this case the PUBACK has a Remaining Length of 2.</p>
    <h4><a name="3.4.2.2-puback-properties"/>3.4.2.2 PUBACK Properties</h4>
    <h5>3.4.2.2.1
Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the PUBACK packet Variable
Header encoded as a Variable Byte Integer. If the Remaining Length is less than
4 there is no Property Length and the value of 0 is used.</p>
    <p class="MsoNormal"> </p>
    <h5>3.4.2.2.2
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte</b>, Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is a human readable string
designed for diagnostics and is not intended to be parsed by the receiver. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The sender uses this value to give additional information to
the receiver. <span style="background: yellow;">The sender MUST NOT send this
property if it would increase the size of the PUBACK packet beyond the Maximum
Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.4.2-2]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.4.2.2.3
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property can be used to
provide additional diagnostic or other information. <span style="background: yellow;">The sender MUST NOT send this property if it would increase the size of
the PUBACK packet beyond the Maximum Packet Size specified by the receiver</span> <span style="color: red;">[MQTT-3.4.2-3]</span>. The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <h3><a name="3.4.3-puback-payload"/>3.4.3 PUBACK Payload</h3>
    <p class="MsoNormal">The PUBACK packet has no Payload.</p>
    <h3><a name="3.4.4-puback-actions"/>3.4.4 PUBACK Actions</h3>
    <p class="MsoNormal">This is described in <a href="mqtt-v50-4-operational-behavior.htm#4.3.2-qos1-at-least-once" class="link-internal">section 4.3.2</a>.</p>
    <h2><a name="3.5-publish-received"/>3.5 PUBREC – Publish received
(QoS 2 delivery part 1)</h2>
    <p class="MsoNormal">A PUBREC packet is the response to a PUBLISH packet with QoS
2. It is the second packet of the QoS 2 protocol exchange.</p>
    <h3><a name="3.5.1-pubrec-fixed-header"/>3.5.1 PUBREC Fixed Header</h3>
    <p class="TblCaption">Figure 3‑12
- PUBREC packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr style="page-break-inside: avoid;">
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="268" colspan="4" valign="top" style="width: 200.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (5)</p>
        </td>
        <td width="268" colspan="4" valign="top" style="width: 200.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="535" colspan="8" valign="top" style="width: 401.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length </p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable
Header, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.5.2-pubrec-variable-header"/>3.5.2 PUBREC Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the PUBREC Packet consists of the
following fields in the order: the Packet Identifier from the PUBLISH packet
that is being acknowledged, PUBREC Reason Code, and Properties. The rules for
encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>. </p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"> Figure
3‑13 - PUBREC packet Variable Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 MSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 LSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">PUBREC Reason Code</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Property Length</p>
        </td>
      </tr>
    </table>
    <h4>3.5.2.1 PUBREC Reason Code</h4>
    <p class="MsoNormal">Byte 3 in the Variable Header is the PUBREC Reason Code. If
the Remaining Length is 2, then the Publish Reason Code has the value 0x00
(Success).</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption">Table 3‑5 – PUBREC Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="685" style="width: 513.9pt;border-collapse: collapse;border: none;">
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x00</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Success</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The message is accepted. Publication of the QoS 2 message
 proceeds. </p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">16</p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x10</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">No matching subscribers.</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The message is accepted but there are no subscribers. This
 is sent only by the Server. If the Server knows that there are no matching
 subscribers, it MAY use this Reason Code instead of 0x00 (Success).</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">128</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x80</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Unspecified error</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The receiver does not accept the publish but either does
 not want to reveal the reason, or it does not match one of the other values.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">131</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x83</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Implementation specific error</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The PUBLISH is valid but the receiver is not willing to
 accept it. </p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">135</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x87</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Not authorized</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The PUBLISH is not authorized.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">144</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x90</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Name invalid</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Topic Name is not malformed, but is not accepted by
 this Client or Server.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">145</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x91</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier in use</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Packet Identifier is already in use. This might
 indicate a mismatch in the Session State between the Client and Server.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">151</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x97</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Quota exceeded</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">An implementation or administrative imposed limit has been
 exceeded.</p>
        </td>
      </tr>
      <tr>
        <td width="53" valign="top" style="width: 40.0pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">153</span>
          </p>
        </td>
        <td width="71" valign="top" style="width: 53.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x99</p>
        </td>
        <td width="195" valign="top" style="width: 146.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Payload format invalid</p>
        </td>
        <td width="366" valign="top" style="width: 274.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The payload format does not match the one specified in the
 Payload Format Indicator.</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client or Server sending
the PUBREC packet MUST use one of the PUBREC Reason Code values.</span><span style="color: red;">[MQTT-3.5.2-1]</span>. The Reason Code and Property Length
can be omitted if the Reason Code is 0x00 (Success) and there are no
Properties. In this case the PUBREC has a Remaining Length of 2.</p>
    <h4>3.5.2.2 PUBREC Properties</h4>
    <h5>3.5.2.2.1
Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the PUBREC packet Variable
Header encoded as a Variable Byte Integer. If the Remaining Length is less than
4 there is no Property Length and the value of 0 is used.</p>
    <h5>3.5.2.2.2
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte</b>, Identifier of the Reason String.</p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is human readable, designed
for diagnostics and SHOULD NOT be parsed by the receiver. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The sender uses this value to give additional information to
the receiver. <span style="background: yellow;">The sender MUST NOT send this
property if it would increase the size of the PUBREC packet beyond the Maximum
Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.5.2-2]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.5.2.2.3
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property can be used to provide
additional diagnostic or other information. <span style="background: yellow;">The
sender MUST NOT send this property if it would increase the size of the PUBREC packet
beyond the Maximum Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.5.2-3]</span>. The User Property is allowed to appear
multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <h3><a name="3.5.3-pubrec-payload"/>3.5.3 PUBREC Payload</h3>
    <p class="MsoNormal">The PUBREC packet has no Payload.</p>
    <h3><a name="3.5.4-pubrec-actions"/>3.5.4 PUBREC Actions</h3>
    <p class="MsoNormal">This is described in <a href="mqtt-v50-4-operational-behavior.htm#4.3.3-qos2-exactly-once" class="link-internal">section 4.3.3</a>.</p>
    <h2><a name="3.6-publish-release"/>3.6 PUBREL – Publish release
(QoS 2 delivery part 2)</h2>
    <p class="MsoNormal">A PUBREL packet is the response to a PUBREC packet. It is
the third packet of the QoS 2 protocol exchange.</p>
    <h3><a name="3.6.1-pubrel-fixed-header"/>3.6.1 PUBREL Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.16_–"/>Figure 3‑14
– PUBREL packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="643" style="width: 6.7in;border-collapse: collapse;border: none;">
      <tr>
        <td width="107" valign="top" style="width: 80.35pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="107" valign="top" style="width: 80.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="268" colspan="4" valign="top" style="width: 201.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (6)</p>
        </td>
        <td width="268" colspan="4" valign="top" style="width: 201.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="107" valign="top" style="width: 80.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="67" valign="top" style="width: 50.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="107" valign="top" style="width: 80.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="536" colspan="8" valign="top" style="width: 402.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length </p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal">
      <b> </b>
    </p>
    <p class="MsoNormal">
      <span style="background: yellow;">Bits 3,2,1 and 0 of the
Fixed Header in the PUBREL packet are reserved and MUST be set to 0,0,1 and 0
respectively. The Server MUST treat any other value as malformed and close the
Network Connection</span>
      <span style="color: red;">[MQTT-3.6.1-1]</span>
      <span style="color: black;">.</span>
    </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable
Header, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.6.2-pubrel-variable-header"/>3.6.2 PUBREL Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the PUBREL Packet contains the
following fields in the order: the Packet Identifier from the PUBREC packet
that is being acknowledged, PUBREL Reason Code, and Properties. The rules for
encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"> Figure
3‑15 – PUBREL packet Variable Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 MSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 LSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">PUBREL Reason Code</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Property Length</p>
        </td>
      </tr>
    </table>
    <h4>3.6.2.1 PUBREL Reason Code</h4>
    <p class="MsoNormal">Byte 3 in the Variable Header is the PUBREL Reason Code. If
the Remaining Length is 2, the value of 0x00 (Success) is used.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption">Table 3‑6 - PUBREL Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="691" style="width: 7.2in;border-collapse: collapse;border: none;">
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="55" valign="top" style="width: 41.35pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="402" valign="top" style="width: 301.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="55" valign="top" style="width: 41.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x00</span>
          </p>
        </td>
        <td width="174" valign="top" style="width: 130.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Success</span>
          </p>
        </td>
        <td width="402" valign="top" style="width: 301.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Message released.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">146</span>
          </p>
        </td>
        <td width="55" valign="top" style="width: 41.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x92</p>
        </td>
        <td width="174" valign="top" style="width: 130.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier not found</p>
        </td>
        <td width="402" valign="top" style="width: 301.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Packet Identifier is not known. This is not an error
 during recovery, but at other times indicates a mismatch between the Session
 State on the Client and Server. </p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client or Server sending
the PUBREL packet MUST use one of the PUBREL Reason Code values</span><span style="color: red;">[MQTT-3.6.2-1]</span>. The Reason Code and Property Length
can be omitted if the Reason Code is 0x00 (Success) and there are no
Properties. In this case the PUBREL has a Remaining Length of 2.</p>
    <h4>3.6.2.2 PUBREL Properties</h4>
    <h5>3.6.2.2.1 Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the PUBREL packet Variable
Header encoded as a Variable Byte Integer. If the Remaining Length is less than
4 there is no Property Length and the value of 0 is used.</p>
    <h5>3.6.2.2.2
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte</b>, Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is human readable, designed
for diagnostics and SHOULD NOT be parsed by the receiver. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The sender uses this value to give additional information to
the receiver. <span style="background: yellow;">The sender MUST NOT send this
Property if it would increase the size of the PUBREL packet beyond the Maximum
Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.6.2-2]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.6.2.2.3
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property can be used to
provide additional diagnostic or other information for the PUBREL. <span style="background: yellow;">The sender MUST NOT send this property if it would
increase the size of the PUBREL packet beyond the Maximum Packet Size specified
by the receiver</span><span style="color: red;">[MQTT-3.6.2-3]</span>. The User
Property is allowed to appear multiple times to represent multiple name, value
pairs. The same name is allowed to appear more than once.</p>
    <h3><a name="3.6.3-pubrel-payload"/>3.6.3 PUBREL Payload</h3>
    <p class="MsoNormal">The PUBREL packet has no Payload.</p>
    <h3><a name="3.6.4-pubrel-actions"/>3.6.4 PUBREL Actions</h3>
    <p class="MsoNormal">This is described in <a href="mqtt-v50-4-operational-behavior.htm#4.3.3-qos2-exactly-once" class="link-internal">section 4.3.3</a>.</p>
    <h2><a name="3.7-publish-complete"/>3.7 PUBCOMP – Publish complete
(QoS 2 delivery part 3)</h2>
    <p class="MsoNormal">The PUBCOMP packet is the response to a PUBREL packet. It is
the fourth and final packet of the QoS 2 protocol exchange.</p>
    <h3><a name="3.7.1-pubcomp-fixed-header"/>3.7.1 PUBCOMP Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.18_–"/>Figure 3‑16
– PUBCOMP packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control packet
 type (7)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="96" valign="top" style="width: 1.0in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="542" colspan="8" valign="top" style="width: 5.65in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable
Header, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.7.2-pubcomp-variable-header"/>3.7.2 PUBCOMP Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the PUBCOMP Packet contains the
following fields in the order: Packet Identifier from the PUBREL packet that is
being acknowledged, PUBCOMP Reason Code, and Properties. The rules for encoding
Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>. </p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Figure_3.19_–"/>Figure
3‑17 - PUBCOMP packet Variable Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 MSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 LSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">PUBCOMP Reason Code</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Property Length</p>
        </td>
      </tr>
    </table>
    <h4>3.7.2.1 PUBCOMP Reason Code</h4>
    <p class="MsoNormal">Byte 3 in the Variable Header is the PUBCOMP Reason Code. If
the Remaining Length is 2, then the value 0x00 (Success) is used.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Ref459303322"/>Table 3‑7
– PUBCOMP Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="679" style="width: 509.4pt;border-collapse: collapse;border: none;">
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="55" valign="top" style="width: 41.35pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="390" valign="top" style="width: 292.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="55" valign="top" style="width: 41.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x00</span>
          </p>
        </td>
        <td width="174" valign="top" style="width: 130.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Success</span>
          </p>
        </td>
        <td width="390" valign="top" style="width: 292.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier released. Publication of QoS 2 message
 is complete.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">146</span>
          </p>
        </td>
        <td width="55" valign="top" style="width: 41.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x92</p>
        </td>
        <td width="174" valign="top" style="width: 130.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier not found</p>
        </td>
        <td width="390" valign="top" style="width: 292.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Packet Identifier is not known. This is not an error
 during recovery, but at other times indicates a mismatch between the Session
 State on the Client and Server. </p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client or Server sending
the PUBCOMP packet MUST use one of the PUBCOMP Reason Code values</span><span style="color: red;">[MQTT-3.7.2-1]</span>. The Reason Code and Property Length
can be omitted if the Reason Code is 0x00 (Success) and there are no
Properties. In this case the PUBCOMP has a Remaining Length of 2.</p>
    <h4>3.7.2.2 PUBCOMP Properties</h4>
    <h5>3.7.2.2.1 Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the PUBCOMP packet Variable
Header encoded as a Variable Byte Integer. If the Remaining Length is less than
4 there is no Property Length and the value of 0 is used.</p>
    <h5>3.7.2.2.2
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte</b>, Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is a human readable string
designed for diagnostics and SHOULD NOT be parsed by the receiver. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The sender uses this value to give additional information to
the receiver. <span style="background: yellow;">The sender MUST NOT send this
Property if it would increase the size of the PUBCOMP packet beyond the Maximum
Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.7.2-2]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <p class="MsoNormal"> </p>
    <h5>3.7.2.2.3
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property can be used to
provide additional diagnostic or other information. <span style="background: yellow;">The sender MUST NOT send this property if it would increase the size of
the PUBCOMP packet beyond the Maximum Packet Size specified by the receiver</span> <span style="color: red;">[MQTT-3.7.2-3]</span>. The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <h3><a name="3.7.3-pubcomp-payload"/>3.7.3
PUBCOMP Payload</h3>
    <p class="MsoNormal">The PUBCOMP packet has no Payload.</p>
    <h3><a name="3.7.4-pubcomp-actions"/>3.7.4 PUBCOMP Actions</h3>
    <p class="MsoNormal">This is described in <a href="mqtt-v50-4-operational-behavior.htm#4.3.3-qos2-exactly-once" class="link-internal">section 4.3.3</a>.</p>
    <h2><a name="3.8-subscribe-request"/>3.8 SUBSCRIBE - Subscribe request</h2>
    <p class="MsoNormal">The SUBSCRIBE packet is sent from the Client to the Server
to create one or more Subscriptions. Each Subscription registers a Client’s
interest in one or more Topics. The Server sends PUBLISH packets to the Client
to forward Application Messages that were published to Topics that match these
Subscriptions. The SUBSCRIBE packet also specifies (for each Subscription) the
maximum QoS with which the Server can send Application Messages to the Client.</p>
    <h3><a name="3.8.1-subscribe-fixed-header"/>3.8.1 SUBSCRIBE Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.20_–"/>Figure 3‑18
SUBSCRIBE packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="266" colspan="4" valign="top" style="width: 199.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (8)</p>
        </td>
        <td width="266" colspan="4" valign="top" style="width: 199.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <span style="font-size: 9.0pt;">Reserved</span>
          </p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="66" valign="top" style="width: 49.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 49.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="106" valign="top" style="width: 79.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="532" colspan="8" valign="top" style="width: 399.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">Bits 3,2,1 and 0 of the
Fixed Header of the SUBSCRIBE packet are reserved and MUST be set to 0,0,1 and
0 respectively. The Server MUST treat any other value as malformed and close
the Network Connection</span><span style="color: red;">[MQTT-3.8.1-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of Variable
Header plus the length of the Payload, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.8.2-subscribe-variable-header"/>3.8.2 SUBSCRIBE Variable
Header</h3>
    <p class="MsoNormal">The Variable Header of the SUBSCRIBE Packet contains the
following fields in the order: Packet Identifier, and Properties. <a href="mqtt-v50-2-control-packet-format.htm#2.2.1-packet-identifier" class="link-internal"> Section 2.2.1</a> provides more information about Packet
Identifiers. The rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative example</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Figure 3-19 shows an example of a
SUBSCRIBE variable header with a Packet Identifier of 10 and no properties.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="TblCaption"><a name="_Figure_3.21_-"/>Figure
3‑19 – SUBSCRIBE Variable Header example</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="80" valign="top" style="width: 59.8pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="239" valign="top" style="width: 179.4pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier</p>
        </td>
      </tr>
      <tr>
        <td width="80" valign="top" style="width: 59.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1 </p>
        </td>
        <td width="239" valign="top" style="width: 179.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier MSB (0)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="80" valign="top" style="width: 59.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="239" valign="top" style="width: 179.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet Identifier LSB (10)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="80" valign="top" style="width: 59.8pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="239" valign="top" style="width: 179.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Property Length (0)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h4>3.8.2.1 SUBSCRIBE Properties</h4>
    <h5>3.8.2.1.1 Property Length</h5>
    <p class="MsoNormal">The length of Properties in the SUBSCRIBE packet Variable
Header encoded as a Variable Byte Integer.</p>
    <h5>3.8.2.1.2 Subscription Identifier</h5>
    <p class="MsoNormal"><b>11 (0x0B) Byte,</b> Identifier of the Subscription
Identifier. </p>
    <p class="MsoNormal">Followed by a Variable Byte Integer representing the
identifier of the subscription. The Subscription Identifier can have the value
of 1 to 268,435,455. It is a Protocol Error if the Subscription Identifier has
a value of 0. It is a Protocol Error to include the Subscription Identifier
more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Subscription Identifier is associated with any
subscription created or modified as the result of this SUBSCRIBE packet. If
there is a Subscription Identifier, it is stored with the subscription. If this
property is not specified, then the absence of a Subscription Identifier is
stored with the subscription.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="#3.8.3.1-subscription-options" class="link-internal">section 3.8.3.1</a>
for more information about the handling of Subscription Identifiers.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support Subscription Identifiers, and indicates this in the CONNACK sent to the client.</p>
    </div>
    <p> </p>
    <h5>3.8.2.1.3 User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte</b>, Identifier of the User Property. </p>
    <p class="MsoNormal">Followed by a UTF-8 String Pair. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The User Property is allowed to appear multiple times to
represent multiple name, value pairs. The same name is allowed to appear more
than once. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">User Properties on the SUBSCRIBE
packet can be used to send subscription related properties from the Client to
the Server. The meaning of these properties is not defined by this specification.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not define any User Properties for a SUBSCRIBE packet.</p>
    </div>
    <h3><a name="3.8.3-subscribe-payload"/>3.8.3 SUBSCRIBE Payload</h3>
    <p class="MsoNormal">The Payload of a SUBSCRIBE packet contains a list of Topic
Filters indicating the Topics to which the Client wants to subscribe. <span style="background: yellow;">The Topic Filters MUST be a UTF-8 Encoded String</span> <span style="color: red;">[MQTT-3.8.3-1]</span>. Each Topic Filter is followed by
a Subscription Options byte. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Payload MUST contain at least
one Topic Filter and Subscription Options pair</span><span style="color: red;">[MQTT-3.8.3-2]</span>.
A SUBSCRIBE packet with no Payload is a Protocol Error. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> for information about handling errors. </p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <ul>
        <li>The Topic Filter must conform to the  <a href="../MQTT/MQTT-Topics.htm" class="link-internal">Solace limitations</a>.  Topics outside these are rejected with a SUBACK containing the value 0x80 to indicate failure.</li>
        <li>SUBSCRIBE packets can contain at most 1,024 Topic Filters. Exceeding this limit will cause the connection to be closed.</li>
      </ul>
    </div>
    <h4><a name="3.8.3.1-subscription-options"/>3.8.3.1 Subscription
Options</h4>
    <p class="MsoNormal">Bits 0 and 1 of the Subscription Options represent Maximum
QoS field. This gives the maximum QoS level at which the Server can send
Application Messages to the Client. It is a Protocol Error if the Maximum QoS field
has the value 3.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="color: black;background: yellow;">Bit 2 of the Subscription Options represents the No Local option. If the value is 1, Application Messages MUST NOT be forwarded to a connection with a ClientID
equal to the ClientID of the publishing connection</span><span style="color: red;">[MQTT-3.8.3-3]</span>.<span style="background: yellow;">It is a Protocol Error to set the No Local bit to 1 on a Shared Subscription </span><span style="color: red;">[MQTT-3.8.3-4]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Bit 3 of the Subscription Options represents the Retain As Published option. If 1, Application Messages
forwarded using this subscription keep the RETAIN flag they were published
with. If 0, Application Messages forwarded using this subscription have the
RETAIN flag set to 0. Retained messages sent when the subscription is
established have the RETAIN flag set to 1.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Bits 4 and 5 of the Subscription
Options represent the Retain Handling option. This option specifies whether
retained messages are sent when the subscription is established. This does not
affect the sending of retained messages at any point after the subscribe. If
there are no retained messages matching the Topic Filter, all of these values
act the same. The values are:</p>
    <p class="MsoNormal">0 = Send retained messages at the
time of the subscribe</p>
    <p class="MsoNormal">1 = Send retained messages at
subscribe only if the subscription does not currently exist</p>
    <p class="MsoNormal">2 = Do not send retained messages
at the time of the subscribe</p>
    <p class="MsoNormal">It is a Protocol Error to send a
Retain Handling value of 3.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Bits 6 and 7 of the Subscription Options byte are reserved
for future use. <span style="background: yellow;">The Server MUST treat a
SUBSCRIBE packet as malformed if any of Reserved bits in the Payload are
non-zero</span><span style="color: red;">[MQTT-3.8.3-5]</span><span style="color: black;">.</span></p>
    <p> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support the No Local, Retain as Published, and Retain Handling options with any value other than 0. If any of these options are non-zero, the Solace server closes the connection.</p>
    </div>
    <p> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;">The No
Local and Retain As Published subscription options can be used to implement
bridging where the Client is sending the message on to another Server.</span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;"> </span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;">Not
sending retained messages for an existing subscription is useful when a
reconnect is done and the Client is not certain whether the subscriptions were
completed in the previous connection to the Session.</span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;"> </span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;">Not
sending stored retained messages because of a new subscription is useful where
a Client wishes to receive change notifications and does not need to know the
initial state.</span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;"> </span>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <span style="color: black;">For a
Server that indicates it does not support retained messages, all valid values
of Retain As Published and Retain Handling give the same result which is to not
send any retained messages at subscribe and to set the RETAIN flag to 0 for all
messages.</span>
    </p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Figure_3.22_–"/>Figure
3‑20– SUBSCRIBE packet Payload format</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="127" valign="top" style="width: 95.3pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 48.05pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 48.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="9" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Filter</p>
        </td>
      </tr>
      <tr>
        <td width="127" valign="top" style="width: 95.3pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="511" colspan="8" valign="top" style="width: 383.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length MSB</p>
        </td>
      </tr>
      <tr>
        <td width="127" valign="top" style="width: 95.3pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="511" colspan="8" valign="top" style="width: 383.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length LSB</p>
        </td>
      </tr>
      <tr>
        <td width="127" valign="top" style="width: 95.3pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">bytes 3..N</p>
        </td>
        <td width="511" colspan="8" valign="top" style="width: 383.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Topic Filter</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="9" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Subscription Options</p>
        </td>
      </tr>
      <tr>
        <td width="127" valign="top" style="width: 95.3pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="128" colspan="2" valign="top" style="width: 95.8pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
        <td width="128" colspan="2" valign="top" style="width: 95.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Retain Handling</p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">RAP</p>
        </td>
        <td width="64" valign="top" style="width: 48.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">NL</p>
        </td>
        <td width="128" colspan="2" valign="top" style="width: 95.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">QoS</p>
        </td>
      </tr>
      <tr>
        <td width="127" valign="top" style="width: 95.3pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte N+1</p>
        </td>
        <td width="64" valign="top" style="width: 47.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="64" valign="top" style="width: 47.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="64" valign="top" style="width: 48.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="64" valign="top" style="width: 48.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="64" valign="top" style="width: 47.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
        <td width="64" valign="top" style="width: 47.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">X</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal">
      <span style="color: black;">RAP means Retain as Published.</span>
    </p>
    <p class="MsoNormal">
      <span style="color: black;">NL means No Local.</span>
    </p>
    <p> </p>
    <p class="MsoNormal" style="margin-left: 28.35pt;">
      <b>Non-normative
example</b>
    </p>
    <p class="MsoNormal" style="margin-left: 28.35pt;">Figure 3.21 shows the SUBSCRIBE
Payload example with two Topic Filters. The first is “a/b” with QoS 1, and the
second is “c/d” with QoS 2. </p>
    <p class="MsoNormal" style="margin-left: 28.35pt;"> </p>
    <p class="TblCaption"><a name="_Figure_3.23_-"/>Figure 3‑21
- Payload byte format non-normative example</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Filter</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length MSB (0)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length LSB (3)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘a’ (0x61)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘/’ (0x2F)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 5</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘b’ (0x62)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Subscription Options</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 6</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Subscription Options
 (1)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Filter</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 7</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length MSB (0)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 8</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length LSB (3)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 9</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘c’ (0x63)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 10</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘/’ (0x2F)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 11</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘d’ (0x64)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Subscription Options</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 12</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Subscription
 Options (2)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.8.4-subscribe-actions"/>3.8.4
SUBSCRIBE Actions</h3>
    <p class="MsoNormal"><span style="background: yellow;">When the Server receives a
SUBSCRIBE packet from a Client, the Server MUST respond with a SUBACK packet</span><span style="color: red;">[MQTT-3.8.4-1]</span>. <span style="background: yellow;">The
SUBACK packet MUST have the same Packet Identifier as the SUBSCRIBE packet that
it is acknowledging</span><span style="color: red;">[MQTT-3.8.4-2]</span>.</p>
    <p class="MsoNormal">The Server is permitted to start sending PUBLISH packets
matching the Subscription before the Server sends the SUBACK packet.</p>
    <p class="MsoNormal"><span style="background: yellow;">If a Server receives a
SUBSCRIBE packet containing a Topic Filter that is identical to a Non‑shared
Subscription’s Topic Filter for the current Session, then it MUST replace that
existing Subscription with a new Subscription</span><span style="color: red;">[MQTT-3.8.4-3]</span>.
The Topic Filter in the new Subscription will be identical to that in the
previous Subscription, although its Subscription Options could be different. <span style="background: yellow;">If the Retain Handling option is 0, any existing
retained messages matching the Topic Filter MUST be re-sent, but Applicaton
Messages MUST NOT be lost due to replacing the Subscription</span><span style="color: red;">[MQTT-3.8.4-4]</span>. </p>
    <p class="MsoNormal">If a Server receives a Non‑shared Topic Filter that is
not identical to any Topic Filter for the current Session, a new Non-shared
Subscription is created. If the Retain Handling option is not 2, all matching
retained messages are sent to the Client. </p>
    <p class="MsoNormal">If a Server receives a Topic Filter that is identical to the
Topic Filter for a Shared Subscription that already exists on the Server, the
Session is added as a subscriber to that Shared Subscription. No retained
messages are sent. </p>
    <p class="MsoNormal">If a Server receives a Shared Subscription Topic Filter that
is not identical to any existing Shared Subscription’s Topic Filter, a new
Shared Subscription is created. The Session is added as a subscriber to that
Shared Subscription. No retained messages are sent. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.8-subscriptions" class="link-internal">section 4.8</a> for more details on Shared
Subscriptions.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Server receives a
SUBSCRIBE packet that contains multiple Topic Filters it MUST handle that
packet as if it had received a sequence of multiple SUBSCRIBE packets, except
that it combines their responses into a single SUBACK response</span><span style="color: red;">[MQTT-3.8.4-5]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The SUBACK packet sent by
the Server to the Client MUST contain a Reason Code for each Topic
Filter/Subscription Option pair</span><span style="color: red;">[MQTT-3.8.4-6]</span>.
<span style="background: yellow;">This Reason Code MUST either show the maximum
QoS that was granted for that Subscription or indicate that the subscription
failed</span><span style="color: red;">[MQTT-3.8.4-7]</span><span style="color: black;">.</span> The Server might grant a lower Maximum QoS than
the subscriber requested. <span style="background: yellow;">The QoS of Application
Messages sent in response to a Subscription MUST be the minimum of the QoS of
the originally published message and the Maximum QoS granted by the Server</span> <span style="color: red;">[MQTT-3.8.4-8]</span>. The server is permitted to send
duplicate copies of a message to a subscriber in the case where the original message
was published with QoS 1 and the maximum QoS granted was QoS 0.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">If a subscribing Client has been
granted maximum QoS 1 for a particular Topic Filter, then a QoS 0 Application
Message matching the filter is delivered to the Client at QoS 0. This means
that at most one copy of the message is received by the Client. On the other
hand, a QoS 2 Message published to the same topic is downgraded by the Server
to QoS 1 for delivery to the Client, so that Client might receive duplicate
copies of the Message.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">If the subscribing Client has been
granted maximum QoS 0, then an Application Message originally published as QoS
2 might get lost on the hop to the Client, but the Server should never send a
duplicate of that Message. A QoS 1 Message published to the same topic might
either get lost or duplicated on its transmission to that Client.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Subscribing to a Topic Filter at
QoS 2 is equivalent to saying "I would like to receive Messages matching this
filter at the QoS with which they were published". This means a publisher
is responsible for determining the maximum QoS a Message can be delivered at,
but a subscriber is able to require that the Server downgrades the QoS to one
more suitable for its usage.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal">The Subscription Identifiers are part of the Session State
in the Server and are returned to the Client receiving a matching PUBLISH
packet. They are removed from the Server’s Session State when the Server
receives an UNSUBSCRIBE packet, when the Server receives a SUBSCRIBE packet
from the Client for the same Topic Filter but with a different Subscription Identifier
or with no Subscription Identifier, or when the Server sends Session Present 0
in a CONNACK packet.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Subscription Identifiers do not form part of the Client’s
Session State in the Client. In a useful implementation, a Client will
associate the Subscription Identifiers with other Client side state, this state
is typically removed when the Client unsubscribes, when the Client subscribes
for the same Topic Filter with a different identifier or no identifier, or when
the Client receives Session Present 0 in a CONNACK packet.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server need not use the same set of Subscription Identifiers
in the retransmitted PUBLISH packet. The Client can remake a Subscription by
sending a SUBSCRIBE packet containing a Topic Filter that is identical to the
Topic Filter of an existing Subscription in the current Session. If the Client
remade a subscription after the initial transmission of a PUBLISH packet and used
a different Subscription Identifier, then the Server is allowed to use the
identifiers from the first transmission in any retransmission. Alternatively,
the Server is allowed to use the new identifiers during a retransmission. The Server
is not allowed to revert to the old identifier after it has sent a PUBLISH
packet containing the new one.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative
comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">Usage scenarios, for illustration of
Subscription Identifiers.</p>
    <ul style="margin-left: 0.5in;">
      <li>The Client implementation indicates via its programming interface
that a publication matched more than one subscription. The Client implementation
generates a new identifier each time a subscription is made. If the returned
publication carries more than one Subscription Identifier, then the publication
matched more than one subscription.<br/><br/></li>
      <li>The Client implementation allows the subscriber to direct
messages to a callback associated with the subscription. The Client implementation
generates an identifier which uniquely maps the identifier to the callback.
When a publication is received it uses the Subscription Identifier to determine
which callback is driven.<br/><br/></li>
      <li>The Client implementation returns the topic string used to make the
subscription to the application when it delivers the published message. To
achieve this the Client generates an identifier which uniquely identifies the Topic
Filter. When a publication is received the Client implementation uses the
identifiers to look up the original Topic Filters and return them to the Client
application.<br/><br/></li>
      <li>A gateway forwards publications received from a Server to Clients
that have made subscriptions to the gateway. The gateway implementation maintains
a map of each unique Topic Filter it receives to the set of ClientID, Subscription
Identifier pairs that it also received. It generates a unique identifier for each
Topic Filter that it forwards to the Server. When a publication is received,
the gateway uses the Subscription Identifiers it received from the Server to
look up the Client Identifier, Subscription Identifier pairs associated with
them. It adds these to the PUBLISH packets it sends to the Clients. If the
upstream Server sent multiple PUBLISH packets because the message matched
multiple subscriptions, then this behavior is mirrored to the Clients.</li>
    </ul>
    <h2><a name="3.9-subscribe-acknowledgement"/>3.9 SUBACK – Subscribe
acknowledgement</h2>
    <p class="MsoNormal">A SUBACK packet is sent by the Server to the Client to
confirm receipt and processing of a SUBSCRIBE packet.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">A SUBACK packet contains a list of Reason Codes, that
specify the maximum QoS level that was granted or the error which was found for
each Subscription that was requested by the SUBSCRIBE.</p>
    <h3><a name="3.9.1-suback-fixed-header"/>3.9.1 SUBACK Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.24_–"/>Figure 3‑22
- SUBACK Packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="268" colspan="4" valign="top" style="width: 200.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (9)</p>
        </td>
        <td width="268" colspan="4" valign="top" style="width: 200.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: 50.2pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="535" colspan="8" valign="top" style="width: 401.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of Variable Header plus the length of the
Payload, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.9.2-suback-variable-header"/>3.9.2 SUBACK Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the SUBACK Packet contains the following
fields in the order: the Packet Identifier from the SUBSCRIBE Packet that is
being acknowledged, and Properties. </p>
    <h4>3.9.2.1 SUBACK Properties</h4>
    <h5>3.9.2.1.1 Property Length</h5>
    <p class="MsoNormal">The length of Properties in the SUBACK packet Variable
Header encoded as a Variable Byte Integer</p>
    <h5>3.9.2.1.2
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte,</b> Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is a human readable string
designed for diagnostics and SHOULD NOT be parsed by the Client. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server uses this value to give additional information to
the Client. <span style="background: yellow;">The Server MUST NOT send this
Property if it would increase the size of the SUBACK packet beyond the Maximum
Packet Size specified by the Client</span><span style="color: red;">[MQTT-3.9.2-1]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.9.2.1.3
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property can be used to
provide additional diagnostic or other information. <span style="background: yellow;">The Server MUST NOT send this property if it would increase the size of
the SUBACK packet beyond the Maximum Packet Size specified by Client</span><span style="color: red;">[MQTT-3.9.2-2]</span>. The User Property is allowed to appear
multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Figure_3.25_–"/>Figure 3‑23 SUBACK packet Variable Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 MSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 LSB</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.9.3-suback-payload"/>3.9.3
SUBACK Payload</h3>
    <p class="MsoNormal">The Payload contains a list of Reason Codes. Each Reason
Code corresponds to a Topic Filter in the SUBSCRIBE packet being acknowledged. <span style="background: yellow;">The order of Reason Codes in the SUBACK packet MUST
match the order of Topic Filters in the SUBSCRIBE packet</span><span style="color: red;">[MQTT-3.9.3-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Ref459632784"/>Table 3‑8 - Subscribe Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="691" style="width: 7.2in;border-collapse: collapse;border: none;">
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x00</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Granted QoS 0</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The subscription is accepted and the maximum QoS sent will
 be QoS 0. This might be a lower QoS than was requested.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">1</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x01</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Granted QoS 1</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The subscription is accepted and the maximum QoS sent will
 be QoS 1. This might be a lower QoS than was requested.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">2</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x02</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Granted QoS 2</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The subscription is accepted and any received QoS will be
 sent to this subscription.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">128</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x80</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Unspecified error</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The subscription is not accepted and the Server either
 does not wish to reveal the reason or none of the other Reason Codes apply.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">131</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x83</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Implementation specific error</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The SUBSCRIBE is valid but the Server does not accept it. </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">135</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x87</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Not authorized</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client is not authorized to make this subscription.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">143</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x8F</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Topic Filter invalid</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Topic Filter is correctly formed but is not allowed
 for this Client.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">145</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x91</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Packet Identifier in use</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The specified Packet Identifier is already in use.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">151</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x97</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Quota exceeded</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">An implementation or administrative imposed limit has been
 exceeded.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">158</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x9E</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Shared Subscriptions not
 supported</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support Shared Subscriptions for this Client.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">161</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0xA1</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Subscription Identifiers not
 supported</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support Subscription Identifiers; the
 subscription is not accepted.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="50" valign="top" style="width: 37.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">162</p>
        </td>
        <td width="45" valign="top" style="width: 33.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0xA2</span>
          </p>
        </td>
        <td width="184" valign="top" style="width: 137.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Wildcard Subscriptions not
 supported</span>
          </p>
        </td>
        <td width="413" valign="top" style="width: 4.3in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support Wildcard Subscriptions; the
 subscription is not accepted.</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"><span style="background: yellow;">The
Server sending a SUBACK packet MUST use one of the Subscribe Reason Codes for each Topic Filter received</span><span style="color: red;">[MQTT-3.9.3-2]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">There is always one Reason Code for
each Topic Filter in the corresponding SUBSCRIBE packet. If the Reason Code is
not specific to a Topic Filters (such as 0x91 (Packet Identifier in use)) it is
set for each Topic Filter.</p>
    <p class="MsoNormal" style="margin-left: .5in;"> </p>
    <div class="div_2">
      <p>
        <b>Solace Implementation Note</b>
      </p>
      <p class="p_1">The Solace server grants a Maximum QoS of 1 when a client requests a QoS 2 subscription.  The Solace server never returns a QoS 2 in a SUBACK packet. </p>
    </div>
    <h2><a name="3.10-unsubscribe-request"/>3.10 UNSUBSCRIBE – Unsubscribe
request</h2>
    <p class="MsoNormal">An UNSUBSCRIBE packet is sent by the Client to the Server,
to unsubscribe from topics.</p>
    <h3><a name="3.10.1-unsubscribe-fixed-header"/>3.10.1 UNSUBSCRIBE Fixed
Header</h3>
    <p class="TblCaption"><a name="_Toc385349328"/><a name="_Figure_3.28_–"/>Figure
3.28 – UNSUBSCRIBE packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="91" valign="top" style="width: .95in;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="65" valign="top" style="width: 48.6pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="91" valign="top" style="width: .95in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="270" colspan="4" valign="top" style="width: 202.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (10)</p>
        </td>
        <td width="277" colspan="4" valign="top" style="width: 207.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <span style="font-size: 9.0pt;">Reserved</span>
          </p>
        </td>
      </tr>
      <tr>
        <td width="91" valign="top" style="width: .95in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="65" valign="top" style="width: 48.6pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 51.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="91" valign="top" style="width: .95in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="547" colspan="8" valign="top" style="width: 5.7in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal" style="margin-left: 27.0pt;text-indent: -27.0pt;"> </p>
    <p class="MsoNormal"><span style="background: yellow;">Bits 3,2,1 and 0 of the
Fixed Header of the UNSUBSCRIBE packet are reserved and MUST be set to 0,0,1
and 0 respectively. The Server MUST treat any other value as malformed and
close the Network Connection</span><span style="color: red;">[MQTT-3.10.1-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of Variable Header (2 bytes) plus the
length of the Payload, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.10.2-unsubscribe-variable-header"/>3.10.2 UNSUBSCRIBE Variable
Header</h3>
    <p class="MsoNormal">The Variable Header of the UNSUBSCRIBE Packet contains the
following fields in the order: Packet Identifier, and Properties. <a href="mqtt-v50-2-control-packet-format.htm#2.2.1-packet-identifier" class="link-internal"> Section 2.2.1</a> provides more information about Packet
Identifiers. The rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>.</p>
    <h4>3.10.2.1 UNSUBSCRIBE
Properties</h4>
    <h5>3.10.2.1.1 Property Length</h5>
    <p class="MsoNormal">The length of Properties in the UNSUBSCRIBE packet Variable
Header encoded as a Variable Byte Integer.</p>
    <h5>3.10.2.1.2 User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte</b>, Identifier of the User Property. </p>
    <p class="MsoNormal">Followed by a UTF-8 String Pair. </p>
    <p class="MsoNormal">The User Property is allowed to appear multiple times to
represent multiple name, value pairs. The same name is allowed to appear more
than once. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">User Properties on the UNSUBSCRIBE
packet can be used to send subscription related properties from the Client to
the Server. The meaning of these properties is not defined by this
specification.</p>
    <h3><a name="3.10.3-unsubscribe-payload"/>3.10.3 UNSUBSCRIBE Payload</h3>
    <p class="MsoNormal">The Payload for the UNSUBSCRIBE packet contains the list of
Topic Filters that the Client wishes to unsubscribe from. <span style="background: yellow;">The Topic Filters in an UNSUBSCRIBE packet MUST be
UTF-8 Encoded Strings</span><span style="color: red;">[MQTT-3.10.3-1]</span> as
defined in <a href="mqtt-v50-1-introduction.htm#1.5.4-utf-8-encoded-string" class="link-internal">section 1.5.4</a>, packed
contiguously.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Payload of an
UNSUBSCRIBE packet MUST contain at least one Topic Filter</span><span style="color: red;">[MQTT-3.10.3-2]</span>. An UNSUBSCRIBE packet with no Payload
is a Protocol Error. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a> for
information about handling errors. </p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <ul>
        <li>The Topic Filter must conform to the  <a href="../MQTT/MQTT-Topics.htm" class="link-internal">Solace limitations</a>. Topics outside these bounds will cause the connection to be closed.</li>
        <li>UNSUBSCRIBE packets can contain at most 1,024 Topic Filters. Exceeding this limit will cause the connection to be closed.</li>
      </ul>
    </div>
    <p class="MsoNormal" style="margin-left: 28.35pt;"> </p>
    <p class="MsoNormal" style="margin-left: 28.35pt;">
      <b>Non-normative example</b>
    </p>
    <p class="MsoNormal" style="margin-left: 28.35pt;">Figure
3.30 shows the Payload for an UNSUBSCRIBE packet with two Topic Filters “a/b”
and “c/d”.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption">Figure 3.30 - Payload byte format non-normative example</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;"> </p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Filter</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length MSB (0)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length LSB (3)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘a’ (0x61)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘/’ (0x2F)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 5</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘b’ (0x62)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="638" colspan="10" valign="top" style="width: 6.65in;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Filter</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 6</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length MSB (0)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 7</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Length LSB (3)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 8</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘c’ (0x63)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 9</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘/’ (0x2F)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="120" valign="top" style="width: 89.7pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 10</p>
        </td>
        <td width="199" valign="top" style="width: 149.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">‘d’ (0x64)</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="40" valign="top" style="width: 29.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.10.4-unsubscribe-actions"/>3.10.4 UNSUBSCRIBE Actions</h3>
    <p class="MsoNormal"><span style="background: yellow;">The Topic Filters (whether
they contain wildcards or not) supplied in an UNSUBSCRIBE packet MUST be
compared character-by-character with the current set of Topic Filters held by
the Server for the Client. If any filter matches exactly then its owning
Subscription MUST be deleted</span><span style="color: red;">[MQTT-3.10.4-1]</span>,
otherwise no additional processing occurs.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">When a Server receives
UNSUBSCRIBE </span>:</p>
    <ul style="margin-top: 0in;" type="disc">
      <li class="MsoNormal"><span style="background: yellow;">It MUST stop adding any
 new messages which match the Topic Filters, for delivery to the Client</span><span style="color: red;">[MQTT-3.10.4-2]</span>.</li>
      <li class="MsoNormal"><span style="background: yellow;">It MUST complete the
 delivery of any QoS 1 or QoS 2 messages which match the Topic Filters and
 it has started to send to the Client</span><span style="color: red;">[MQTT-3.10.4-3]</span>.</li>
      <li class="MsoNormal">It MAY continue to deliver any existing messages buffered
 for delivery to the Client.</li>
    </ul>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST respond to
an UNSUBSCRIBE request by sending an UNSUBACK packet</span><span style="color: red;">[MQTT-3.10.4-4]</span>. <span style="background: yellow;">The
UNSUBACK packet MUST have the same Packet Identifier as the UNSUBSCRIBE packet.
Even where no Topic Subscriptions are deleted, the Server MUST respond with an
UNSUBACK</span><span style="color: red;">[MQTT-3.10.4-5]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">If a Server receives an
UNSUBSCRIBE packet that contains multiple Topic Filters, it MUST process that
packet as if it had received a sequence of multiple UNSUBSCRIBE packets, except
that it sends just one UNSUBACK response</span><span style="color: red;">[MQTT-3.10.4-6]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If a Topic Filter represents a Shared Subscription, this
Session is detached from the Shared Subscription.  If this Session was the only
Session that the Shared Subscription was associated with, the Shared
Subscription is deleted. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.8.2-shared-subscriptions" class="link-internal">section
 4.8.2</a> for a description of Shared Subscription handling.</p>
    <h2><a name="3.11-unsubscribe-acknowledgement"/>3.11 UNSUBACK – Unsubscribe acknowledgement</h2>
    <p class="MsoNormal">The UNSUBACK packet is sent by the Server to the Client to
confirm receipt of an UNSUBSCRIBE packet.</p>
    <h3><a name="3.11.1-unsuback-fixed-header"/>3.11.1 UNSUBACK Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.31_–"/>Figure
3.31 – UNSUBACK packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="55" valign="top" style="width: 41.4pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="282" colspan="4" valign="top" style="width: 211.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (11)</p>
        </td>
        <td width="259" colspan="4" valign="top" style="width: 2.7in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="55" valign="top" style="width: 41.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="541" colspan="8" valign="top" style="width: 405.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable Header plus the length of
the Payload, encoded as a Variable Byte Integer.</p>
    <h3><a name="3.11.2-unsuback-variable-header"/>3.11.2 UNSUBACK Variable
Header</h3>
    <p class="MsoNormal">The Variable Header of the UNSUBACK Packet the following
fields in the order: the Packet Identifier from the UNSUBSCRIBE Packet that is
being acknowledged, and Properties. The rules for encoding Properties are
described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Figure_3.32_–"/>Figure
3.32 – UNSUBACK packet Variable Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="58" valign="top" style="width: 43.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 MSB</p>
        </td>
      </tr>
      <tr>
        <td width="174" valign="top" style="width: 130.5pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="464" colspan="8" valign="top" style="width: 348.3pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Packet Identifier
 LSB</p>
        </td>
      </tr>
    </table>
    <h4>3.11.2.1 UNSUBACK Properties</h4>
    <h5>3.11.2.1.1 Property Length</h5>
    <p class="MsoNormal">The length of the Properties in the UNSUBACK packet Variable
Header encoded as a Variable Byte Integer.</p>
    <h5>3.11.2.1.2 Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte,</b> Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
associated with this response. This Reason String is a human readable string
designed for diagnostics and SHOULD NOT be parsed by the Client. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server uses this value to give additional information to
the Client. <span style="background: yellow;">The Server MUST NOT send this
Property if it would increase the size of the UNSUBACK packet beyond the
Maximum Packet Size specified by the Client</span><span style="color: red;">[MQTT-3.11.2-1]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.11.2.1.3
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property can be used to
provide additional diagnostic or other information. <span style="background: yellow;">The Server MUST NOT send this property if it would increase the size of
the UNSUBACK packet beyond the Maximum Packet Size specified by the Client</span> <span style="color: red;">[MQTT-3.11.2-2]</span>. The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <h3><a name="3.11.3-unsuback-payload"/>3.11.3
UNSUBACK Payload</h3>
    <p class="MsoNormal">The Payload contains a list of Reason Codes. Each Reason
Code corresponds to a Topic Filter in the UNSUBSCRIBE packet being
acknowledged. <span style="background: yellow;">The order of Reason Codes in the
UNSUBACK packet MUST match the order of Topic Filters in the UNSUBSCRIBE packet</span> <span style="color: red;">[MQTT-3.11.3-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The values for the one byte unsigned Unsubscribe Reason
Codes are shown below. <span style="background: yellow;">The Server sending an
UNSUBACK packet MUST use one of the Unsubscribe Reason Code values for each
Topic Filter received</span><span style="color: red;">[MQTT-3.11.3-2]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Ref475109662"/>Table 3‑9 - Unsubscribe
Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="679" style="width: 509.4pt;border-collapse: collapse;border: none;">
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x00</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Success</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The subscription is deleted.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">17</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x11</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">No subscription existed</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">No matching Topic Filter is being used by the Client.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">128</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x80</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Unspecified error</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The unsubscribe could not be completed and the Server
 either does not wish to reveal the reason or none of the other Reason Codes
 apply.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">131</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x83</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Implementation specific error</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The UNSUBSCRIBE is valid but the Server does not accept
 it. </p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">135</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x87</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Not authorized</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client is not authorized to unsubscribe.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">143</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x8F</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Topic Filter invalid</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Topic Filter is correctly formed but is not allowed
 for this Client.</p>
        </td>
      </tr>
      <tr>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">145</p>
        </td>
        <td width="43" valign="top" style="width: 32.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">0x91</span>
          </p>
        </td>
        <td width="210" valign="top" style="width: 157.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="color: #333333;">Packet Identifier in use</span>
          </p>
        </td>
        <td width="366" valign="top" style="width: 274.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The specified Packet Identifier is already in use.</p>
        </td>
      </tr>
    </table>
    <p> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace always returns 0 (Success), regardless of success or failure of the UNSUBSCRIBE request.</p>
    </div>
    <p> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">There is always one Reason Code for
each Topic Filter in the corresponding UNSUBSCRIBE packet. If the Reason Code
is not specific to a Topic Filters (such as 0x91 (Packet Identifier in use)) it
is set for each Topic Filter.</p>
    <h2><a name="3.12-ping-request"/>3.12 PINGREQ – PING request</h2>
    <p class="MsoNormal">The PINGREQ packet is sent from a Client to the Server. It
can be used to: </p>
    <ul>
      <li>Indicate to the Server that the Client is alive in the absence of
any other MQTT Control Packets being sent from the Client to the Server.</li>
      <li>Request that the Server responds to confirm that it is alive.</li>
      <li>Exercise the network to indicate that the Network Connection is
active.</li>
    </ul>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">This packet is used in Keep Alive
processing. Refer to <a href="#3.1.2.10-keep-alive" class="link-internal">section 3.1.2.10</a> for more
details.</p>
    <h3><a name="3.12.1-pingreq-fixed-header"/>3.12.1 PINGREQ Fixed Header</h3>
    <p class="TblCaption"><a name="_Toc385349344"/><a name="_Figure_3.33_–"/>Figure
3.33 – PINGREQ packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: .7in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="270" colspan="4" valign="top" style="width: 202.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (12)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: .7in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="541" colspan="8" valign="top" style="width: 405.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length
 (0)</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: .7in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.12.2-pingreq-variable-header"/>3.12.2 PINGREQ Variable Header</h3>
    <p class="MsoNormal">The PINGREQ packet has no Variable Header.</p>
    <h3><a name="3.12.3-pingreq-payload"/>3.12.3 PINGREQ Payload</h3>
    <p class="MsoNormal">The PINGREQ packet has no Payload.</p>
    <h3><a name="3.12.4-pingreq-actions"/>3.12.4 PINGREQ Actions</h3>
    <p class="MsoNormal"><span style="background: yellow;">The Server MUST send a
PINGRESP packet in response to a PINGREQ packet</span><span style="color: red;">[MQTT-3.12.4-1]</span>.</p>
    <h2><a name="3.13-ping-response"/>3.13 PINGRESP – PING response</h2>
    <p class="MsoNormal">A PINGRESP Packet is sent by the Server to the Client in
response to a PINGREQ packet. It indicates that the Server is alive.</p>
    <p class="MsoNormal"><a name="_Toc473620228"/>This packet is used in Keep Alive
processing. Refer to <a href="#3.1.2.10-keep-alive" class="link-internal">section 3.1.2.10</a> for more
details.</p>
    <h3><a name="3.13.1-pingresp-fixed-header"/>3.13.1 PINGRESP Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.34_–"/>Figure
3.34 – PINGRESP packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.7pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 202.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (13)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="68" valign="top" style="width: 50.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="541" colspan="8" valign="top" style="width: 405.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length
 (0)</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="68" valign="top" style="width: 50.7pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="68" valign="top" style="width: 50.75pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.13.2-pingresp-variable-header"/>3.13.2 PINGRESP Variable Header</h3>
    <p class="MsoNormal">The PINGRESP packet has no Variable Header.</p>
    <h3><a name="3.13.3-pingresp-payload"/>3.13.3 PINGRESP Payload</h3>
    <p class="MsoNormal">The PINGRESP packet has no Payload.</p>
    <h3><a name="3.13.4-pingresp-actions"/>3.13.4 PINGRESP Actions</h3>
    <p class="MsoNormal">The Client takes no action on receiving this packet</p>
    <h2><a name="3.14-disconnect-notification"/>3.14 DISCONNECT – Disconnect
notification</h2>
    <p class="MsoNormal">The DISCONNECT packet is the final MQTT Control Packet sent
from the Client or the Server. It indicates the reason why the Network
Connection is being closed. The Client or Server MAY send a DISCONNECT packet
before closing the Network Connection. If the Network Connection is closed without
the Client first sending a DISCONNECT packet with Reason Code 0x00 (Normal
disconnection) and the Connection has a Will Message, the Will Message is published.
Refer to <a href="#3.1.2.5-Will-Flag" class="link-internal">section 3.1.2.5</a> for further details.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">A Server MUST NOT send a DISCONNECT
until after it has sent a CONNACK with Reason Code of less than 0x80</span><span style="color: red;">[MQTT-3.14.0-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace never sends DISCONNECT packets to a client. </p>
    </div>
    <h3><a name="3.14.1-disconnect-fixed-header"/>3.14.1 DISCONNECT Fixed Header</h3>
    <p class="TblCaption"><a name="_Figure_3.35_–"/>Figure
3.35 – DISCONNECT packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: .7in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="270" colspan="4" valign="top" style="width: 202.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (14)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: .7in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="541" colspan="8" valign="top" style="width: 405.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"><span style="background: yellow;">The Client or Server MUST
validate that reserved bits are set to 0. If they are not zero it sends a
DISCONNECT packet with a Reason code of 0x81 (Malformed Packet) as described in
</span><a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a><span style="color: red;">[MQTT-3.14.1-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable
Header encoded as a Variable Byte Integer.</p>
    <h3><a name="3.14.2-disconnect-variable-header"/>3.14.2 DISCONNECT Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the DISCONNECT Packet contains the
following fields in the order: Disconnect Reason Code, and Properties. The
rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>.</p>
    <h4><a name="3.14.2.1-disconnect-reason-code"/>3.14.2.1 Disconnect Reason Code</h4>
    <p class="MsoNormal">Byte 1 in the Variable Header is the Disconnect Reason Code.
If the Remaining Length is less than 1 the value of 0x00 (Normal disconnection)
is used.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The values for the one byte unsigned Disconnect Reason Code
field are shown below.</p>
    <p class="TblCaption">Table 3‑10 –
Disconnect Reason Code values</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="679" style="width: 509.4pt;border-collapse: collapse;border: none;">
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Sent by</b>
          </p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x00</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Normal disconnection</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Close the connection normally. Do not send the Will
 Message.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">4</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x04</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Disconnect with Will Message</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client wishes to disconnect but requires that the
 Server also publishes its Will Message.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">128</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x80</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Unspecified error</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Connection is closed but the sender either does not
 wish to reveal the reason, or none of the other Reason Codes apply. </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">129</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x81</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Malformed Packet</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The received packet does not conform to this specification.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">130</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x82</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Protocol Error</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">An unexpected or out of order packet was received.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">131</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x83</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Implementation specific error</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The packet received is valid but cannot be processed by
 this implementation.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">135</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x87</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Not authorized</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The request is not authorized.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">137</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x89</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Server busy</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server is busy and cannot continue processing requests
 from this Client.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">139</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x8B</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Server shutting down</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server is shutting down. </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">141</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x8D</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Keep Alive timeout</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Connection is closed because no packet has been
 received for 1.5 times the Keepalive time.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">142</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x8E</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Session taken over</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Another Connection using the same ClientID has connected
 causing this Connection to be closed.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">143</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x8F</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Filter invalid</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Topic Filter is correctly formed, but is not accepted
 by this Sever.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">144</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x90</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Name invalid</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Topic Name is correctly formed, but is not accepted by
 this Client or Server.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">147</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x93</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Receive Maximum exceeded</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client or Server has received more than Receive
 Maximum publication for which it has not sent PUBACK or PUBCOMP. </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">148</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x94</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Topic Alias invalid</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client or Server has received a PUBLISH packet
 containing a Topic Alias which is greater than the Maximum Topic Alias it
 sent in the CONNECT or CONNACK packet. </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">149</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x95</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Packet too large</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The packet size is greater than Maximum Packet Size for
 this Client or Server.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">150</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x96</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Message rate too high</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The received data rate is too high.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">151</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x97</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Quota exceeded</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">An implementation or administrative imposed limit has been
 exceeded.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">152</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x98</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Administrative action</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Connection is closed due to an administrative action.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">153</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x99</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Payload format invalid</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The payload format does not match the one specified by the
 Payload Format Indicator.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">154</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9A</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Retain not supported</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server has does not support retained messages.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">155</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9B</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">QoS not supported</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client specified a QoS greater than the QoS specified
 in a Maximum QoS in the CONNACK. </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">156</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9C</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Use another server</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Client should temporarily change its Server.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">157</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9D</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Server moved</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server is moved and the Client should permanently
 change its server location.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">158</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9E</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Shared Subscriptions not supported</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support Shared Subscriptions.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">
            <span style="font-size: 10.5pt;color: #333333;">159</span>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x9F</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Connection rate exceeded</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">This connection is closed because the connection rate is
 too high.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">160</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0xA0</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Maximum connect time</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The maximum connection time authorized for this connection
 has been exceeded.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">161</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0xA1</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Subscription Identifiers not supported</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support Subscription Identifiers; the
 subscription is not accepted.</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="61" valign="top" style="width: 45.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">162</p>
        </td>
        <td width="60" valign="top" style="width: 45.05pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0xA2</p>
        </td>
        <td width="180" valign="top" style="width: 135.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Wildcard Subscriptions not supported</p>
        </td>
        <td width="84" valign="top" style="width: 63.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="294" valign="top" style="width: 220.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">The Server does not support Wildcard Subscriptions; the
 subscription is not accepted.</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The Client or Server sending
the DISCONNECT packet MUST use one of the DISCONNECT Reason Code values</span><span style="color: red;">[MQTT-3.14.2-1]</span><span style="color: #0070C0;">. </span>The
Reason Code and Property Length can be omitted if the Reason Code is 0x00
(Normal disconnecton) and there are no Properties. In this case the DISCONNECT
has a Remaining Length of 0.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The DISCONNECT packet is used to
indicate the reason for a disconnect for cases where there is no acknowledge packet
(such as a QoS 0 publish) or when the Client or Server is unable to continue
processing the Connection. </p>
    <p class="MsoNormal" style="margin-left: .5in;">
      <b>Non-normative comment</b>
    </p>
    <p class="MsoNormal" style="margin-left: .5in;">The information can be used by the
Client to decide whether to retry the connection, and how long it should wait
before retrying the connection.</p>
    <h4>3.14.2.2 DISCONNECT Properties</h4>
    <h5>3.14.2.2.1
Property Length</h5>
    <p class="MsoNormal">The length of Properties in the DISCONNECT packet Variable
Header encoded as a Variable Byte Integer. If the Remaining Length is less than
2, a value of 0 is used.</p>
    <p class="MsoNormal"> </p>
    <h5>3.14.2.2.2 Session Expiry Interval</h5>
    <p class="MsoNormal"><b>17 (0x11) Byte,</b> Identifier of the Session Expiry
Interval.</p>
    <p class="MsoNormal">Followed by the Four Byte Integer representing the Session
Expiry Interval in seconds. It is a Protocol Error to include the Session
Expiry Interval more than once.</p>
    <p class="MsoNormal">If the Session Expiry Interval is absent, the Session Expiry
Interval in the CONNECT packet is used.</p>
    <p class="MsoNormal"><span style="background: yellow;">The Session Expiry Interval
MUST NOT be sent on a DISCONNECT by the Server</span><span style="color: red;">[MQTT-3.14.2-2]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">If the Session Expiry Interval in the CONNECT packet was
zero, then it is a Protocol Error to set a non-zero Session Expiry Interval in
the DISCONNECT packet sent by the Client. If such a non-zero Session Expiry
Interval is received by the Server, it does not treat it as a valid DISCONNECT
packet. The Server uses DISCONNECT with Reason Code 0x82 (Protocol Error) as
described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>. </p>
    <h5>3.14.2.2.3
Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte, </b>Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
for the disconnect. This Reason String is human readable, designed for
diagnostics and SHOULD NOT be parsed by the receiver. </p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">The sender MUST NOT send
this Property if it would increase the size of the DISCONNECT packet beyond the
Maximum Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.14.2-3]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.14.2.2.4
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte, </b>Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property may be used to
provide additional diagnostic or other information. <span style="background: yellow;">The sender MUST NOT send this property if it would increase the size of
the DISCONNECT packet beyond the Maximum Packet Size specified by the receiver</span> <span style="color: red;">[MQTT-3.14.2-4]</span>. The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <h5>3.14.2.2.5
Server Reference</h5>
    <p class="MsoNormal"><b>28 (0x1C) Byte,</b> Identifier of the Server Reference. </p>
    <p class="MsoNormal">Followed by a UTF-8 Encoded String which can be used by the
Client to identify another Server to use. It is a Protocol Error to include the
Server Reference more than once.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">The Server sends DISCONNECT including a Server Reference and
Reason Code 0x9C (Use another server) or 0x9D (Server moved) as described in <a href="mqtt-v50-4-operational-behavior.htm#4.13-handling-errors" class="link-internal">section 4.13</a>.</p>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.11-server-redirection" class="link-internal">section 4.11</a>
Server Redirection for information about how Server Reference is used.</p>
    <p class="MsoNormal"> </p>
    <p class="TblCaption"><a name="_Toc473620246"/>Figure 3‑24
DISCONNECT packet Variable Header non-normative example</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b> </b>
          </p>
        </td>
        <td width="240" valign="top" style="width: 179.85pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="35" valign="top" style="width: 26.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="38" colspan="2" valign="top" style="width: 28.4pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="625" colspan="17" valign="top" style="width: 468.6pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Disconnect Reason Code</p>
        </td>
      </tr>
      <tr>
        <td width="103" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="240" valign="top" style="width: 179.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" colspan="2" valign="top" style="width: 28.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="625" colspan="17" valign="top" style="width: 468.6pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Properties</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="241" colspan="2" valign="top" style="width: 180.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Length (5)</p>
        </td>
        <td width="33" valign="top" style="width: 25.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="2" valign="top" style="width: 27.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="37" valign="top" style="width: 27.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 3</p>
        </td>
        <td width="241" colspan="2" valign="top" style="width: 180.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Session Expiry Interval identifier (17)</p>
        </td>
        <td width="33" valign="top" style="width: 25.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="2" valign="top" style="width: 27.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="37" valign="top" style="width: 27.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 4</p>
        </td>
        <td width="241" colspan="2" rowspan="4" valign="top" style="width: 180.85pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Session Expiry Interval (0)</p>
        </td>
        <td width="33" valign="top" style="width: 25.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="2" valign="top" style="width: 27.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.35pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="37" valign="top" style="width: 27.45pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;page-break-after: avoid;">0</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 5</p>
        </td>
        <td width="33" valign="top" style="width: 25.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="2" valign="top" style="width: 27.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="3" valign="top" style="width: 26.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" colspan="2" valign="top" style="width: 28.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 6</p>
        </td>
        <td width="33" valign="top" style="width: 25.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="2" valign="top" style="width: 27.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="3" valign="top" style="width: 26.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" colspan="2" valign="top" style="width: 28.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="103" valign="top" style="width: 77.35pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 7</p>
        </td>
        <td width="33" valign="top" style="width: 25.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="2" valign="top" style="width: 27.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.1pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.25pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="35" colspan="2" valign="top" style="width: 26.15pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="36" colspan="3" valign="top" style="width: 26.9pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="34" valign="top" style="width: 25.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="38" colspan="2" valign="top" style="width: 28.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
    </table>
    <h3><a name="3.14.3-disconnect-payload"/>3.14.3 DISCONNECT Payload</h3>
    <p class="MsoNormal">The DISCONNECT packet has no Payload.</p>
    <p class="MsoNormal"> </p>
    <h3><a name="3.14.4-disconnect-actions"/>3.14.4
DISCONNECT Actions</h3>
    <p class="MsoNormal"><span style="background: yellow;">After sending a DISCONNECT
packet the sender</span>:</p>
    <ul style="margin-top: 0in;" type="disc">
      <li class="MsoNormal"><span style="background: yellow;">MUST NOT send any more
 MQTT Control Packets on that Network Connection</span><span style="color: red;">[MQTT-3.14.4-1]</span>.</li>
      <li class="MsoNormal"><span style="background: yellow;">MUST close the Network
 Connection</span><span style="color: red;">[MQTT-3.14.4-2]</span>.</li>
    </ul>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">On receipt of DISCONNECT
with a Reason Code of 0x00 (Success) the Server</span>:</p>
    <ul style="margin-top: 0in;" type="disc">
      <li class="MsoNormal"><span style="background: yellow;">MUST discard any Will
 Message associated with the current Connection without publishing it</span><span style="color: red;">[MQTT-3.14.4-3]</span>, as described in <a href="#3.1.2.5-Will-Flag" class="link-internal">section 3.1.2.5</a>.</li>
    </ul>
    <p class="MsoNormal">On receipt of DISCONNECT, the receiver:</p>
    <ul style="margin-top: 0in;" type="disc">
      <li class="MsoNormal">SHOULD close the Network Connection.</li>
    </ul>
    <h2><a name="3.15-authentication-exchange"/>3.15
AUTH – Authentication exchange</h2>
    <p class="MsoNormal">An AUTH packet is sent from Client to Server or Server to
Client as part of an extended authentication exchange, such as challenge / response
authentication. It is a Protocol Error for the Client or Server to send an AUTH
packet if the CONNECT packet did not contain the same Authentication Method.</p>
    <p class="MsoNormal"> </p>
    <div class="div_2">
      <p>
        <span class="span_3">Solace Implementation Note</span>
      </p>
      <p>Solace does not support extended authentication. If an AUTH packet is received from a client, the client is disconnected. Solace never sends an AUTH packet to a client.</p>
    </div>
    <h3><a name="3.15.1-auth-fixed-header"/>3.15.1 AUTH Fixed Header</h3>
    <p class="TblCaption">Figure 3.35 – AUTH packet Fixed Header</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse;border: none;">
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Bit</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>7</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>6</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>5</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>4</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>3</b>
          </p>
        </td>
        <td width="72" valign="top" style="width: .75in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>2</b>
          </p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>1</b>
          </p>
        </td>
        <td width="67" valign="top" style="width: .7in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>0</b>
          </p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 1</p>
        </td>
        <td width="270" colspan="4" valign="top" style="width: 202.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">MQTT Control Packet
 type (15)</p>
        </td>
        <td width="271" colspan="4" valign="top" style="width: 203.4pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Reserved</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal"> </p>
        </td>
        <td width="66" valign="top" style="width: 49.55pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">1</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="72" valign="top" style="width: .75in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="60" valign="top" style="width: 45.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
        <td width="67" valign="top" style="width: .7in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">0</p>
        </td>
      </tr>
      <tr>
        <td width="97" valign="top" style="width: 72.85pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">byte 2</p>
        </td>
        <td width="541" colspan="8" valign="top" style="width: 405.95pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Remaining Length</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal"><span style="background: yellow;">Bits 3,2,1 and 0 of the
Fixed Header of the AUTH packet are reserved and MUST all be set to 0. The
Client or Server MUST treat any other value as malformed and close the Network
Connection</span><span style="color: red;">[MQTT-3.15.1-1]</span>.</p>
    <p class="MsoNormal"> </p>
    <p class="MsoNormal">
      <b>Remaining Length field</b>
    </p>
    <p class="MsoNormal">This is the length of the Variable
Header encoded as a Variable Byte Integer.</p>
    <h3><a name="3.15.2-auth-variable-header"/>3.15.2 AUTH Variable Header</h3>
    <p class="MsoNormal">The Variable Header of the AUTH Packet contains the
following fields in the order: Authenticate Reason Code, and Properties. The
rules for encoding Properties are described in <a href="mqtt-v50-2-control-packet-format.htm#2.2.2-properties" class="link-internal">section
2.2.2</a>.</p>
    <h4>3.15.2.1 Authenticate Reason Code</h4>
    <p class="MsoNormal">Byte 0 in the Variable Header is the Authenticate Reason
Code. The values for the one byte unsigned Authenticate Reason Code field are shown
below. <span style="background: yellow;">The sender of the AUTH Packet MUST use
one of the Authenticate Reason Codes</span><span style="color: red;">[MQTT-3.15.2-1]</span>.</p>
    <p class="MsoCaption"> </p>
    <p class="TblCaption"><a name="_Ref472759840"/>Table 3‑11 Authenticate Reason Codes</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="679" style="width: 509.4pt;border-collapse: collapse;border: none;">
      <tr style="page-break-inside: avoid;">
        <td width="55" valign="top" style="width: 41.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Value</b>
          </p>
        </td>
        <td width="48" valign="top" style="width: .5in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Hex</b>
          </p>
        </td>
        <td width="186" valign="top" style="width: 139.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Reason Code name</b>
          </p>
        </td>
        <td width="66" valign="top" style="width: 49.5pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Sent by</b>
          </p>
        </td>
        <td width="324" valign="top" style="width: 243.0pt;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">
            <b>Description</b>
          </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="55" valign="top" style="width: 41.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x00</p>
        </td>
        <td width="186" valign="top" style="width: 139.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Success</p>
        </td>
        <td width="66" valign="top" style="width: 49.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Server</p>
        </td>
        <td width="324" valign="top" style="width: 243.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Authentication is successful</p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="55" valign="top" style="width: 41.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">24</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x18</p>
        </td>
        <td width="186" valign="top" style="width: 139.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Continue authentication</p>
        </td>
        <td width="66" valign="top" style="width: 49.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client or Server </p>
        </td>
        <td width="324" valign="top" style="width: 243.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Continue the authentication with another step </p>
        </td>
      </tr>
      <tr style="page-break-inside: avoid;">
        <td width="55" valign="top" style="width: 41.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">25</p>
        </td>
        <td width="48" valign="top" style="width: .5in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">0x19</p>
        </td>
        <td width="186" valign="top" style="width: 139.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Re-authenticate</p>
        </td>
        <td width="66" valign="top" style="width: 49.5pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" align="center" style="text-align: center;">Client</p>
        </td>
        <td width="324" valign="top" style="width: 243.0pt;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal">Initiate a re-authentication</p>
        </td>
      </tr>
    </table>
    <p class="MsoNormal">The Reason Code and Property Length can be omitted if the
Reason Code is 0x00 (Success) and there are no Properties. In this case the
AUTH has a Remaining Length of 0.</p>
    <h4><a name="3.15.2.2-auth-properties"/>3.15.2.2 AUTH Properties</h4>
    <h5>3.15.2.2.1 Property Length</h5>
    <p class="MsoNormal">The length of Properties in the AUTH packet Variable Header
encoded as a Variable Byte Integer.</p>
    <h5>3.15.2.2.2 Authentication Method</h5>
    <p class="MsoNormal"><b>21 (0x15) Byte</b>, Identifier of the Authentication
Method. </p>
    <p class="MsoNormal">Followed by a UTF-8 Encoded String containing the name of
the authentication method. It is a Protocol Error to omit the Authentication
Method or to include it more than once. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section 4.12</a> for more information about extended
authentication.</p>
    <h5>3.15.2.2.3 Authentication Data</h5>
    <p class="MsoNormal"><b>22 (0x16) Byte</b>, Identifier of the Authentication
Data. </p>
    <p class="MsoNormal">Followed by Binary Data containing authentication data. It
is a Protocol Error to include Authentication Data more than once. The contents
of this data are defined by the authentication method. Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section 4.12</a> for more information about
extended authentication.</p>
    <h5>3.15.2.2.4 Reason String</h5>
    <p class="MsoNormal"><b>31 (0x1F) Byte, </b>Identifier of the Reason String. </p>
    <p class="MsoNormal">Followed by the UTF-8 Encoded String representing the reason
for the disconnect. This Reason String is human readable, designed for
diagnostics and SHOULD NOT be parsed by the receiver. </p>
    <p class="MsoNormal"><span style="background: yellow;">The sender MUST NOT send
this property if it would increase the size of the AUTH packet beyond the
Maximum Packet Size specified by the receiver</span><span style="color: red;">[MQTT-3.15.2-2]</span>.
It is a Protocol Error to include the Reason String more than once.</p>
    <h5>3.15.2.2.5
User Property</h5>
    <p class="MsoNormal"><b>38 (0x26) Byte,</b> Identifier of the User Property.</p>
    <p class="MsoNormal">Followed by UTF-8 String Pair. This property may be used to
provide additional diagnostic or other information. <span style="background: yellow;">The sender MUST NOT send this property if it would increase the size of
the AUTH packet beyond the Maximum Packet Size specified by the receiver</span> <span style="color: red;">[MQTT-3.15.2-3]</span>. The User Property is allowed to
appear multiple times to represent multiple name, value pairs. The same name is
allowed to appear more than once.</p>
    <h3><a name="3.15.3-auth-payload"/>3.15.3 AUTH Payload</h3>
    <p class="MsoNormal">The AUTH packet has no Payload.</p>
    <h3><a name="3.15.4-auth-actions"/>3.15.4
AUTH Actions</h3>
    <p class="MsoNormal">Refer to <a href="mqtt-v50-4-operational-behavior.htm#4.12-enhanced-authentication" class="link-internal">section 4.12</a>
for more information about extended authentication.</p>
  </body>
</html>
