<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/Stylesheets/mqtt_311_prtcl.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <h1>6 Using WebSocket as a network transport</h1>
    <p class="MsoNormal">If MQTT is transported over a
WebSocket <a href="mqtt-v50-1-introduction.htm#RFC6455" class="link-internal">[RFC6455]</a> connection, the following conditions apply: </p>
    <ul>
      <li><span style="background: yellow;">MQTT Control Packets MUST be sent
in WebSocket binary data frames. If any other type of data frame is received
the recipient MUST close the Network Connection</span><span style="color: red;">[MQTT-6.0.0-1]</span>.</li>
      <li><span style="background: yellow;">A single WebSocket data frame can
contain multiple or partial MQTT Control Packets. The receiver MUST NOT assume
that MQTT Control Packets are aligned on WebSocket frame boundaries</span><span style="color: red;">[MQTT-6.0.0-2]</span>.</li>
      <li><span style="background: yellow;">The Client MUST include "mqtt" in
the list of WebSocket Sub Protocols it offers</span><span style="color: red;">[MQTT-6.0.0-3]</span>.
</li>
      <li><span style="background: yellow;">The WebSocket Subprotocol name
selected and returned by the Server MUST be “mqtt”</span><span style="color: red;">[MQTT-6.0.0-4]</span>.</li>
      <li>The WebSocket URI used to connect the Client and Server has no impact on the MQTT protocol. </li>
    </ul>
    <h2><a name="6.1-iana-considerations"/>6.1 IANA considerations</h2>
    <p class="MsoNormal" style="margin-left: 3.0pt;">
      <span lang="EN-GB">This
specification requests IANA to modify the registration of the WebSocket MQTT
sub-protocol under the “WebSocket Subprotocol Name” registry with the following
data:</span>
    </p>
    <p class="TblCaption">Figure 6.6‑1
- IANA WebSocket Identifier</p>
    <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="margin-left: 3.0pt;border-collapse: collapse;border: none;">
      <tr>
        <td width="207" valign="top" style="width: 155.4pt;border: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" style="margin-left: .25in;">
            <span style="background: white;">Subprotocol
 Identifier</span>
          </p>
        </td>
        <td width="427" valign="top" style="width: 4.45in;border: solid windowtext 1.0pt;border-left: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" style="margin-left: .25in;">
            <span style="background: white;">mqtt</span>
          </p>
        </td>
      </tr>
      <tr>
        <td width="207" valign="top" style="width: 155.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" style="margin-left: .25in;">
            <span style="background: white;">Subprotocol
 Common Name</span>
          </p>
        </td>
        <td width="427" valign="top" style="width: 4.45in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" style="margin-left: .25in;">
            <span style="background: white;">mqtt</span>
          </p>
        </td>
      </tr>
      <tr>
        <td width="207" valign="top" style="width: 155.4pt;border: solid windowtext 1.0pt;border-top: none;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" style="margin-left: .25in;">
            <span style="background: white;">Subprotocol
 Definition</span>
          </p>
        </td>
        <td width="427" valign="top" style="width: 4.45in;border-top: none;border-left: none;border-bottom: solid windowtext 1.0pt;border-right: solid windowtext 1.0pt;padding: 0in 5.4pt 0in 5.4pt;">
          <p class="MsoNormal" style="margin-left: .25in;">
            <span style="background: white;">http://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html</span>
          </p>
        </td>
      </tr>
    </table>
    <div style="height: 64.6pt;width: 423.6pt;" class="div_2">
      <p>
        <span class="span_3"> Solace Implementation Note</span>
      </p>
      <p class="p_1">The Solace server supports WebSocket transport.</p>
      <p class="p_1">The Solace server supports WebSocket Secure transport.</p>
    </div>
  </body>
</html>
