<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Creating Message Producers</h1>
    <p>JMS applications use a <code>MessageProducer</code> object to send messages to destinations. To create a <code>MessageProducer</code>, call <code>session.createProducer(Destination destination)</code>.</p>
    <p>You can also configure default properties for a producer instance through the following methods:</p>
    <ul>
      <li>
        <code>MessageProducer.setDeliveryMode(int deliveryMode)</code>
        <p>Sets the producer’s default delivery mode (Persistent or Non-Persistent). If the delivery mode is not specified, the default delivery mode specified in the Connection Factory is used.</p>
        <p>By default, Direct Transport is used to deliver Non-Persistent messages from producers to the event broker. (The message transport mode is set through the Connection Factory; for more information on message transport modes, refer to <MadCap:xref href="Message-Transport-Modes.htm">Message Transport Modes</MadCap:xref>.)</p>
      </li>
      <li>
        <code>MessageProducer.setDisableMessageID(boolean value)</code>
        <p>Sets whether message IDs are disabled. Note that disabling message IDs can improve performance.</p>
      </li>
      <li>
        <code>MessageProducer.setDisableMessageTimestamp(boolean value)</code>
        <p>Sets whether message timestamps are disabled. Note that disabling message timestamps can improve performance.</p>
      </li>
      <li>
        <p>
          <code>MessageProducer.setPriority (int defaultPriority)</code>
        </p>
        <p>Sets the producer's default priority value, with 0 being the lowest priority and 9 the highest.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note:  &lt;/b&gt;">When an endpoint is configured to enforce message priority, it increases the chance that duplicate messages will be delivered to a consuming client after it recovers from a connection failure (refer to <MadCap:xref href="../../Messaging/Guaranteed-Msg/Message-Priority.htm">Message Priority</MadCap:xref>).</p>
      </li>
      <li>
        <code>MessageProducer.setTimeToLive(long timeToLive)</code>
        <p>Sets TTL value (in milliseconds) for sent messages. A value of 0 means that the messages never expire.</p>
      </li>
    </ul>
  </body>
</html>
