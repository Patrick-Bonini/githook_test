<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="4" MadCap:lastHeight="286" MadCap:lastWidth="767">
  <head/>
  <body>
    <h1>Closing XA Sessions</h1>
    <p>To close an XA Session, call the <code>close()</code> method. (The <code>close()</code> method is inherited from the<code> javax.jms.Session </code>interface.)</p>
    <p>To cleanly terminate an XA Session, the client should call <code>XAResource.commit(...)</code> or<code> XAResource.rollback()</code> on all transactions prior to closing the XA Session.</p>
    <p>If an XA Session with an active transaction is closed without first committing that transaction, the following occurs:</p>
    <ul>
      <li>The API rolls back that transaction. Closing an XA Session also unbinds any producers and consumers from endpoints. </li>
      <li>If any operations are outstanding on the XAResource, they are unblocked and an XAException is thrown.</li>
      <li>If any operations are attempted on a closed Session, an XAException is thrown.</li>
    </ul>
  </body>
</html>
