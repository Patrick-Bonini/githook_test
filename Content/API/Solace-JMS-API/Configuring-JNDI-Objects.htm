<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Configuring JNDI Objects</h1>
    <p>This section provides procedures for using the Solace CLI to configure administered JNDI object properties and property lists that are provisioned in the JNDI store on the Solace PubSub+ event broker. </p>
    <p class="Note">A listing of configurable properties and property lists can be displayed through the <code>show jndi schema</code> User EXEC command. </p>
    <ul>
      <li>
        <MadCap:xref href="#managing_solace_jndi_objects_1924398615_183105">Configuring Connection Factories</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#managing_solace_jndi_objects_1924398615_184908">Configuring Queue Objects</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#managing_solace_jndi_objects_1924398615_227444">Configuring Topic Objects</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule"><a name="managing_solace_jndi_objects_1924398615_183105"/>Configuring Connection Factories</h2>
    <ul>
      <li>To create Connection Factory objects in the JNDI store, enter the following CONFIG command:
                <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# create connection-factory &lt;name&gt;</p></li>
    </ul>
    <ul>
      <li>To configure existing JNDI Connection Factory objects on the event broker on an object-by-object basis, enter the following CONFIG command:
        <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# connection-factory &lt;name&gt;</p></li>
      <li>To delete existing JNDI Connection Factory objects on the event broker on an object-by-object basis, enter the following CONFIG command:
        <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# no connection-factory &lt;name&gt;</p></li>
    </ul>
    <p><u>Where</u>:</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of Message VPN to which the JNDI objects belong to</p>
    <p><code>&lt;name&gt;</code> is the name of the Connection Factory object</p>
    <p>Entering the <code>connection-factory </code>VPN JNDI CONFIG command moves the CLI to a configuration mode for Connection Factory objects created on the Solace JNDI store from which you can perform the following tasks for the given Connection Factory:</p>
    <ul>
      <li>
        <MadCap:xref href="#managing_solace_jndi_objects_1924398615_201873">Configuring Properties</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#managing_solace_jndi_objects_1924398615_183132">Configuring Property Lists</MadCap:xref>
      </li>
    </ul>
    <p class="Note">If no configuration changes are made to the JNDI Connection Factory properties, the default settings are used.</p>
    <h3><a name="managing_solace_jndi_objects_1924398615_201873"/>Configuring Properties</h3>
    <p>To configure the defined standalone properties for Connection Factory objects on the Solace JNDI store on an object-by-object basis, enter the following CONFIG command:</p>
    <p class="Code">solace(configure/jndi/connection-factory)# property &lt;name&gt; &lt;value&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;name&gt;</code> is the name of the defined standalone Connection Factory object property, as displayed through the <code>show jndi schema connection-factory</code> User EXEC command</p>
    <p><code>&lt;value&gt;</code> is the value of the defined standalone Connection Factory object property</p>
    <p>The no version of this command, <code>no property &lt;name&gt;</code>, deletes the Connection Factory object configuration. </p>
    <h3><a name="managing_solace_jndi_objects_1924398615_183132"/>Configuring Property Lists</h3>
    <p>To configure the defined property lists for Connection Factory objects in the Solace JNDI store, enter the following CONFIG command:</p>
    <p class="Code">solace(configure/jndi/connection-factory)# property-list &lt;name&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;name&gt;</code> is the name of the defined Connection Factory object property list, as displayed through the <code>show jndi schema connection-factory</code> User EXEC command (for example, <code>messaging-properties</code>)</p>
    <p>The CLI moves to a sub-configuration level at which you can define the associated properties for Connection Factory object property lists:</p>
    <p class="Code">solace(...jndi/connection-factory/property-list)#</p>
    <p>At this level enter the following CONFIG command to configure a defined associated Connection Factory object property<b style="font-weight: normal;">:</b></p>
    <p class="Code">solace(...jndi/connection-factory/property-list)# property &lt;name&gt; &lt;value&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;name&gt;</code> is the name of the defined associated Connection Factory object property, as displayed through the <code>show jndi schema connection-factory</code> User EXEC command (for example, <code>text-msg-xml-payload</code>)</p>
    <p><code>&lt;value&gt;</code> is the desired value of the defined associated Connection Factory object property, as displayed through the <code>show jndi schema connection-factory</code> User EXEC command (for example, <code>true</code> | <code>false</code>)</p>
    <p><u>Example</u>:</p>
    <pre xml:space="preserve">solace(configure)# jndi message-vpn blue

solace(configure/jndi)# create connection-factory cf/default

solace(configure/jndi/connection-factory)# property-list messaging-properties

solace(...jndi/connection-factory/property-list)# property default-delivery-mode persistent

solace(...jndi/connection-factory/property-list)# property text-msg-xml-payload true

solace(configure/jndi-obj)# property-list transport-properties

solace(...jndi/connection-factory/property-list)# property connect-timeout 30000

solace(...jndi/connection-factory/property-list)# property read-timeout 10000

solace(...jndi/connection-factory/property-list)# property reconnect-retries 3

solace(...jndi/connection-factory/property-list)# property reconnect-retry-wait 3000

solace(...jndi/connection-factory/property-list)# property keep-alive-enabled true

solace(...jndi/connection-factory/property-list)# property keep-alive-interval 3000

solace(...jndi/connection-factory/property-list)# property keep-alive-count-max 3

solace(...jndi/connection-factory/property-list)# property send-buffer 65536

solace(...jndi/connection-factory/property-list)# property receive-buffer 65536

solace(...jndi/connection-factory/property-list)# property tcp-no-delay true

solace(...jndi/connection-factory/property-list)# exit

solace(...jndi/connection-factory/property-list)# end

solace#</pre>
    <h2 class="with-rule"><a name="managing_solace_jndi_objects_1924398615_184908"/>Configuring Queue Objects</h2>
    <ul>
      <li>To create Queue objects in the Solace JNDI store, enter the following CONFIG command:
        <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# create queue &lt;name&gt;</p></li>
    </ul>
    <ul>
      <li>To configure existing Queue objects in the Solace JNDI store, enter the following CONFIG command:
        <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# queue &lt;name&gt;</p><p>From this level, you have the option of defining a physical queue name for the queue. See below for this option.</p></li>
    </ul>
    <p>The no version of this command, <code>no queue</code>, deletes the given queue object. </p>
    <h3><a name="Property"/>Property</h3>
    <p>Entering the <code>queue</code> JNDI CONFIG command moves you to a level within the CLI for configuring properties and property lists for the given queue object.</p>
    <p>You can define a physical queue name for the queue:</p>
    <p class="Code">solace(configure/jndi/queue)# property physical-name &lt;value&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;value&gt;</code> is the physical queue name, in hierarchical notation (for example, ‘<code>a/b/c</code>’) to associate with the Queue object.</p>
    <p><u>Example</u>:</p>
    <pre xml:space="preserve">solace(configure)# jndi message-vpn blue

solace(configure/jndi)# create queue q/market/orders

solace(configure/jndi/queue)# property physical-name orders

solace(configure/jndi/queue)# exit

solace(configure/jndi)# create queue q/market/news

solace(configure/jndi/queue)# property physical-name news

solace(configure/jndi/queue)# end

solace#</pre>
    <h2 class="with-rule"><a name="managing_solace_jndi_objects_1924398615_227444"/>Configuring Topic Objects</h2>
    <ul>
      <li>To create and configure a Topic object in the Solace JNDI store, enter the following CONFIG command:
                <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# create topic &lt;name&gt;</p></li>
    </ul>
    <ul>
      <li>To configure an existing Topic object in the Solace JNDI store, enter the following CONFIG command:
                <p class="Code">solace(configure)# jndi message-vpn &lt;vpn-name&gt;<br/>solace(configure/jndi)# topic &lt;name&gt;</p></li>
    </ul>
    <p><u>Where</u>:</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of Message VPN to which the JNDI objects belong to</p>
    <p><code>&lt;name&gt;</code> is the user-defined name of the Topic object</p>
    <p>The no version of this command, <code>no topic</code>, deletes the given topic object. </p>
    <h3><a name="Property2"/>Property</h3>
    <p>Entering the <code>topic</code> JNDI CONFIG command moves you to a level within the CLI for configuring properties and property lists for the Topic object.</p>
    <p>To configure the defined standalone properties for a Topic object in the Solace JNDI store, enter the following CONFIG command:</p>
    <p class="Code">solace(configure/topic)# property physical-name &lt;value&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;value&gt;</code> is the physical topic name, in hierarchical notation (for example,"a/b/c") to associate with the Topic object.</p>
    <p>The no version of this command, <code>no property physical-name &lt;value&gt;</code>, deletes the JNDI Topic object configuration. </p>
    <p><u>Example</u>:</p>
    <pre xml:space="preserve">solace(configure)# jndi message-vpn blue

solace(configure/jndi)# create topic t/lions

solace(configure/jndi/topic)# property physical-name animals/lions

solace(configure/jndi/topic)# exit

solace(configure/jndi)# topic t/tigers

solace(configure/jndi/topic)# property physical-name animals/tigers

solace(configure/jndi/topic)# exit

solace(configure/jndi)# create topic t/bears backup

solace(configure/jndi/topic)# property physical-name animals/bears

solace(configure/jndi/topic)# end

solace#</pre>
  </body>
</html>
