<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1>Message Components</h1>
    <p>Solace PubSub+ uses the Solace Message Format (SMF) protocol for client and event broker communications. SMF uses a proprietary binary message format that provides an efficient method of encapsulating messages for transmission over the platform.</p>
    <p>Messages exchanged between clients using the Solace messaging APIs (including the Solace JMS API) have formats that are compatible across all Solace messaging APIs. That is, messages produced by a client using one Solace API can be understood by any other consuming client using another Solace API. </p>
    <p>The following figure displays the basic message components of a JMS message and how they are mapped to components in a Solace SMF message. These are logical diagrams, not wireline depictions. </p>
    <p class="GraphicCaption">Mapping of JMS and SMF Message Parts</p>
    <p class="GraphicCaption">
      <img src="../../Resources/Images/Solace-JMS-API/JMS_message_parts.png" alt=""/>
    </p>
    <h2 class="with-rule"><a name="Header"/>Header Fields</h2>
    <p>JMS header fields that can affect how a message is handled by an event broker are mapped to SMF headers, and all other JMS parameters are mapped to user properties.</p>
    <p>Many of the message header field parameters are accessible to client applications through Solace messaging API set and get operations. For example, if a JMS application sets a correlation ID for a message (through <code>message.setJMSCorrelationID(...)</code>) and then publishes it to a queue destination, a client application using the Solace C API could receive that message and retrieve the correlation ID that was set for the message through a get function (in this case, <code>solClient_msg_getCorrelationId(...)</code>).</p>
    <h2 class="with-rule"><a name="solace_jms_overview_950181419_236050"/>Message Body</h2>
    <p>The JMS message body is contained in the binary data payload of an SMF message. The message body is accessible to client applications through Solace API set and get operations. For example, a client application using the Solace .NET API could create a message (<code>IMessage message = session.CreateMessage()</code>) and then add the text body with the appropriate set method (<code>SDTUtils.SetText(message, "this is the body text"</code>). Then another client application using the JMS API could use the <code>TextMessage.getText()</code> method to retrieve the body of the text message. </p>
    <p class="Note">If the Solace message property <code>SOLACE_JMS_PROP_ISXML</code> is used, it indicates that the text message contains XML content, and the body goes in the XML data payload.</p>
    <p>The following table shows the standard JMS message header fields and the equivalent Solace SMF message header fields.</p>
    <table class="TableStyle-Table_Num" style="mc-table-style: url('../../Resources/TableStyles/Table_Num.css');margin-left: 0;margin-right: auto;caption-side: top;" cellspacing="0">
      <caption valign="top" style="padding-bottom: 3pt;">
        <p class="TblCaption">JMS Header Fields and Their Solace Equivalents</p>
      </caption>
      <col width="168px" class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">JMS</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Solace</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Contained in </th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSCorrelationID</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">CorrelationID</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">message property</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSDeliveryMode</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">DeliveryMode</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">SMF headers</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSDestination</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Destination</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">SMF headers</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">JMSExpiration</p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">Expiration</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">message property</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSMessageID</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">ApplicationMessageID</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">message property</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSRedelivered</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">Redelivered</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">SMF headers</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSReplyTo</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">ReplyTo</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">message property</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">JMSTimestamp</p>
          </td>
          <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
            <p class="Tbl_Body">SenderTimeStamp</p>
          </td>
          <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
            <p class="Tbl_Body">message property</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JMSType</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">ApplicationMessage<br/>Type</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body">message property</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">JMSPriority</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">Priority</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body">SMF headers</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>For detailed information on the available get and set methods, refer to the <MadCap:xref href="../Messaging-APIs/Solace-APIs-Overview.htm">APIs &amp; Protocols</MadCap:xref> for the appropriate messaging API.</p>
  </body>
</html>
