<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1>Creating Custom Message Header Fields</h1>
    <p>To create a custom message header field, you can create a map with custom user properties fields. The user properties are carried in the message separate from the payload.</p>
    <h4>JCSMP</h4>
    <p>To create custom message header fields, first create a user properties map in the same manner as you would a typical SDT map (refer to <MadCap:xref href="Creating-SD-Maps-Streams.htm#top">Creating Structured Data Maps and Streams</MadCap:xref> ), and then specify the user properties for that map. Data for these fields can be added JCSMP map methods. For a comprehensive list of the available container methods and functions, refer to the following in the <MadCap:xref href="../../API-Developer-Online-Ref-Documentation/java/index.html">JCSMP Reference</MadCap:xref> documentation.</p>
    <h4>C and .NET APIs</h4>
    <p>When using the C and .NET APIs, you can create a user property map for a message through a single function or method call. Each field in a user properties map is a SDT field. Once the map is created, data for fields in the map can be added with the C and .NET API container functions and methods. For a comprehensive list of the available container methods and functions, refer to the following in the <MadCap:xref href="../Messaging-APIs/Solace-APIs-Overview.htm">APIs &amp; Protocols</MadCap:xref> documentation for the appropriate messaging API.</p>
    <h4>JavaScript and Node.js APIs</h4>
    <p>To create custom message header fields, first create an SDT map with custom user properties fields, then pass it to the <code>setUserPropertyMap</code> function. </p>
    <table class="TableStyle-Table_Num" style="mc-table-style: url('../../Resources/TableStyles/Table_Num.css');margin-left: 0;margin-right: auto;caption-side: top;width: 95%;" cellspacing="0">
      <caption valign="top" style="padding-bottom: 3pt;">
        <p class="TblCaption">Creating a User Properties Map</p>
      </caption>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <col class="TableStyle-Table_Num-Column-Column1"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1"><MadCap:variable name="Product-Names.pubsub_brand_only"/> Messaging API</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Use</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">JCSMP</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body"><code>XMLMessageProducer.createMap()</code> or  <code>JCSMPFactory.createMap()</code>, then call <code>setProperties()</code> for that map.</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">C</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_Body"><code>solClient_msg_createUserPropertyMap(...)</code> and pass in an existing SDT. </p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p class="Tbl_Body">.NET</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p class="Tbl_BodyCode">IMessage.CreateUserPropertyMap()</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p class="Tbl_Body">JavaScript and Node.js</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p class="Tbl_Body"><code>solace.Message.setUserPropertyMap(...)</code> and pass in an existing SDT.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Note">A receiving application using JCSMP can call <code>getProperties()</code> to get the user properties map. Data for these fields can be retrieved with the JCSMP map methods.</p>
  </body>
</html>
