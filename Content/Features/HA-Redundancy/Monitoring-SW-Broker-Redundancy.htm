<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" MadCap:stylesheetType="table"/>
  </head>
  <body>
    <h1>Monitoring Redundancy</h1>
    <p>This section discusses the show commands that you can use to view the configuration and state of Solace PubSub+ software event brokers used in high-availability (HA) deployments.</p>
    <h2 class="with-rule"><a name="Viewing-Redund-Info"/>Showing Redundancy Information</h2>
    <p>To view the redundancy configuration and status for an event broker, enter the following show command:</p>
    <p class="Code">solace&gt; show redundancy [detail | group [node &lt;name-pattern&gt; [detail]]]</p>
    <p><u>Where</u>:</p>
    <p><code>detail</code> specifies to show detailed information on the redundancy configuration.</p>
    <p><code>group [node &lt;name-pattern&gt; [detail]]</code> specifies to show information for a specific HA node (for example, you can show details for just the monitoring node, <code>solace3</code> in the example below).</p>
    <p class="Tip">To read descriptions of many of the show commandsʾ output values, enter a <span style="font-family: 'Arial'">"?"</span> at the end of the command (for example <code>solace 1&gt; show redundancy ?</code>).</p>
    <h3><a name="Checking"/>Checking for Proper Configurations</h3>
    <p>For a properly operating HA group, the <code>Operating Mode</code> and <code>Active/Standby Role</code> parameters must have the following values for each node type.</p>
    <table style="width: 95%;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/>
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/>
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/>
      <col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/>
      <thead>
        <tr class="TableStyle-Table_Num-Head-Header1">
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1"> </th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Primary Node</th>
          <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Backup Node</th>
          <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Monitoring Node</th>
        </tr>
      </thead>
      <tbody>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p style="font-weight: bold;">Operating Mode</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Messaging Node</p>
          </td>
          <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
            <p>Messaging Node</p>
          </td>
          <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
            <p>Monitoring Node</p>
          </td>
        </tr>
        <tr class="TableStyle-Table_Num-Body-Body1">
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p style="font-weight: bold;">Active-Standby Role</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>Primary</p>
          </td>
          <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
            <p>Backup</p>
          </td>
          <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
            <p>Undefined</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>For a properly operating HA group, the proper Activity Status for each node will be as follows:<table style="width: 95%;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/><col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/><col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/><col class="TableStyle-Table_Num-Column-Column1" style="width: 25%;"/><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1"><p> </p></th><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Primary Node</th><th class="TableStyle-Table_Num-HeadE-Column1-Header1">
						Backup Node</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">
		Monitoring Node</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><p style="font-weight: bold;">Activity Status</p></td><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><p>Primary Virtual Router: Local Active</p><p> Backup Virtual Router: Shutdown</p></td><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><p>Primary Virtual Router: Shutdown</p><p> Backup Virtual Router: Mate Active</p></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1"><p>Primary Virtual Router: Shutdown</p><p> Backup Virtual Router: Shutdown</p></td></tr></tbody></table></p>
    <h2 class="with-rule"><a name="Showing2"/>Showing Redundancy Groups</h2>
    <p>To view information regarding the HA group and its constituent nodes, enter the following show command:</p>
    <p class="Code">solace1&gt; show redundancy [group [node &lt;name-pattern&gt; [detail]]]</p>
    <p>The current node is highlighted with a star symbol (*).
		<MadCap:dropDown><MadCap:dropDownHead><MadCap:dropDownHotspot>Example:</MadCap:dropDownHotspot></MadCap:dropDownHead><MadCap:dropDownBody><p class="Code">solace1&gt; show redundancy group<br/>Node Router-Name   Node Type       Address           Status<br/>-----------------  --------------  ----------------  ---------<br/>solace1*           Message-Router  192.168.132.16    Online<br/>solace3            Monitor         192.168.132.3     Online<br/>solace2            Message-Router  192.168.132.39    Online<br/><br/>* indicates current node<br/> <br/>solace2&gt; show redundancy group *<br/><br/>Node Router-Name   Node Type       Address           Status<br/>-----------------  --------------  ----------------  ---------<br/>solace1            Message-Router  192.168.132.16    Online<br/>solace3            Monitor         192.168.132.3     Online<br/>solace2*           Message-Router  192.168.132.39    Online<br/> <br/>* indicates current node<br/><br/>solace3&gt; show redundancy group node solace1 detail<br/><br/>Node Router-Name:            solace1<br/>Node Type:                   Message-Router<br/>Address:                     192.168.1.101<br/>Ports:                       65534<br/>                             65535<br/>Status:                      Online</p></MadCap:dropDownBody></MadCap:dropDown></p>
  </body>
</html>
