<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1>Pre-Shared Authentication Keys for Appliances</h1>
    <p>Pre-shared authentication keys are used to authenticate connections between redundancy group members and must be the same for all members.  By default, no key is set on an event broker.</p>
    <h2 class="with-rule"><a name="Generati">
            </a>Generating Pre-Shared Keys</h2>
    <p>Pre-shared authentication keys are 32 to 256 bytes of binary data encoded in base 64. To ensure maximum security, Solace recommends that each key be randomly generated and as long as possible.</p>
    <h2 class="with-rule"><a name="Configur">
            </a>Configuring Pre-Shared Keys</h2>
    <p>To set the pre-shared key authentication key for an event broker in a redundant deployment, enter the following commands:</p>
    <p class="Code">solace(configure)# redundancy<br/>solace(configure/redundancy)# authentication<br/>solace(configure/redundancy/authentication)# pre-shared-key key &lt;pre-shared-key&gt;<br/></p>
    <p><u>Where</u>:</p>
    <p><code>&lt;pre-shared-key&gt;</code> is 44 to 344 characters (which translates into 32 to 256 bytes of binary data encoded in base 64). The <code>no</code> version of this command returns the value to the default. </p>
    <h2 class="with-rule"><a name="Changing">
            </a>Changing Pre-Shared Keys</h2>
    <p>You can change the pre-shared key of an HA pair when the appliances and config-sync are both up.</p>
    <p>To make the change, perform the following steps.</p>
    <ol>
      <li>Change the key on one of the appliances.
			<p class="Code">solace1(configure)# redundancy<br/>solace1(configure/redundancy)# authentication<br/>solace1(configure/redundancy/authentication)# pre-shared-key key &lt;new-pre-shared-key&gt;<br/></p></li>
      <li>Change the key on the other appliance.
			<p class="Code">solace2(configure)# redundancy<br/>solace2(configure/redundancy)# authentication<br/>solace2(configure/redundancy/authentication)# pre-shared-key key &lt;new-pre-shared-key&gt;<br/></p></li>
    </ol>
  </body>
</html>
