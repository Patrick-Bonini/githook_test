<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <title/>
  </head>
  <body>
    <h1>Replacing Nodes in Software Event Broker HA Redundancy Groups</h1>
    <p>You can replace any of the nodes in a Solace PubSub+ software event broker high-availability (HA) redundancy group. Note that all event brokers in the HA redundancy group must have the same SolOS version. The following procedures explain how to replace a node using a new default configured node.</p>
    <ul>
      <li>
        <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="#Replacin">Replacing Primary Software Event Brokers</MadCap:xref>
      </li>
      <li>
        <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="#Replacin2">Replacing  Backup Software Event Brokers</MadCap:xref>
      </li>
      <li>
        <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="#Replacin3">Replacing Monitoring Nodes</MadCap:xref>
      </li>
    </ul>
    <p xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">When you replace a node in a software event broker HA redundancy group, if the new node uses a different IP address, fully qualified domain name (FQDN), or hostname than the node it is replacing, clients will lose connectivity, and they must be reconfigured to use the new IP address, FQDN, or hostname.</p>
    <h2 class="with-rule"><a name="Replacin"/>Replacing Primary Software Event Brokers</h2>
    <p>To replace the primary software event broker in a HA group, perform the following steps:</p>
    <ol>
      <li>
        <p>Shut down the primary event broker (<code>solace1</code> in this example) so that clients can no longer access it:</p>
        <MadCap:snippetBlock xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" src="../../Resources/Snippets/VMR-shutdown.flsnp"/>
      </li>
      <li>On the event broker that will act as the new primary, from the Solace CLI, shut down the message spool:
			<p class="Code">solace1-new&gt; enable<br/>solace1-new# configure<br/>solace1-new(configure)# hardware message-spool shutdown<br/>All message spooling will be stopped<br/>Do you want to continue (y/n)? y</p></li>
      <li>Shut down the message backbone service:
			<p class="Code">solace1-new(configure)# service<br/>solace1-new(configure/service)# msg-backbone<br/>solace1-new(configure/service/msg-backbone)# shutdown<br/>All clients will be disconnected<br/>Do you want to continue (y/n)? y</p></li>
      <li>Configure any required TLS/SSL service and trusted CA certificates. For more information, see <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="../../Security/TLS-SSL-Service-Connections.htm">TLS/SSL Service Connections</MadCap:xref> and <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="../../Security/Managing-Server-Certs.htm">Managing Server Certificates</MadCap:xref>.</li>
      <li>Configure the failover mechanism:</li>
      <p class="Code">solace1-new(configure)# redundancy<br/>solace1-new(configure/redundancy)# switchover-mechanism hostlist</p>
      <li> Configure the HA redundancy group, assign an <code>active-standby-role</code> of <code>primary</code> to this event broker, and then enable redundancy:              <p class="Code">solace1-new(configure/redundancy)# group<br/>solace1-new(configure/redundancy/group)# create node solace1-new<br/>solace1-new(configure/redundancy/group/node)# connect-via 192.168.132.116<br/>solace1-new(configure/redundancy/group/node)# node-type message-routing-node<br/>solace1-new(configure/redundancy/group/node)# exit<br/>solace1-new(configure/redundancy/group)# create node solace2<br/>solace1-new(configure/redundancy/group/node)# connect-via 192.168.132.39<br/>solace1-new(configure/redundancy/group/node)# node-type message-routing-node<br/>solace1-new(configure/redundancy/group/node)# exit<br/>solace1-new(configure/redundancy/group)# create node solace3<br/>solace1-new(configure/redundancy/group/node)# connect-via 192.168.132.3<br/>solace1-new(configure/redundancy/group/node)# node-type monitor-node<br/>solace1-new(configure/redundancy/group/node)# exit<br/>solace1-new(configure/redundancy)# authentication<br/>solace1-new(configure/redundancy/authentication)# pre-shared-key key &lt;pre-shared-key&gt;<br/>solace1-new(configure/redundancy/group)# exit<br/>solace1-new(configure/redundancy)# active-standby-role primary<br/>solace1-new(configure/redundancy)# no shutdown</p><p><u>Where</u>:</p><p><code>&lt;pre-shared-key&gt;</code> is 44 to 344 characters (which translates into 32 to 256 bytes of binary data encoded in base 64). It's used to provide authentication between nodes in a HA Group, and must be the same on each node.</p></li>
      <li> If the primary event broker has a different IP address, FQDN, or hostname than the node it's replacing, redundancy group information must be updated on both the backup and monitoring nodes. However, if the primary will use the same IP address or FQDN and hostname as the node it has replaced, then go to step 8.</li>
      <ol style="list-style-type: lower-alpha;">
        <li> Shut down redundancy on both event brokers.                    <p>On the backup event broker:</p><p class="Code">solace2&gt; enable<br/>solace2# configure<br/>solace2(configure)# redundancy<br/>solace2(configure/redundancy)# shutdown</p><p>On the monitoring node:</p><p class="Code">solace3&gt; enable<br/>solace3# configure<br/>solace3(configure)# redundancy<br/>solace3(configure/redundancy)# shutdown</p></li>
        <li> Remove the old node from the redundancy group on both event brokers.                    <p>On the backup event broker:</p><p class="Code">solace2(configure/redundancy)# group<br/>solace2(configure/redundancy/group)# no node solace1</p><p>On the monitoring node:</p><p class="Code">solace3(configure/redundancy)# group<br/>solace3(configure/redundancy/group)# no node solace1</p></li>
        <li> Create a new group node with the new hostname and IP address or FQDN on both event brokers.                   <p>On the backup event broker:</p><p class="Code">solace2(configure/redundancy/group)# create node solace1-new<br/>solace2(configure/redundancy/group/node)# connect-via 192.168.132.116<br/>solace2(configure/redundancy/group/node)# node-type message-routing-node<br/>solace2(configure/redundancy/group/node)# exit</p><p>On the monitoring node:</p><p class="Code">solace3(configure/redundancy/group)# create node solace1-new<br/>solace3(configure/redundancy/group/node)# connect-via 192.168.132.116<br/>solace3(configure/redundancy/group/node)# node-type message-routing-node<br/>solace3(configure/redundancy/group/node)# exit</p></li>
        <li> Reconfigure the mate link on the backup event broker to point to the primary event broker (<code>solace1-new</code>):<p class="Code">solace2(configure)# service mate-link<br/>solace2(configure/service/mate-link)# shutdown<br/>solace2(configure/redundancy)# mate-link connect-via 192.168.132.116:&lt;port&gt;</p></li>
        <li>Enable redundancy on the backup and monitoring node.
				<p>On the backup event broker:</p><p class="Code">solace2(configure/redundancy)# no shutdown</p><p>On the monitoring node:</p><p class="Code">solace3(configure/redundancy)# no shutdown</p></li>
        <li>
          <p>Reload the backup node for the change to take effect:</p>
          <p class="Code">solace2(configure/redundancy)# reload</p>
        </li>
      </ol>
      <li> Confirm Redundancy Status is <code>Up</code> on all nodes in the HA group.                <p>On the primary event broker:</p><p class="Code">solace1-new&gt; show redundancy</p><p>On the backup event broker:</p><p class="Code">solace2&gt; show redundancy</p><p>On the monitoring node:</p><p class="Code">solace3&gt; show redundancy</p></li>
      <li> On the primary event broker, release-activity:
			<p class="Code">solace1-new&gt; enable<br/>solace1-new# configure<br/>solace1-new(configure)# redundancy<br/>solace1-new(configure/redundancy)# release-activity</p></li>
      <li>Enable the mate link on both the primary and backup event brokers.
			<p>On the primary event broker:</p><p class="Code">solace1-new(configure)# service mate-link<br/>solace1-new(configure/service/mate-link)# no shutdown</p><p>On the backup event broker:</p><p class="Code">solace2(configure)# service mate-link<br/>solace2(configure/service/mate-link)# no shutdown</p></li>
      <li>Enable the message backbone service:
			<p class="Code">solace1-new&gt; enable<br/>solace1-new# configure<br/>solace1-new(configure)# service<br/>solace1-new(configure/service)# msg-backbone<br/>solace1-new(configure/service/msg-backbone)# no shutdown<br/>solace1-new(configure/service/msg-backbone)# exit<br/>solace1-new(configure/service)# exit</p></li>
      <li>Enable the message spool and verify that the message spool’s <code>Operational Status</code> is <code>AD-Active</code>:
			<p class="Code">solace1-new(configure)# no hardware message-spool shutdown<br/>solace1-new&gt; show message-spool</p></li>
      <li>Enable Config-Sync.				
				<ul><li> Set up Config-Sync without TLS:	
					<p class="Code">solace1-new&gt; enable<br/>solace1-new# configure<br/>solace1-new(configure)# config-sync<br/>solace1-new(configure/config-sync)# no shutdown</p></li><li> Set up Config-Sync over TLS:	
			<p class="Code">solace1-new&gt; enable<br/>solace1-new# configure<br/>solace1-new(configure)# config-sync<br/>solace1-new(configure/config-sync)# ssl<br/>solace1-new(configure/config-sync)# no shutdown</p></li></ul></li>
      <li>Assert <code>solace2</code> as the Config-Sync leader:
			<p class="Code">solace2(admin/config-sync)# assert-leader router<br/>Processed 1 config-sync tables.<br/>solace2(admin/config-sync)# assert-leader message-vpn *<br/>WARNING: This command can temporarily disconnect clients on the<br/>AD-inactive appliance. Clients connected to this appliance will not be affected.<br/>Do you want to continue (y/n)? y</p></li>
      <li>Verify that Config-Sync’s <code>Operational Status</code> is <code>Up</code> on both the primary and backup event brokers.
			<p>On the primary event broker:</p><p class="Code">solace1-new&gt; show config-sync</p><p>On the backup event broker:</p><p class="Code">solace2&gt; show config-sync</p></li>
      <li>On the primary event broker, no release-activity:
			<p class="Code">solace1-new&gt; enable<br/>solace1-new# configure<br/>solace1-new(configure)# redundancy<br/>solace1-new(configure/redundancy)# no release-activity</p></li>
      <li>Verify that the <code>Redundancy Status</code> is <code>Up</code> on all nodes in the HA group.
			<p>On the primary event broker:</p><p class="Code">solace1-new&gt; show redundancy</p><p>On the backup event broker:</p><p class="Code">solace2&gt; show redundancy</p><p>On the monitoring node:</p><p class="Code">solace3&gt; show redundancy</p></li>
    </ol>
    <p xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">If the new primary event broker is using a new hostname, IP address, or FQDN, all existing clients’ connection information must be reconfigured to use this new information. For example, for clients using Solace messaging APIs, the <code>host</code> property used to establish client sessions must be modified (see <MadCap:xref href="../../API/API-Developer-Guide/Session-Props-Required.htm">Session Properties Required to Establish a Connection</MadCap:xref>).</p>
    <h2 class="with-rule"><a name="Replacin2"/>Replacing  Backup Software Event Brokers</h2>
    <p>To replace the backup event broker in a software event broker HA group, perform the following steps:</p>
    <ol>
      <li>
        <p>Shut down the backup event broker (<code>solace2</code> in this example) so that clients can no longer access it:</p>
        <MadCap:snippetBlock xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" src="../../Resources/Snippets/VMR-shutdown.flsnp"/>
      </li>
      <li>On the event broker that will act as the new backup, from the Solace CLI, shut down the message spool:
			<p class="Code">solace2-new&gt; enable<br/>solace2-new # configure<br/>solace2-new(configure)# hardware message-spool shutdown<br/>All message spooling will be stopped.<br/>Do you want to continue (y/n)? y</p></li>
      <li>Shut down the message backbone service:
			<p class="Code">solace2-new(configure)# service<br/>solace2-new(configure/service)# msg-backbone<br/>solace2-new(configure/service/msg-backbone)# shutdown<br/>All clients will be disconnected.<br/>Do you want to continue (y/n)? y</p></li>
      <li>Configure any required TLS/SSL service and trusted CA certificates. For more information, see <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="../../Security/TLS-SSL-Service-Connections.htm">TLS/SSL Service Connections</MadCap:xref> and <MadCap:xref xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" href="../../Security/Managing-Server-Certs.htm">Managing Server Certificates</MadCap:xref>.</li>
      <li> Configure the host list failover mechanism:</li>
      <p class="Code">solace2-new(configure)# redundancy<br/>solace2-new(configure/redundancy)# switchover-mechanism hostlist</p>
      <li> Configure the HA redundancy group, assign an active-standby-role of <code>backup</code> to this event broker, and then enable redundancy:
			<p class="Code">solace2-new(configure/redundancy)# group<br/>solace2-new(configure/redundancy/group)# create node solace1<br/>solace2-new(configure/redundancy/group/node)# connect-via 192.168.132.16<br/>solace2-new(configure/redundancy/group/node)# node-type message-routing-node<br/>solace2-new(configure/redundancy/group/node)# exit<br/>solace2-new(configure/redundancy/group)# create node solace2-new<br/>solace2-new(configure/redundancy/group/node)# connect-via 192.168.132.139<br/>solace2-new(configure/redundancy/group/node)# node-type message-routing-node<br/>solace2-new(configure/redundancy/group/node)# exit<br/>solace2-new(configure/redundancy/group)# create node solace3<br/>solace2-new(configure/redundancy/group/node)# connect-via 192.168.132.3<br/>solace2-new(configure/redundancy/group/node)# node-type monitor-node<br/>solace2-new(configure/redundancy/group/node)# exit<br/>solace2-new(configure/redundancy)# authentication<br/>solace2-new(configure/redundancy/authentication)# pre-shared-key key &lt;pre-shared-key&gt;<br/>solace2-new(configure/redundancy/group)# exit<br/>solace2-new(configure/redundancy)# active-standby-role backup<br/>solace2-new(configure/redundancy)# no shutdown</p><p><u>Where</u>:</p><p><code>&lt;pre-shared-key&gt;</code> is 44 to 344 characters (which translates into 32 to 256 bytes of binary data encoded in base 64). It's used to provide authentication between nodes in a HA Group, and must be the same on each node.</p></li>
      <li>If the backup event broker (<code>solace2-new</code> in this example) has a different IP address, FQDN, or hostname than the node it is replacing, redundancy group information must be updated on both the primary and  monitoring nodes. However, if the backup will use the same IP address or FQDN and hostname as the node it has replaced, then go to step 8.</li>
      <ol style="list-style-type: lower-alpha;">
        <li> Shut down redundancy on both event brokers.                    <p>On the primary event broker:</p><p class="Code">solace1&gt; enable<br/>solace1# configure<br/>solace1(configure)# redundancy<br/>solace1(configure/redundancy)# shutdown</p><p>On the monitoring node:</p><p class="Code">solace3&gt; enable<br/>solace3# configure<br/>solace3(configure)# redundancy<br/>solace3(configure/redundancy)# shutdown</p></li>
        <li> Remove the old node from the redundancy group on both the primary event broker and the monitoring node.                    <p>On the primary event broker:</p><p class="Code">solace1(configure/redundancy)# group<br/>solace1(configure/redundancy/group)# no node solace2</p><p>On the monitoring node:</p><p class="Code">solace3(configure/redundancy)# group<br/>solace3(configure/redundancy/group)# no node solace2</p></li>
        <li> Create the new group node with the new hostname and IP address or FQDN on both event brokers.
				<p>On the primary event broker:</p><p class="Code">solace1(configure/redundancy/group)# create node solace2-new<br/>solace1(configure/redundancy/group/node)# connect-via 192.168.132.139<br/>solace1(configure/redundancy/group/node)# node-type message-routing-node<br/>solace1(configure/redundancy/group/node)# exit</p><p>On the monitoring node:</p><p class="Code">solace3(configure/redundancy/group)# create node solace2-new<br/>solace3(configure/redundancy/group/node)# connect-via 192.168.132.139<br/>solace3(configure/redundancy/group/node)# node-type message-routing-node<br/>solace3(configure/redundancy/group/node)# exit</p></li>
        <li> Reconfigure the mate link on the primary event broker to point to the backup event broker:
				<p class="Code">solace1(configure)# service mate-link<br/>solace1(configure/service/mate-link)# shutdown<br/>solace1(configure/redundancy)# mate-link connect-via 192.168.132.139</p></li>
        <li> Enable redundancy on the primary and monitoring nodes.				<p>On the primary event broker:</p><p class="Code">solace1(configure/redundancy)# no shutdown</p><p>On the monitoring node:</p><p class="Code">solace3(configure/redundancy)# no shutdown</p></li>
        <li>
          <p>Reload the primary node for the change to take effect:</p>
          <p class="Code">solace1(configure/redundancy)# reload</p>
        </li>
      </ol>
      <li> Confirm Redundancy Status is <code>Up</code> on all nodes in the HA group.              <p>On the primary event broker:</p><p class="Code">solace1-new&gt; show redundancy</p><p>On the backup event broker:</p><p class="Code">solace2&gt; show redundancy</p><p>On the monitoring node:</p><p class="Code">solace3&gt; show redundancy</p></li>
      <li>On the backup event broker, release-activity:
			<p class="Code">solace2-new&gt; enable<br/>solace2-new# configure<br/>solace2-new(configure)# redundancy<br/>solace2-new(configure/redundancy)# release-activity</p></li>
      <li>Enable the mate link on both the primary event broker and monitoring node.                <p>On the primary event broker:</p><p class="Code">solace1(configure)# service mate-link<br/>solace1(configure/service/mate-link)# no shutdown</p><p>On the backup node:</p><p class="Code">solace2-new(configure)# service mate-link<br/>solace2-new(configure/service/mate-link)# no shutdown</p></li>
      <li>Enable message backbone service:
			<p class="Code">solace2-new&gt; enable<br/>solace2-new# configure<br/>solace2-new(configure)# service<br/>solace2-new(configure/service)# msg-backbone<br/>solace2-new(configure/service/msg-backbone)# no shutdown<br/>solace2-new(configure/service/msg-backbone)# exit<br/>solace2-new(configure/service)# exit</p></li>
      <li>Enable the message spool and verify message-spool <code>Operational Status</code> is <code>AD-Standby</code>:

			<p class="Code">solace2-new(configure)# no hardware message-spool shutdown<br/>solace2-new&gt; show message-spool</p></li>
      <li>Enable Config-Sync.
				<ul><li> Set up Config-Sync without TLS:	
					<p class="Code">solace2-new&gt; enable<br/>solace2-new# configure<br/>solace2-new(configure)# config-sync<br/>solace2-new(configure/config-sync)# no shutdown</p></li><li> Set up Config-Sync over TLS:	
			<p class="Code">solace2-new&gt; enable<br/>solace2-new# configure<br/>solace2-new(configure)# config-sync<br/>solace2-new(configure/config-sync)# ssl<br/>solace2-new(configure/config-sync)# no shutdown</p></li></ul></li>
      <li>Assert the primary event broker as the Config-Sync leader:
			<p class="Code">solace1(admin/config-sync)# assert-leader router<br/>Processed 1 config-sync tables.<br/>solace1(admin/config-sync)# assert-leader message-vpn *<br/>WARNING: This command can temporarily disconnect clients on the AD-inactive appliance.<br/>Clients connected to this appliance will not be affected.<br/>Do you want to continue (y/n)? y</p></li>
      <li>Verify Config-Sync <code>Oper Status</code> is <code>Up</code> on both the primary and backup event brokers.              <p>On the primary event broker:</p><p class="Code">solace1&gt; show config-sync</p><p>On the backup event broker:</p><p class="Code">solace2-new&gt; show config-sync</p></li>
      <li>On the backup event broker, take back activity:        <p class="Code">solace2-new&gt; enable<br/>solace2-new# configure<br/>solace2-new(configure)# redundancy<br/>solace2-new(configure/redundancy)# no release-activity</p></li>
      <li> Verify <code>Redundancy Status</code> is <code>Up</code> on all nodes in the HA group.
			<p>On the primary event broker:</p><p class="Code">solace1&gt; show redundancy</p><p>On the backup event broker:</p><p class="Code">solace2-new&gt; show redundancy</p><p>On the monitoring node:</p><p class="Code">solace3&gt; show redundancy</p></li>
    </ol>
    <p xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">If the new backup event broker is using a new hostname, IP address, or FQDN, all existing clients’ connection information must be reconfigured to use this new information. For example, for clients using Solace messaging APIs, the <code>host</code> property used to establish client sessions must be modified (see <MadCap:xref href="../../API/API-Developer-Guide/Session-Props-Required.htm">Session Properties Required to Establish a Connection</MadCap:xref>). </p>
    <h2 class="with-rule"><a name="Replacin3"/>Replacing Monitoring Nodes</h2>
    <p>To replace the monitoring node for a software event broker HA redundancy group, perform the following steps:</p>
    <ol>
      <li>
        <p>Shut down the monitoring node (<code>solace3</code> in this example) so that the primary and backup event brokers can no longer access it:</p>
        <MadCap:snippetBlock xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" src="../../Resources/Snippets/VMR-shutdown.flsnp"/>
      </li>
      <li>On the event broker that will act as the new monitoring node (<code>solace3-new</code> in this example), from the Solace CLI, reload the default configuration:
			<p class="Code">solace3-new# reload default-config monitoring-node<br/>This command causes a reload of the system<br/>Do you want to continue (y/n)? y</p></li>
      <li>Configure the failover mechanism:</li>
      <p class="Code">solace3-new(configure)# redundancy<br/>solace3-new(configure/redundancy)# switchover-mechanism hostlist</p>
      <li>Configure the HA redundancy group and enable redundancy on replacement monitoring node:                <p xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">Notice that as a monitoring node, this event broker doesn’t have the active-standby-role role assigned.</p><p class="Code">solace3-new(configure/redundancy)# group<br/>solace3-new(configure/redundancy/group)# create node solace1<br/>solace3-new(configure/redundancy/group/node)# connect-via 192.168.132.16<br/>solace3-new(configure/redundancy/group/node)# node-type message-routing-node<br/>solace3-new(configure/redundancy/group/node)# exit<br/>solace3-new(configure/redundancy/group)# create node solace2<br/>solace3-new(configure/redundancy/group/node)# connect-via 192.168.132.39<br/>solace3-new(configure/redundancy/group/node)# node-type message-routing-node<br/>solace3-new(configure/redundancy/group/node)# exit<br/>solace3-new(configure/redundancy/group)# create node solace3-new<br/>solace3-new(configure/redundancy/group/node)# connect-via 192.168.132.113<br/>solace3-new(configure/redundancy/group/node)# node-type monitor-node<br/>solace3-new(configure/redundancy/group/node)# exit<br/>solace3-new(configure/redundancy)# authentication<br/>solace3-new(configure/redundancy/authentication)# pre-shared-key key &lt;pre-shared-key&gt;<br/>solace3-new(configure/redundancy/group)# exit<br/>solace3-new(configure/redundancy)# no shutdown</p><p><u>Where</u></p><p><code>&lt;pre-shared-key&gt;</code> is 44 to 344 characters (which translates into 32 to 256 bytes of binary data encoded in base 64). It's used to provide authentication between nodes in a HA Group, and must be the same on each node.</p></li>
      <li>If the new monitoring node has a different IP address, FQDN, or hostname than the node it is replacing, redundancy group information must be updated on both the primary and backup event brokers.<ol style="list-style-type: lower-alpha;"><li>Shut down redundancy on both event brokers.<p>On the primary event broker:</p><p class="Code">solace1&gt; enable<br/>solace1# configure<br/>solace1(configure)# redundancy<br/>solace1(configure/redundancy)# shutdown</p><p>On the backup event broker:</p><p class="Code">solace2&gt; enable<br/>solace2# configure<br/>solace2(configure)# redundancy<br/>solace2(configure/redundancy)# shutdown</p></li><li>Remove the old node from redundancy group on both event brokers.<p>On the primary event broker:</p><p class="Code">solace1(configure/redundancy)# group<br/>solace1(configure/redundancy/group)# no node solace3</p><p>On the backup event broker:</p><p class="Code">solace2(configure/redundancy)# group<br/>solace2(configure/redundancy/group)# no node solace3</p></li><li>Create the new group node with the new hostname and IP address or FQDN on both event brokers. <p>On the primary event broker:</p><p class="Code">solace1(configure/redundancy/group)# create node solace3-new<br/>solace1(configure/redundancy/group/node)# connect-via 192.168.132.113<br/>solace1(configure/redundancy/group/node)# node-type monitor-node<br/>solace1(configure/redundancy/group/node)# exit</p><p>On the backup event broker:</p><p class="Code">solace2(configure/redundancy/group)# create node solace3-new<br/>solace2(configure/redundancy/group/node)# connect-via 192.168.132.113<br/>solace2(configure/redundancy/group/node)# node-type monitor-node<br/>solace2(configure/redundancy/group/node)# exit</p></li><li>Enable redundancy on both event brokers:<p>On the primary event broker:</p><p class="Code">solace1(configure/redundancy)# no shutdown</p><p>On the backup event broker:</p><p class="Code">solace2(configure/redundancy)# no shutdown</p></li></ol></li>
      <li> Verify <code>Redundancy Status</code> is <code>Up</code> on all nodes in the HA group.
			<p>On the primary event broker:</p><p class="Code">solace1&gt; show redundancy</p><p>On the backup event broker:</p><p class="Code">solace2&gt; show redundancy</p><p>On the monitoring node:</p><p class="Code">solace3-new&gt; show redundancy</p></li>
    </ol>
  </body>
</html>
