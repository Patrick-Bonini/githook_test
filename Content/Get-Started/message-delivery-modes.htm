<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1><MadCap:concept term="Cloud;Appliance;Software"/>Message Delivery Modes</h1>
    <p MadCap:conditions="SAP.SapHideFromOutput"><MadCap:variable name="Product-Names.pubsub_brand_only"/> event brokers support the following types of message delivery:</p>
    <p MadCap:conditions="SAP.SapOnlyOutput"><MadCap:variable name="Product-Names.cloud_product_long"/><MadCap:variable name="Product-Names.broker_cloud_short"/>s support the following types of message delivery:</p>
    <ul>
      <li>Direct Messaging </li>
      <li>Guaranteed Messaging </li>
    </ul>
    <h2><a name="Direct"/>Direct Messaging </h2>
    <p>
		Direct messaging is meant for use with high-rate or very low-latency message messaging applications that can tolerate occasional message loss. Producers can publish messages to a topic and, when the messages are received by the event broker, they can be delivered efficiently to a large number of clients with matching topic subscriptions. Direct messaging has the following characteristics:</p>
    <ul>
      <li>Clients subscribe to topics directly.</li>
      <li>Messages are not retained for a client when that client is not connected to an <MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput">event broker or </MadCap:conditionalText><MadCap:variable name="Product-Names.broker_cloud_short"/>.</li>
      <li>Messages can be discarded when congestion or system failures are encountered.</li>
      <li>Messages are not acknowledged upon delivery.</li>
    </ul>
    <p>
      <img src="../Resources/Images/Getting-Started/direct-messaging.png" alt="Illustration depicting the concepts described in the surrounding text."/>
    </p>
    <p>To learn more, see <MadCap:xref href="../Messaging/Direct-Msg/Direct-Messages.htm" target="_blank">Direct Messages</MadCap:xref>.</p>
    <h2><a name="Persiste"/>Guaranteed Messaging</h2>
    <p> Guaranteed messaging is most appropriate for messaging applications that require persistent storage of the messages they send or intend to receive.</p>
    <p>Guaranteed messaging has the following characteristics:</p>
    <ul>
      <li>Topic subscriptions are associated with an endpoint on the broker rather than consuming clients.</li>
      <li>Messages can't be lost once they are acknowledged by the event broker.</li>
      <li>When messages are delivered to a durable endpoint, they are retained until they are consumed by a client.</li>
      <li>Delivery to a client is acknowledged.</li>
    </ul>
    <p>To learn more, see <MadCap:xref href="../Messaging/Guaranteed-Msg/Guaranteed-Messages.htm" target="_blank">Guaranteed Messages</MadCap:xref>.</p>
    <h3><a name="Guarante"/>Publishing Guaranteed Messages</h3>
    <p>When clients publish a Guaranteed message to a topic and the event broker has an endpoint with a matching subscription, the message and a list of matching subscriptions is stored or <i>persisted</i>, on the broker. After acknowledging receipt of the message, the event broker attempts to deliver the message to all matching consumers. As each consumer acknowledges receipt of the message, the associated match is deleted from the match list for the message. Once there are no matches left associated with a message, the message itself is deleted from the broker. </p>
    <p>
      <img src="../Resources/Images/Getting-Started/guaranteed-messaging-pub.png" alt="Illustration depicting the concepts described in the surrounding text."/>
    </p>
    <h3><a name="Guarante2"/>Receiving Guaranteed Messages</h3>
    <p>Messages are delivered to consumers that are bound to the endpoints that have received the Guaranteed messages.
	Those messages are persisted on the event broker until they expire, or until the consuming client acknowledges the messages, indicating they have been consumed.
		</p>
    <p>
      <img src="../Resources/Images/Getting-Started/guaranteed-messaging-rec.png" alt="Illustration depicting the concepts described in the surrounding text."/>
    </p>
    <p class="with-rule">Now let's move on to <MadCap:xref href="topic-endpoints-queues.htm">Topic Endpoints and Queues</MadCap:xref></p>
  </body>
</html>
