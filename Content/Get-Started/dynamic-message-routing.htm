<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1><MadCap:concept term="Cloud;Appliance;Software"/>Dynamic Message Routing </h1>
    <p>Dynamic Message Routing (DMR) forwards and propagates messages between  event brokers   in an event mesh. DMR enables connected event brokers, or <i>nodes</i>, to automatically determine how to forward event messages to other nodes that have subscribers connected to them.</p>
    <p>You use DMR to create a network, or <i>event mesh</i>, that connects brokers together within a cluster (<i>horizontal scaling</i>) or between clusters (<i>multi-site scaling</i>) to exchange subscription information. Once the relationships between brokers are established by the administrator, the brokers  dynamically discover how to route messages. Client applications don't have to take any special action to publish or consume messages across the mesh. With DMR, you can move any applications within the mesh, or change the interests of those applications, and the mesh automatically updates the routing—without any intervention.</p>
    <p>Using DMR is the current best practice for setting up an event mesh, but it isn't the only way. Other commonly used technologies include<MadCap:conditionalText MadCap:conditions="SAP.SapHideFromOutput"><a href="../Features/MNR/Managing-Multi-Node-Routing-Links.htm" target="_blank" class="link-internal">Multi-Node Routing</a> and</MadCap:conditionalText> <a href="../Features/VPN/Message-VPN-Bridges-Overview.htm" target="_blank" class="link-internal">Message VPN Bridging</a>.</p>
    <h2><a name="horizontal-scaling"/>Horizontal Scaling</h2>
    <p>With horizontal scaling, you connect brokers (nodes) together to create a DMR <i>cluster</i>. DMR clusters are typically used for software and hardware event brokers at the same site. <MadCap:variable name="Product-Names.cloud_product_firstuse_initialcase"/> <MadCap:variable name="Product-Names.broker_cloud_short"/>s are usually set up as single-node cluster and don't use horizontal scaling.</p>
    <p>Each node in a cluster has a connection to every other node. These connections within the same cluster are called <i>internal links</i>; collectively, we refer to this as a "<i>full mesh</i>" of links. Within this fully-meshed cluster, each node is aware of all the others so that every event published in the network is seamlessly routed to the consuming applications.</p>
    <p MadCap:conditions="SAP.SapHideFromOutput">
      <img src="../Resources/Images/Getting-Started/DMR-cluster.png" style="width: 324px;height: 249px;" alt="Illustration depicting the concepts described in the surrounding text."/>
    </p>
    <h2><a name="multi-site-scaling"/>Multi-Site Scaling</h2>
    <p>In multi-site scaling, you connect two or more clusters together. Connections between clusters are called <i>external links</i>. Clusters may contain a single node or they may contain several nodes. If a cluster has more than one node, one node in the cluster is designated as a gateway node to send and receive messages between clusters.</p>
    <p>It is not necessary for each cluster to be connected to every other cluster in an event mesh; however, messages only propagate between directly-connected clusters. If an external link is not configured between two clusters,  messages do not pass between them.  For example, in the diagram below, messages won't pass between Cluster A and Cluster C because they are not connected.</p>
    <p>
      <img src="../Resources/Images/Getting-Started/DMR-multi-site.png" alt="Illustration depicting the concepts described in the surrounding text."/>
    </p>
    <p>For more information about DMR, see <MadCap:xref href="../Features/DMR/DMR-Overview.htm">DMR Overview</MadCap:xref>.</p>
    <p class="with-rule" MadCap:conditions="SAP.SapHideFromOutput">You should now have a basic understanding of how an event mesh works and you can move on to <MadCap:xref href="Getting-Started-Try-Broker.htm">Try [%=Product-Names.pubsub_brand_only%] Event Brokers</MadCap:xref>.</p>
    <p class="with-rule" MadCap:conditions="SAP.SapOnlyOutput">You should now have a basic understanding of how an event mesh works and you can <a href="../Cloud/ggs_signup.htm" class="link-internal">Get Started</a>.</p>
  </body>
</html>
