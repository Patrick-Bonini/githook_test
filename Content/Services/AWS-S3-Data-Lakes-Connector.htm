<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1>Connecting to AWS S3 Data Lakes  Using REST</h1>
    <p>In the 10.1.0 release of the PubSub+ event broker, you can configure a REST delivery point (RDP), to extend and produce messages into AWS S3 Data Lakes.</p>
    <h3 class="with-rule">Goals</h3>
    <p>The goal of this tutorial is to demonstrate how to set up a REST connector in a PubSub+ event broker to send messages to AWS S3 Data Lakes from a remote connection. This tutorial will show you how to:</p>
    <ul>
      <li>Configure the event broker to set up RDPs with a REST connector</li>
      <li>Send messages to an AWS S3 Data Lakes bucket using the <b>Try Me!</b> functionality built into the PubSub+ Broker Manager </li>
      <li>Review messages in the AWS S3 Data Lakes objects list</li>
    </ul>
    <h3 class="with-rule">Prerequisites</h3>
    <ul>
      <li>Solace PubSub+ Event Broker 10.1.0 or higher</li>
      <li>Access to PubSub+ Broker Manager (refer to <MadCap:xref href="../Admin/Broker-Manager/PubSub-Manager-Overview.htm">[%=Product-Names.pubsubmanager_long%]</MadCap:xref>)</li>
      <li>A preconfigured AWS S3 Data Lakes bucket </li>
    </ul>
    <h2 class="with-rule">Connecting to AWS S3 Data Lakes</h2>
    <p>The  REST Connector wizard can help you  set up and configure integrations to various cloud platforms and their services.</p>
    <p>This example shows how to integrate the PubSub+ event broker with AWS S3 Data Lakes.</p>
    <ol>
      <li>Log into the PubSub+ Broker Manager.</li>
      <li>Launch the connector <b>Click-to-Connect Wizard</b> (refer to <MadCap:xref href="../Admin/Broker-Manager/Cloud-Connector-Click-to-Connect.htm">Creating a REST Connector with Click-to-Connect</MadCap:xref>).</li>
      <li>
        <p>Click <b>Amazon AWS</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_New_Connector.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>AWS S3</b> then click <b>Authenticate</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example2.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Provide a name for the connector and enter the <b>Access Key ID</b>, <b>Access Key</b>, <b>Bucket Name</b>, and <b>Bucket Region</b> for your AWS S3 Data Lakes bucket.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example3.png" alt=""/>
        </div>
        <p class="Tip">You can get the <b>Access Key ID</b>, <b>Access Key</b>, <b>Bucket Name</b>, and <b>Bucket Region</b> from your AWS S3 console.</p>
      </li>
      <li>
        <p>Click <b>Connector Setup</b> and configure the client profile accordingly.</p>
        <p>
          <div class="thumbnail-container">
            <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example8.png" alt=""/>
          </div>
        </p>
      </li>
      <li>
        <p>Click <b>Subscription Setup</b> and set up the subscription for the messages. In this example a file name mapping function is used to convert messages to file names with a <a href="../Messaging/Substitution-Expressions-Overview.htm">substitution expression</a> that appends the current time stamp to the file name. </p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example4.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Create and Enable Connector</b>   to finalize the connector creation.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example5.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Use the PubSub+ Broker Manager <b>Try Me!</b> application to send a message. Note that the topic the message is published to matches the subscription set up previously. </p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example6.png" alt=""/>
        </div>
      </li>
      <li>
        <p>View the message in the Amazon S3 Data Lakes objects list as per the file name mapping function used above. In this case the message is a file named with the message time stamp in the <b>test-aws-s3</b> folder.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_S3_example7.png" alt=""/>
        </div>
      </li>
    </ol>
  </body>
</html>
