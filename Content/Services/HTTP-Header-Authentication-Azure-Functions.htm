<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1>Connecting to Azure Functions Using REST</h1>
    <p>In the 9.8.0 release of the PubSub+ event broker, the Click-to-Connect Wizard in the PubSub+ Broker Manager can  create REST connectors to cloud services like Azure Event Hubs, Azure Service Bus, and Azure Functions.</p>
    <p>You can trigger Azure Functions on events from a PubSub+ event broker, leveraging its REST Delivery Points (RDP)s to event enable your serverless architecture as part of your event-driven architecture (EDA) journey.</p>
    <h3 class="with-rule">Goals</h3>
    <p>The goal of this tutorial is to demonstrate how to set up an Azure Functions REST connector in a PubSub+ event broker to send messages to an Azure function from a remote connection. This tutorial will show you how to:</p>
    <ul>
      <li>Configure the event broker to set up RDPs with a REST connector</li>
      <li>Send messages to the Azure function using the <b>Try Me!</b> functionality built into the PubSub+ Broker Manager</li>
      <li>Review messages in the Azure Functions logs</li>
    </ul>
    <h3 class="with-rule">Prerequisites</h3>
    <ul>
      <li>Solace PubSub+ Event Broker 9.8.0 or higher</li>
      <li>Access to PubSub+ Broker Manager (refer to <MadCap:xref href="../Admin/Broker-Manager/PubSub-Manager-Overview.htm">[%=Product-Names.pubsubmanager_long%]</MadCap:xref>)</li>
      <li>An Azure function that responds to the messages being sent from the connector </li>
    </ul>
    <h2 class="with-rule">Connecting to Azure Functions</h2>
    <p>In the 9.8.0 release of the PubSub+ event broker, the new REST Connector wizard can help you  set up and configure integrations to various cloud platforms and their services.</p>
    <p>This example shows how to integrate the PubSub+ event broker with Azure Functions.</p>
    <ol>
      <li>
        <p>Log into the PubSub+ Broker Manager.</p>
      </li>
      <li>
        <p>Launch the connector <b>Click-to-Connect Wizard</b> (refer to <MadCap:xref href="../Admin/Broker-Manager/Cloud-Connector-Click-to-Connect.htm">Creating a REST Connector with Click-to-Connect</MadCap:xref>).</p>
      </li>
      <li>
        <p>Click <b>Microsoft Azure</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_New_Connector.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Azure Functions</b> then click <b>Authenticate</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_New_Connector_Azure.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Provide a name for this connector and fill in the <b>Azure Function URL</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example3.png" alt=""/>
        </div>
        <p class="Tip">You can get the <b>Azure Function URL</b> from the Azure console in the <b>Overview</b> section.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example4.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Connector Setup</b> and review the settings (they are auto-populated based on the <b>Azure Function URL</b> that was provided in previous step).</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example5.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Subscription Setup</b> and set up the subscription for the messages.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example6.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Create and Enable Connector</b>    to finalize the connector creation.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example7.png" alt=""/>
        </div>
      </li>
      <li>
        <p> Use the PubSub+ Broker Manager <b>Try Me!</b> application to send a message.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example8.png" alt=""/>
        </div>
      </li>
      <li>
        <p>View the message in the Azure Functions logs.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_Azure_Functions_example9.png" alt=""/>
        </div>
      </li>
    </ol>
  </body>
</html>
