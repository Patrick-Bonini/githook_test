<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head>
    </head>
  <body>
    <h1>Connecting to AWS Lambda via Amazon API Gateway Using REST</h1>
    <p>In the 9.8.0 release of the PubSub+ event broker, you can configure a REST delivery point (RDP), to extend and produce messages into various Amazon services, such as Simple Notification Service (SNS), Simple Queue Services (SQS) and Lambda, all via the Amazon API Gateway.</p>
    <h3 class="with-rule">Goals</h3>
    <p>The goal of this tutorial is to demonstrate how to set up an Amazon API Gateway REST connector in a PubSub+ event broker to send messages to a Lambda function from a remote connection. This tutorial will show you how to:</p>
    <ul>
      <li>Configure the event broker to set up RDPs with a REST connector</li>
      <li>Send messages to the Lambda function using the <b>Try Me!</b> functionality built into the PubSub+ Broker Manager </li>
      <li>Review messages in the Lambda logs</li>
    </ul>
    <h3 class="with-rule">Prerequisites</h3>
    <ul>
      <li>Solace PubSub+ Event Broker 9.8.0 or higher</li>
      <li>Access to PubSub+ Broker Manager (refer to <MadCap:xref href="../Admin/Broker-Manager/PubSub-Manager-Overview.htm">[%=Product-Names.pubsubmanager_long%]</MadCap:xref>)</li>
    </ul>
    <h2 class="with-rule">Connecting to AWS Lambda via Amazon API Gateway </h2>
    <p>In the 9.8.0 release of the PubSub+ event broker, the new REST Connector wizard can help you  set up and configure integrations to various cloud platforms and their services.</p>
    <p>This example shows how to integrate the PubSub+ event broker with AWS Lambda via an Amazon API Gateway.</p>
    <ol>
      <li>Log into the PubSub+ Broker Manager.</li>
      <li>Launch the connector <b>Click-to-Connect Wizard</b> (refer to <MadCap:xref href="../Admin/Broker-Manager/Cloud-Connector-Click-to-Connect.htm">Creating a REST Connector with Click-to-Connect</MadCap:xref>).</li>
      <li>
        <p>Click <b>Amazon AWS</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_New_Connector.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Amazon API Gateway</b> then click <b>Authenticate</b>.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example3.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Provide a name for the connector and enter the <b>API key</b> for the API Gateway.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example4.png" alt=""/>
        </div>
        <p class="Tip">You can get the API key from the AWS console in the <b>API Keys</b> section.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example5.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Provide the endpoint path of the API gateway and configure the client profile accordingly.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example7.png" alt=""/>
        </div>
        <p class="Tip">You can get the endpoint path from the AWS console in the <b>Stages</b> section.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example6.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Subscription Setup</b>and set up the subscription for the messages.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example8.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Click <b>Create and Enable Connector</b>   to finalize the connector creation.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example9.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Set up a Lambda function that responds to the messages being sent from the  connector.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example10.png" alt=""/>
        </div>
      </li>
      <li>
        <p>Use the PubSub+ Broker Manager <b>Try Me!</b> application to send a message.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example11.png" alt=""/>
        </div>
      </li>
      <li>
        <p>View the message in the lambda function logs.</p>
        <div class="thumbnail-container">
          <img class="solacethumbnail" src="../Resources/Images/C2C-Examples/RDP_to_AWS_Lambda_example12.png" alt=""/>
        </div>
      </li>
    </ol>
    <p> </p>
    <p> </p>
  </body>
</html>
