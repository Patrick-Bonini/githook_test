<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditionTagExpression="include[SnippetConditions.snpt-bm-core], exclude[SnippetConditions.snpt-bm-cloud]" MadCap:conditions="Default.HideFromAllOutput">
  <head>
    <title>Configuring Dynamic Message Routing</title>
  </head>
  <body>
    <h1><MadCap:concept term="Software"/>Configuring Dynamic Message Routing</h1>
    <p>You can configure various settings for Dynamic Message Routing (DMR) in <MadCap:variable name="Product-Names.pubsubmanager_long"/>. You can configure the settings at set-up time or after you've completed the configuration of DMR.</p>
    <p> </p>
    <h2>Configuring the Connection Retries and Time for Cluster Links in <MadCap:variable name="Product-Names.pubsubmanager_long"/></h2>
    <p>For event brokers using 10.8.1 and later, you can configure the number of retry attempts and delay time between retries for establishing a connection to the Message VPN on the remote DMR node. <MadCap:conditionalText MadCap:conditions="Default.HideFromAllOutput">As part of establishing a DMR link, a control channel and data channel are created that consists of a DMR bridge and a DMR queue.</MadCap:conditionalText></p>
    <p class="Note">For event brokers using 10.8.0 or earlier, the retry attempts and wait time default to 0 and 3 seconds, respectively and cannot be configured.</p>
    <p>Configuration of the retry attempts and delay is necessary when more attempts or time is required to establish the connection for the cluster link. For example, if there are potential latency issues between your DMR nodes (e.g., due to large geographic distances), you may want to increase the retry wait time to allow for more time to establish the connection for the cluster link.  For more information, see <MadCap:xref href="#configure-max-retries">Configuring the Maximum Retry Attempts in [%=Product-Names.pubsubmanager_short%]</MadCap:xref> and <MadCap:xref href="#configure-wait-time">Configuring the Wait Time to Before Retries in [%=Product-Names.pubsubmanager_short%]</MadCap:xref>.</p>
    <p> You also cannot configure the retry attempts or delay on the <code>#ACTIVE</code> link (or Self links).</p>
    <h3><a name="configure-max-retries"/>Configuring the Maximum Retry Attempts in <MadCap:variable name="Product-Names.pubsubmanager_short"/></h3>
    <p> To configure  the maximum number of retries to the remote  Message VPN before attempting to connect to the next alternate remote destination.  For example, if the retry count is set to 1, a total of two connection attempts is made for each alternate remote destination where you have the initial attempt and one retry.</p>
    <p>To configure the retry attempts:</p>
    <MadCap:snippetBlock src="../../Resources/Snippets/BrokerManager/Tasks/dmr-configure-link-retry-attempls.flsnp"/>
    <h3><a name="configure-wait-time"/>Configuring the Wait Time to Before Retries in <MadCap:variable name="Product-Names.pubsubmanager_short"/></h3>
    <p>You can configure the number of seconds to wait to establish a connection  to the remote  Message VPN before attempting a new connection. A value of zero indicates to use the default of three seconds.</p>
    <p>To configure the retry wait time, perform the following steps:</p>
    <MadCap:snippetBlock src="../../Resources/Snippets/BrokerManager/Tasks/dmr-configure-link-retry-delay.flsnp"/>
  </body>
</html>
