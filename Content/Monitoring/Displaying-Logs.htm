<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1><MadCap:concept term="Software;Appliance"/>Displaying and Clearing Logs</h1>
    <p>You can display the following types of Solace PubSub+ event broker logs:</p>
    <ul>
      <li>
        <MadCap:xref href="#Displaying_Logs_ACL">ACL Logs</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Displaying_Logs_Command">Command Logs</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Displaying_Logs_Event">Event Logs</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Displaying_Logs_System">System Logs</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#Displaying_Logs_No_Sub_Match">No-Subscription-Match Logs</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#REST">REST Logs</MadCap:xref>
      </li>
    </ul>
    <p>You can also clear ACL, <code>no-subscription-match</code>, or REST logs:</p>
    <ul>
      <li>
        <MadCap:xref href="#Displaying_Logs_Clearing">Clearing Event Broker Logs</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule"><a name="Displaying_Logs_ACL"/>ACL Logs</h2>
    <p>Access control lists (ACLs) are used to manage clients’ access to the Solace PubSub+ event broker and the topics to which they are permitted to publish and subscribe. For more information, refer to <MadCap:xref href="../Security/Managing-Access-Control-Lists.htm#Control-Which-Topics-Pub-Sub-To">Controlling Which Topics a Client May Publish and Subscribe To</MadCap:xref>.</p>
    <p class="Note">ACL logs are not maintained after an event broker restarts.</p>
    <p>To display the most recent 1,000 ACL log entries, enter the following User EXEC command:</p>
    <p class="Code">solace&gt; show log acl [client-connect | publish-topic | subscribe-topic] [client-username &lt;username&gt;] [message-vpn &lt;vpn-name&gt;] [wide]</p>
    <p><u>Where</u>:</p>
    <p><code>client-connect</code> shows only logs relating to client-connect ACLs.</p>
    <p><code>publish-topic</code> shows only logs relating to publish-topic ACLs.</p>
    <p><code>subscribe-topic</code> shows only logs relating to subscribe-topic ACLs.</p>
    <p><code>client-username &lt;username&gt;</code> specifies the client username. This value may contain wildcards.</p>
    <p><code>message-vpn &lt;vpn-name&gt;</code> is the Message VPN name. The wildcards * or ? may be used.</p>
    <p><code>wide</code> generates the output log in a wide format.</p>
    <h2 class="with-rule"><a name="Displaying_Logs_Command"/>Command Logs</h2>
    <p>Command logs capture information about Solace PubSub+ event broker commands issued by users. For more information, refer to <MadCap:xref href="Monitoring-Events-Using-Syslog.htm#Managing2">Managing Command Logging</MadCap:xref>.</p>
    <p>To display access user command logs, enter the following User EXEC command:</p>
    <p class="Code">solace&gt; show log command [lines &lt;num-lines&gt;] [find &lt;search-string&gt;]</p>
    <p><u>Where</u>:</p>
    <p><code>lines &lt;num-lines&gt;</code> specifies the number of lines to read. The default is 1000.</p>
    <p><code>find &lt;search-string&gt;</code> specifies a string to use as a filter. No filtering is applied by default.</p>
    <h2 class="with-rule"><a name="Displaying_Logs_Event"/>Event Logs</h2>
    <p>To display Solace PubSub+ event broker event logs, enter the following User EXEC command:</p>
    <p class="Code">solace&gt; show log event [lines &lt;num-lines&gt;] [find &lt;search-string&gt;]</p>
    <p><u>Where</u>:</p>
    <p><code>lines &lt;num-lines&gt;</code> specifies the number of lines to read. The default is 1000.</p>
    <p><code>find &lt;search-string&gt;</code> specifies a string to use as a filter. No filtering is applied by default.</p>
    <h2 class="with-rule"><a name="Displaying_Logs_System"/>System Logs</h2>
    <p>System logs are a subset of event broker event logs that are duplicated into <code>system.log</code>. This provides a method for logging important system events in high‑event environments. The <MadCap:xref href="PubSub-Event-Reference.htm" style="font-style: normal;">Solace PubSub+ Event Reference</MadCap:xref> specifies which events are duplicated into <code>system.log</code>.</p>
    <p>To display Solace PubSub+ event broker system logs, enter the following User EXEC command:</p>
    <p class="Code">solace&gt; show log system [lines &lt;num-lines&gt;] [find &lt;search-string&gt;]</p>
    <p><u>Where</u>:</p>
    <p><code>lines &lt;num-lines&gt;</code> specifies the number of lines to read. The default is 1000.</p>
    <p><code>find &lt;search-string&gt;</code> specifies a string to use as a filter. No filtering is applied by default.</p>
    <h2 class="with-rule"><a name="Displaying_Logs_No_Sub_Match"/>No-Subscription-Match Logs</h2>
    <p>When a client publishes Direct or Guaranteed messages, a <code>no-subscription-match</code> statistic is logged for each message that doesn't match a topic subscription.</p>
    <p class="Note">Messages that match a configured sequenced topic aren't recorded as a <code>no-subscription-match</code> even if they don't match a subscription. All other messages that don't match subscriptions are logged, including messages that only match a replicated topic subscription.</p>
    <p>To display the most recent 1000 <code>no-subscription-match</code> logs, enter the following User EXEC command:</p>
    <p class="Code">solace&gt; show log no-subscription-match [client-username &lt;username&gt;][client-name &lt;name&gt;] [message-vpn &lt;vpn-name&gt;] [wide]</p>
    <p><u>Where</u>:</p>
    <p><code>client-username &lt;username&gt;</code> specifies show only logs for the given client username.  A username can contain  up to 189 printable ASCII characters (that is, characters in the range 0x20 – 0x7e)  and is case-sensitive. The provided username may contain the wildcards <code>*</code> or <code>?</code>.</p>
    <p><code>client-name &lt;name&gt;</code> specifies to show only logs for a client matching the given name. </p>
    <p><code>message-vpn &lt;vpn-name&gt;</code> is the Message VPN name.</p>
    <p><code>wide</code> outputs the log in a wide format.</p>
    <div class="Note">
      <ul>
        <li><code>no-subscription-match</code> logs aren't maintained after an event broker restarts.</li>
        <li>For a username, client name, or Message VPN name, you can enter a full name, or part of a name, with either the wildcard character <code>?</code> used to represent one character of the name, or the wildcard character <code>*</code> used to represent zero or more characters of the name, where entering only the wildcard character <code>*</code> for the name displays all clients.</li>
      </ul>
    </div>
    <h2 class="with-rule"><a name="REST"/>REST Logs</h2>
    <p>To display Solace PubSub+ event broker REST logs, enter the following User EXEC command:</p>
    <p class="Code">solace&gt; show log rest [rest-delivery-point] [errors] [wide]</p>
    <p><u>Where</u>:</p>
    <p><code>rest-delivery-point</code> show logs for REST Delivery Points.</p>
    <p><code>errors</code> show logs for error responses.</p>
    <p><code>wide</code> outputs the log in a wide format.</p>
    <h2 class="with-rule"><a name="Displaying_Logs_Clearing"/>Clearing Event Broker Logs</h2>
    <p>To clear ACL, no-subscription-match, or REST logs, enter the following Privileged EXEC command:</p>
    <p class="Code">solace# clear log [acl][no-subscription-match][rest]</p>
    <p><u>Where</u>:</p>
    <p><code>acl</code> clears the current ACL log entries</p>
    <p><code>no-subscription-match</code> clears any no-subscription-match log entries</p>
    <p><code>rest</code> clears  REST log entries</p>
  </body>
</html>
