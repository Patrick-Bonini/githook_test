<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1><MadCap:concept term="Software;Appliance"/>Customizing Event Generation</h1>
    <p>You can make the following customizations to the generation of Solace PubSub+ event broker events:</p>
    <ul>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_254890">Customizing Event Severity Levels and the Message VPN to Publish To</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_254897">Configuring a Log Tag for Message VPN Events</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_254904">Modifying the Syslog Timestamp Format</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_254890">
            </a>Customizing Severity Levels &amp; Publication Message VPN</h2>
    <p>You may configure the severity level for system events and each Message VPN‑scoped events (that is, Message VPN, client, and subscription events). For Message VPN‑scoped events, it is also possible to configure which Message VPN the events will be published to.</p>
    <p>To customize the event generation, you must edit the <code>eventConfiguration.initrc</code> file found in the <code>/configs</code> subdirectory on the event broker (<code>/usr/sw/jail/configs/eventConfiguration.initrc</code>). The instructions for customizing the event settings are included in this file. </p>
    <p>To apply your changes immediately, run the following script after modifying the <code>eventConfiguration.initrc</code> file:</p>
    <p class="Code">
      <code>/usr/sw/loads/currentload/scripts/apply-event-configuration</code>
    </p>
    <p>Your changes will be maintained after any future software upgrades.</p>
    <p>You should note that <code>apply-event-configuration</code> only makes changes based on entries in <code>eventConfiguration.initrc</code>. If you want to reset the severity of log entries back to the default, you must either:</p>
    <ul>
      <li>Insert the default severity into <code>eventConfiguration.initrc</code> and execute <code>apply-event-configuration</code>.</li>
      <p>or</p>
      <li>Remove the custom severity from <code>eventConfiguration.initrc</code> and then reboot your event broker.</li>
    </ul>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_254897">
            </a>Configuring a Log Tag for Message VPN Events</h2>
    <p>To configure a custom log identification tag as a prefix for events generated against a particular Message VPN, enter the following CONFIG command:</p>
    <p class="Code">solace(configure/message-vpn/event)# log-tag &lt;tag-string&gt;</p>
    <p><u>Where</u>:</p>
    <p><code>&lt;tag-string&gt;</code> is the custom log identification tag with no spaces, question marks (?), or single (‘’) or double (“”) quotes. It can contain up to 32 alphanumeric characters and must be unique among all created Message VPNs. The default is empty, that is, there is no custom log identification tag.</p>
    <p>The no version of the command (<code>no log-tag</code>) deletes a custom log identification tag from the Message VPN and sets the tag string back to the default.</p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_254904">
            </a>Modifying the Syslog Timestamp Format</h2>
    <p>By default, software syslog events are recorded with the following ISO 8601 timestamp format:</p>
    <div class="indent">
      <code>YYYY-MM-DDTHH:MM:SS+/-HHMM</code>
    </div>
    <div class="indent"><u>Where</u>:</div>
    <div class="indent"><code>+/-HHMM</code> is the format of the time zone offset.</div>
    <div class="indent"><u>Example</u>:</div>
    <div class="indent">
      <code>2014-02-09T15:47:52+0500</code>
    </div>
    <p>However, you can change the timestamp format to include milliseconds. The millisecond timestamp format is <code>YYYY-MM-DDTHH:MM:SS.MilliSec+/-HH:MM</code></p>
    <div class="indent"><u>Example</u>: </div>
    <div class="indent">
      <code>2014-02-09T15:47:52.125+05:00</code>
    </div>
    <p>To enable millisecond timestamps for logging records, use the following CONFIG command:</p>
    <p class="Code">solace(configure)# logging<br/>solace(configure/logging)# millisecond-timestamp</p>
    <p>The no version of this command (<code>no millisecond-timestamp</code>) resets the logging record timestamp format to the default format.</p>
    <p class="Note" MadCap:autonum="&lt;b&gt;Note:  &lt;/b&gt;">To minimize the performance impact of publishing subscribe and unsubscribe event messages, timestamps are not included in the message text for these event types.</p>
    <p class="Note" MadCap:autonum="&lt;b&gt;Note:  &lt;/b&gt;">This command only changes the local logging format. It doesn't affect logs that are forwarded to external syslog servers.</p>
  </body>
</html>
