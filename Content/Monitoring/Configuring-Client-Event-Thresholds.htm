<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1><MadCap:concept term="Software;Appliance"/>Configuring Client Event Thresholds</h1>
    <p>You can configure the set and clear thresholds that control when any of the following client events are generated for a specific client profile:</p>
    <ul>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255777">Client-Provisioned Endpoint Spool Usage Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255787">Connections Per Client Username Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255805">Egress Flows Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255823">Endpoints Per Client Username Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255842">Ingress Flows Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255860">Client Username Service Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255919">Subscriptions Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255937">Transacted Sessions Thresholds</MadCap:xref>
      </li>
      <li>
        <MadCap:xref href="#montoring_and_management_1462237600_255955">Transactions Thresholds</MadCap:xref>
      </li>
    </ul>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255777"/>Spool Usage Thresholds for Client-Provisioned Endpoints</h2>
    <p>To configure the threshold values that determine when to generate events for the amount of message spool used by all endpoints provisioned by clients using the given client profile, enter the following commands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# client-provisioned-endpoint-spool-usage thresholds {{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>The no version of the command, <code>no client-provisioned-endpoint-spool-usage thresholds</code>, resets event generation for message spool usage by client-provisioned endpoints back to the default values.</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage of the maximum spool usage for all client-provisioned endpoints. The valid range is from 0 to 100. </p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold value expressed as a percentage of the maximum spool usage for all client-provisioned endpoints. The valid range is from 0 to 100. </p>
    <MadCap:snippetBlock src="../Resources/Snippets/link-to-max-spool-values.flsnp"/>
    <p class="Note">
Changing these values during event broker operation does not affect existing sessions. They are only validated at session establishment time.
        </p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255787"/>Connections Per Client Username Thresholds</h2>
    <MadCap:snippetBlock src="../Resources/Snippets/CoreForSAP/connections-per-dlient-username-thresholds.flsnp"/>
    <p>For information on setting the max-egress-flows for a client profile, see <MadCap:xref href="../Security/Configuring-Client-Profiles.htm#Config-Max-Connects-Username">Configuring the Max Connections Per Username</MadCap:xref>.
        </p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255805"/>Egress Flows Thresholds</h2>
    <p>To configure the threshold values that determine when to generate events for the number of egress flows (that is, Guaranteed message client consumer flows) established for clients using the given client profile, enter the followingcommands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# egress-flows thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value.</p>
    <p><code>&lt;clear-value&gt;</code> is a clear threshold expressed as a count value.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of egress flows that can be created by a single client associated with the client profile. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold percentage (from 0 to 100) expressed as a percentage of the value set through the <a href="../Security/Configuring-Client-Profiles.htm#Config-Max-Egress" class="link-internal">Max Number of Egress Flows Permitted</a>. The default is 60.</p>
    <p>The no version of the command, <code>no egress-flows thresholds</code>, resets event generation for the maximum number of egress flows per client back to the default values.</p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255823"/>Endpoints Per Client Username Thresholds</h2>
    <p>You can configure the threshold values that determine when to generate events for the number of endpoints owned by clients using the given client profile and the same client username. (The owned endpoints can be durable and non-durable queues and/or topic endpoints.)</p>
    <p>To configure the endpoints-per-client-username thresholds for the given client profile, enter the following commands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# endpoints-per-client-username thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value.</p>
    <p><code>&lt;clear-value&gt;</code> is the clear threshold expressed as a count value.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of durable and non-durable endpoints that can be owned by the clients using the same client username within a client profile. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold value expressed as a percentage (from 0 to 100) of the maximum number of durable and non-durable endpoints that can be owned by the clients using the same client username within a client profile. The default value is 60.</p>
    <p>The no version of the command, <code>no endpoints-per-client-username thresholds</code>, resets event generation for the maximum number of endpoints a client can own back to the default values.</p>
    <p>
           For information on setting the max-endpoints-per-client-username, see <MadCap:xref href="../Security/Configuring-Client-Profiles.htm#Config-Max-Connects-Username">Configuring the Max Connections Per Username</MadCap:xref>.
        </p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255842"/>Ingress Flows Thresholds</h2>
    <p>To configure the threshold values that determine when to generate events for the number of ingress flows (that is, Guaranteed message client producer flows) established for clients using the given client profile, enter the following commands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# ingress-flows thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value.</p>
    <p><code>&lt;clear-value&gt;</code> is the clear threshold expressed as a count value.</p>
    <p><code>&lt;set-percentage</code>&gt; is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of ingress flows that can be created by a single client associated with this client profile. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold percentage expressed as a percentage (from 0 to 100) of the maximum number of ingress flows that can be created by a single client associated with this client profile. The default value is 60.</p>
    <p>The no version of the command, <code>no max-ingress-flows</code>, resets event generation for the maximum number of ingress flows per client back to the default values.</p>
    <p>
         For information on setting the max-ingress-flows for a client profile, see <MadCap:xref href="../Security/Configuring-Client-Profiles.htm#Config-Max-Ingress">Configuring the Max Ingress Flows Permitted</MadCap:xref>.
        </p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255860"/>Client Username Service Thresholds</h2>
    <p>You can configure the connections-per-client-username thresholds that define when the event broker should generate events separately for:</p>
    <ul>
      <li>SMF clients using the same client username that simultaneously connect to the event broker.</li>
      <p>Refer to <MadCap:xref href="#montoring_and_management_1462237600_255877">SMF Connections Per Client Username</MadCap:xref>.</p>
      <li>Web transport clients using the same client username that simultaneously connect to the event broker.</li>
      <p>Refer to <MadCap:xref href="#montoring_and_management_1462237600_255898">Web Transport Connections Per Client Username</MadCap:xref>.</p>
    </ul>
    <h3><a name="montoring_and_management_1462237600_255877"/>SMF Connections Per Client Username</h3>
    <p>To configure the threshold values that determine when to generate events for the SMF transport clients using the given client profile and the same client username that simultaneously connect to the event broker, enter the following commands:</p>
    <p class="Code">solace(configure/client-profile/event/service)# smf<br/>solace(...gure/client-profile/event/service/smf)# connections-per-client-username<br/>solace(...e/smf/connections-per-client-username)# thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value. The valid range is from 0 to the maximum total number of SMF clients that can be supported by the type of event broker (for example, 3530 or 3560) and the version of NAB used.</p>
    <p><code>&lt;clear-value&gt;</code> is the clear threshold expressed as a count value. The valid range is from 0 to the maximum total number of SMF clients that can be supported by the type of event broker and the version of NAB used.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of SMF clients using the same client username that may simultaneously connect to the event broker. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold value expressed as a percentage (from 0 to 100) of the maximum number of SMF clients using the same client username that may simultaneously connect to the event broker. The default value is 60.</p>
    <p>The no version of this command, <code>no thresholds</code>, resets event generation for SMF connections in a client profile back to the default values.</p>
    <p>To view the maximum total number of SMF client connections that can be supported, enter the <code>show service</code> User EXEC command</p>
    <p>
           For information on how to set the maximum number of SMF clients using the same client username that may simultaneously connect to the event broker, see <MadCap:xref href="../Security/Configuring-Client-Profiles.htm">Configuring Client Profiles</MadCap:xref>.
        </p>
    <h3><a name="montoring_and_management_1462237600_255898"/>Web Transport Connections Per Client Username</h3>
    <p>To configure the threshold values that determine when to generate events for the Web transport clients using the given client profile and the same client username that simultaneously connect to the event broker, enter the following commands:</p>
    <p class="Code">solace(configure/client-profile/event)# service web-transport<br/>solace(...t-profile/event/service/web-transport)# connections-per-client-username <br/>solace(...sport/connections-per-client-username)#thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value. The valid range is from 0 to the maximum total number of Web clients that can be supported by the type of event broker (for example, 3530 or 3560) and the version of NAB used.</p>
    <p><code>&lt;clear-value&gt;</code> is the clear threshold expressed as a count value. The valid range is from 0 to the maximum total number of Web clients that can be supported by the type of event broker and the version of NAB used.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of Web clients using the same client username that may simultaneously connect to the event broker. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold value expressed as a percentage (from 0 to 100) of the maximum number of Web clients using the same client username that may simultaneously connect to the event broker. The default value is 60.</p>
    <p>The no version of the command, <code>no thresholds</code>, resets event generation for Web connections in a client profile back to the default values.</p>
    <p>To view the maximum total number of Web client connections that can be supported, enter the <code>show service</code> User EXEC command.</p>
    <p>For information on how to set the maximum number of Web clients using the same client username that may simultaneously connect to the event broker, see <MadCap:xref href="../Features/VPN/Configuring-VPNs.htm#managing_message_vpns_884140110_411272">Configuring Max Web Client Connections</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255919"/>Subscriptions Thresholds</h2>
    <p>To configure the threshold values that determine when to generate events for the number of subscriptions allowed for a Message VPN, enter the following commands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# subscriptions thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value.</p>
    <p><code>&lt;clear-value&gt;</code> is the clear threshold expressed as a count value.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of subscriptions for a single client in a client profile. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold value expressed as a percentage (from 0 to 100) of the maximum number of subscriptions for a single client in a client profile. The default value is 60.</p>
    <p>The no version of the command, <code>no subscriptions thresholds</code>, resets event generation for subscription count in a client profile back to the default values.</p>
    <p>For information on setting the max-subscriptions, see <MadCap:xref href="../Security/Configuring-Client-Profiles.htm#Config-Max-Subscriptions">Configuring the Max Permitted Subscriptions</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="montoring_and_management_1462237600_255937"/>Transacted Sessions Thresholds</h2>
    <p>To configure the threshold values that determine when to generate events for the number of simultaneous transacted sessions (that is, local transacted sessions) and/or XA Sessions established per a client using the given client profile, enter the following  commands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# transacted-sessions thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is the set threshold expressed as a count value.</p>
    <p><code>&lt;clear-value&gt;</code> is a clear threshold expressed as a count value.</p>
    <p><code>&lt;set-percentage&gt;</code> is the set threshold value expressed as a percentage (from 0 to 100) of the maximum number of transacted sessions allowed per client by a client profile. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold percentage expressed as a percentage (from 0 to 100) of the maximum number of transacted sessions allowed per client by a client profile. The default value is 60.</p>
    <p>The no version of the command, <code>no transacted-sessions thresholds</code>, resets event generation for the maximum number of simultaneous transacted sessions allowed for clients back to the default values.</p>
    <p>For information on setting the max-transacted-sessions, see <MadCap:xref href="../Security/Configuring-Client-Profiles.htm#Max-Transacted-Sess">Configuring the Max Number of Transacted Sessions</MadCap:xref>.</p>
    <h2 class="with-rule"><a name="transaction-thresholds"/>Transactions Thresholds</h2>
    <p>To configure the threshold values that determine when to generate events for the total number of simultaneous transactions (both local transactions and transactions within XA transaction branches) per client using the given client profile, enter the following commands:</p>
    <p class="Code">solace(configure)# client-profile &lt;name&gt; message-vpn &lt;vpn‑name&gt;<br/>solace(configure/client-profile)# event<br/>solace(configure/client-profile/event)# transactions thresholds {{[set-value &lt;set-value&gt;] [clear-value &lt;clear-value&gt;]}|{[set-percentage &lt;set-percentage&gt;][clear-percentage &lt;clear-percentage&gt;]}}</p>
    <p>Where:</p>
    <p><code>&lt;name&gt;</code> is an existing client profile name.</p>
    <p><code>&lt;vpn-name&gt;</code> is the name of the Message VPN that the client profile belongs to. It must already exist.</p>
    <p><code>&lt;set-value&gt;</code> is a set threshold expressed as a count value.</p>
    <p><code>&lt;clear-value&gt;</code> is a clear threshold expressed as a count value.</p>
    <p><code>&lt;set-percentage&gt;</code> is a set threshold value from 0 to 100, set as a percentage of the maximum number of simultaneous transactions allowed for the event broker. The default value is 80.</p>
    <p><code>&lt;clear-percentage&gt;</code> is a clear threshold percentage from 0 to 100, set as a percentage of the maximum number of simultaneous transactions allowed for the event broker. The default value is 60.</p>
    <p>The no version of this command, <code>no transactions thresholds</code>, resets the transactions event thresholds back to the default values.</p>
  </body>
</html>
