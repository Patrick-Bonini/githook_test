<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
  <head/>
  <body>
    <h1><MadCap:concept term="Software;Appliance"/>Configuring the Log File Retention Policy</h1>
    <p>By default, PubSub+ <MadCap:variable name="Product-Names.broker_sw_short"/>s capture and rotate SolOS syslog files based on the size of the log files themselves. This can result in the broker retaining logs for a considerable amount of time, especially when there is minimal log churn. Such stale logs can represent a security concern when they contain personal data. You can instead configure the broker to retain logs for a maximum number of days, after which the log data will be deleted. This could be used  to comply with GDPR  legislation  that prohibits the retention of personal data for indeterminate periods of time. The actual period that logs are retained for is subject to availability of disk space.</p>
    <div class="Caution">
      <p>Because SolOS syslog files are used to troubleshoot system issues, shortening the retention period may make it more difficult to determine the cause of issues after the fact.</p>
    </div>
    <p>To configure the log file retention policy, enter the following CLIÂ commands:</p>
    <p class="Code">solace(configure)# logging<br/>solace(configure/logging)# retention {days &lt;max-num-days&gt; | max-size}</p>
    <p><u>Where</u>:</p>
    <p><code>days &lt;max-num-days&gt;</code> sets the log retention policy to day based. In other words, this configures the broker to retain log files for a maximum number of days specified by the <code>max-num-days</code> value (the actual period that logs are retained for is subject to availability of disk space). The valid range of values is 2 to 90. Note that when there is heavy log output, multiple log files may be necessary to contain the logs for a single day. In this case, the effective number of days the logs are retained will be less than the configured <code>max-num-days</code>.</p>
    <p><code>max-size</code> sets the log retention policy to size based (the default broker setting). For more information, see <MadCap:xref href="Monitoring-Events-Using-Syslog.htm#managing_cli_user_authentication_and_authorization_1602666776_190469">Logging Capacity</MadCap:xref>.</p>
    <p>The no version of this command, <code>no retention</code>, resets the value to the default (<code>max-size</code>).</p>
    <div class="Note">
      <p>When you change the retention policy to day based, SolOS does not automatically delete logged messages that may be older than what the new retention policy specifies. If this is a requirement, you must manually delete the older log files. For further guidance, <a href="../get-support.htm" class="link-internal">contact Solace</a>.</p>
    </div>
  </body>
</html>
