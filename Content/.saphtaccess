# SAP-specific HTACCESS file.
# Docs .htaccess File. Primarily used for controlling redirects to obsolete pages.
# This .htaccess file is designed to reside in the root directory of the Help directory.
# Specific .htaccess files may later be created for sub-directories and their children. At 
# present, only this single .htaccess is used at the root directory.
#
# When you add a new redirect:
# 1. Search this file to determine whether your source URL is already a target for one or more existing redirects. If it is, replace the old target with your new one in each instance (leave the source URLs in place).
# 2. Insert the new redirect in alphabetical order according to the source file.
#
#
# Page REDIRECTS
#######################################################################################
# Redirects of old file paths to new file paths using 301
# redirect 301 /current/currentfile.html https://www.newdomain.com/new/newfile.html

# These are from the product so we need these.
redirect 301 /Cloud/configure-oauth-for-broker-services.html https://help.pubsub.em.services.cloud.sap/Cloud/configure-oauth-for-broker-services.htm
redirect 301 /Cloud/Deployment-Considerations/aws_transit_gateway_CA.htm /Cloud/Deployment-Considerations/dedicated-networking-options.htm
redirect 301 /Cloud/Deployment-Considerations/k8s-deployment-questions.htm /Cloud/Deployment-Considerations/checklist-customer-controlled.htm
redirect 301 /Cloud/Deployment-Considerations/Solace-controlled-deployment-questions.htm /Cloud/Deployment-Considerations/checklist-solace-controlled.htm
redirect 301 /Cloud/Insights/insights-servicelevel.htm#understand-metrics /Cloud/Insights/insights-servicelevel.htm
redirect 301 /Cloud/Insights/insights-servicelevel.htm#understanding-visualizations /Cloud/Insights/insights-servicelevel.htm
redirect 301 /Solace-Cloud.htm /Cloud/What-Is-PubSub-Cloud.htm
redirect 301 /Solace-Cloud/Event-Portal/designing-managing-events.htm /Cloud/Event-Portal/event-portal-designer.htm
redirect 301 /Solace-Cloud/Event-Portal/Discovering-Events-and-EDAs.htm /Cloud/Event-Portal/event-portal-discovery.htm
redirect 301 /Solace-Cloud/Event-Portal/Event-Portal.htm https://help.pubsub.em.services.cloud.sap/Cloud/Event-Portal/event-portal.htm
redirect 301 /Solace-Cloud/Event-Portal/Event-Portal-Tutorials.htm /Cloud/Event-Portal/designing-managing-events.htm
redirect 301 /Solace-Cloud/Insights/Advanced-Monitoring/content-release-notes.htm /Release-Notes/PubSub-Cloud-Release-Notes.htm


######################################################################################
# Directory redirects
######################################################################################
# Allow mod_rewrite rules (lets RedirectMatch command work)
RewriteEngine on

######################################################################################
# Redirect everything in folder xyz to the matching filename at domain.com
# RedirectMatch 301 /dir/xyz/(.*) http://domain.com/$1
#
# Redirect everything in folder xyz to a single file
# RedirectMatch 301 /dir/xyz/(.*) http://domain.com/target-file.htm
#
#######################################################################################

# RedirectMatch 301 /Solace-Cloud/(.*) /Cloud/$1

# Custom Error Pages
######################################################################################
 
# Not using these yet.
#ErrorDocument 401 /nopasswd.html
#ErrorDocument 403 /error_pages/forbidden.html

ErrorDocument 404 https://help.pubsub.em.services.cloud.sap/Not-Found.htm
php_flag display_errors 1