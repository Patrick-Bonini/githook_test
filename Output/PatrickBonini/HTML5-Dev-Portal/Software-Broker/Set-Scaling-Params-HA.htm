<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="PubSub+ Software Event Broker|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Scaling Up an Existing HA&#xA0;Group</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a xmlns="" name="Scaling_Up_an_Existing_HA&#xA0;Group" data-mc-generated-bookmark="TOC"/><a xmlns="" name="aanchor371"/><MadCap:concept term="Software"/>Scaling Up an Existing HA&#xA0;Group</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This section shows you the steps to increase the scaling parameters for the primary and backup software event brokers in a high-availability (HA) group using the <span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span> .</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"> This procedure changes system-wide scaling parameters. Upon completion, you may need to modify other parameters for individual Message VPNs. For example, you may need to modify the maximum number of client connections permitted for a specific Message VPN (<a href="../Features/VPN/Configuring-VPNs.htm#Max-Connections" class="MCXref xref">Configuring Maximum Connections</a>) or for a specific client profile (see <a href="../Security/Configuring-Client-Profiles.htm#Config-Max-Connects-Username" class="MCXref xref">Configuring Max Connections Per Username</a>). For more information, see <a href="../Features/VPN/Configuring-VPNs.htm" class="MCXref xref">Configuring Message VPNs</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">System scaling parameters can only be increased. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">This procedure is service affecting. To change system scaling parameters other than <code>max-subscriptions</code> or the Kafka scaling parameters (Kafka bridges or Kafka broker connections), you must shut down the <code>message backbone</code> and <code>message spool</code>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The following steps show you how to increase the scaling parameters for event brokers for both the primary and backup: </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <a href="#Review" class="MCXref xref">Step 1: Review System Resource Requirements and HA Status</a>
                              </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <a href="#Increasi" class="MCXref xref">Step 2: Increase the Value of the Scaling Parameters</a>
                              </p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a xmlns="" name="Step_1__Review_System_Resource_Requirements_and_HA_Status" data-mc-generated-bookmark="TOC"/><a name="Review"/>Step 1: Review System Resource Requirements and HA Status</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Before you increase the value of any scaling parameters of your brokers:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li> Ensure that you can adequately provision your system for the new scaling parameter values. See <a href="System-Resource-Requirements.htm" class="MCXref xref">System Resource Requirements</a> for details about the available tiers and  the required resources for each one. </li>
                                <li>Verify that HA is operationally up on all event brokers in the HA group and that the Activity Status for each event broker is correct. You can use the <code>show redundancy</code> command to check operational states.</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For example, if you have two brokers in an HA pair, where <code>solace-primary</code> is the primary and <code>solace-backup</code> is the backup, the output of the <code>show redundancy</code> command looks similar to the following for the primary broker:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">solace-primary# show redundancy 

Configuration Status     : Enabled
Redundancy Status        : Up
Operating Mode           : Message Routing Node
Switchover Mechanism     : Hostlist
Auto Revert              : No
Redundancy Mode          : Active/Standby
Active-Standby Role      : Primary
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router
                               ----------------------  ----------------------
Activity Status                Local Active            Shutdown
Routing Interface              intf0:1                 intf0:1
Routing Interface Status       Up                      
VRRP Status                    Initialize              
VRRP Priority                  250                     
Message Spool Status           AD-Active               
Priority Reported By Mate      Standby</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The output of the <code>show redundancy</code> command looks similar to the following for the backup broker:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">solace-backup# show redundancy 

Configuration Status     : Enabled
Redundancy Status        : Up
Operating Mode           : Message Routing Node
Switchover Mechanism     : Hostlist
Auto Revert              : No
Redundancy Mode          : Active/Standby
Active-Standby Role      : Backup
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router
                               ----------------------  ----------------------
Activity Status                Shutdown                Mate Active
Routing Interface              intf0:1                 intf0:1
Routing Interface Status                               Up
VRRP Status                                            Initialize
VRRP Priority                                          100
Message Spool Status                                   AD-Standby
Priority Reported By Mate                              Active</pre>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a xmlns="" name="Step_2__Increase_the_Value_of_the_Scaling_Parameters" data-mc-generated-bookmark="TOC"/><a name="Increasi"/>Step 2: Increase the Value of the Scaling Parameters</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The primary and backup event brokers within an HA group must be configured to use the same system scaling parameters. If this is misconfigured, the HA group will not work properly. You can use the <code>show redundancy</code> command to check operational states.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For replicated sites, the primary and replication event broker sites should have the same resources and  maximum number of client connections.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <ul>
                                  <li>Scaling parameters are not automatically synchronized. For further information, refer to <a href="../Features/Config-Sync/Configuring-Config-Sync.htm" class="MCXref xref">Config-Sync Configuration</a>.</li>
                                  <li>This procedure changes system-wide scaling parameters. After completing this procedure, you can then modify other parameters for specific Message VPNs (for example, <a href="../Features/VPN/Configuring-VPNs.htm#Max-Connections" class="MCXref xref">Configuring Maximum Connections</a>) or for clients using a specific client profile (see <a href="../Security/Configuring-Client-Profiles.htm#Config-Services" class="MCXref xref">Configuring Services</a>).</li>
                                </ul>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In the steps that follow, <code>solace-primary</code> is the primary event broker, and <code>solace-backup</code> is the backup event broker.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To increase the value of a system scaling parameter for an HA group, perform the following steps:</p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">On the primary event broker, in the <a href="Access-Solace-CLI.htm" class="link-internal"><span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span></a>, enter the <code>show system detail</code> command to review the current scaling values. You can also review the memory, cores, and storage requirements that correspond to the requirements output from the system resource calculator (see <a href="System-Resource-Calculator.htm" class="MCXref xref">System Resource Calculator</a>). This command helps you evaluate if additional resources must be added:            <pre xml:space="preserve">solace-primary&gt; show system detail

System Uptime: 1d 0h 45m 21s
Last Restart Reason: User request

<span style="color: #ff0000;">Scaling:
   Max Bridges: 25
   Max Connections: 100
   Max Queue Messages: 100M
   Max Kafka Bridges: 0
   Max Kafka Broker Connections: 0
   Max Subscriptions:&#xA0;500000</span>

Topic Routing:
   Subscription Exceptions: Enabled
   Subscription Exceptions Defer: Enabled

System Resources for Virtual Machine

System Resource                   Available    Required     Units
--------------------------------- ------------ ------------ ----------
CPU
  Cores                           2            2
Memory
---Press any key to continue, or `q' to quit---
  RAM                             5.0          4.0          GiB
Storage Devices
  /dev/dm-0                       9.8 Mi       12.9 Mi      1K-Blocks
    contains: spool-cache
    contains: spool-cache-backup
    contains: config
    contains: diagnostics
    contains: jail
    contains: spool
    contains: var
  /dev/dm-6                       6.0 Mi       1.4 Mi       1K-Blocks
    contains: root
</pre></li>
                                <li value="2">On the backup event broker, shut down the message backbone service and message
spool:
			<p class="Note">If you are increasing <code>max-subscriptions</code> or the Kafka scaling parameters (Kafka bridges or Kafka broker connections), you do not need to shut down the <code>msg-backbone</code> or <code>message-spool</code>.</p><pre>solace-backup(configure)# service msg-backbone shutdown
All clients will be disconnected.
Do you want to continue (y/n)? y
solace-backup(configure)# hardware message-spool shutdown
All message spooling will be stopped.
Do you want to continue (y/n)? y
</pre></li>
                                <li value="3">On the primary event broker, shut down the message backbone service and message spool:
            <p class="Note">If you are increasing <code>max-subscriptions</code> or the Kafka scaling parameters (Kafka bridges or Kafka broker connections), you do not need to shut down the <code>msg-backbone</code> or <code>message-spool</code>.</p><pre xml:space="preserve">solace-primary(configure)# service msg-backbone shutdown
All clients will be disconnected.
Do you want to continue (y/n)? y
solace-primary(configure)# hardware message-spool shutdown
All message spooling will be stopped.
Do you want to continue (y/n)? y
</pre></li>
                                <li value="4">On the primary event broker, update the required system scaling parameter.
            <p>You can increase the values of the following system scaling parameters:</p><ul><li><a href="System-Scaling-Parameters.htm#max-client-connections" class="link-internal">maximum number of client connections</a> (using the <code>max-connections &lt;connection-limit&gt;</code> command)</li><li><a href="System-Scaling-Parameters.htm#max-queue-messages" class="link-internal">maximum number of queue messages</a> (using the <code>max-queue-messages &lt;max-messages-in-millions&gt;</code> command)</li><li><a href="System-Scaling-Parameters.htm#max-vpn-bridges" class="link-internal">maximum number of VPN&#xA0;bridges</a> (using the <code>max-bridges &lt;max-bridges&gt;</code> command)</li><li><a href="System-Scaling-Parameters.htm#max-subscriptions" class="link-internal">maximum number of subscriptions</a> (using the <code>max-subscriptions &lt;max-subscriptions&gt;</code> command)</li><li><a href="System-Scaling-Parameters.htm#max-kafka-bridges" class="link-internal">maximum number of Kafka bridges</a> (using the <code>max-kafka-bridges &lt;max-kafka-bridges&gt;</code> command)</li><li><a href="System-Scaling-Parameters.htm#max-kafka-broker-connections" class="link-internal">maximum number of Kafka broker connections</a> (using the <code>max-kafka-broker-connections &lt;max-kafka-broker-connections&gt;</code> command)</li></ul><p>For example, Step 1 shows that the initial value of the client connection limit is 100. To increase the connection limit to 1,000, enter the following commands:</p><pre xml:space="preserve">solace-primary(configure)# system
solace-primary(configure/system)# scaling
solace-primary(configure/system/scaling)# max-connections 1000</pre><p class="Note">Changing the value of system scaling parameters causes the system to reload, stopping the container. In machine images, the container automatically restarts. For container images, you may need to manually restart the container, depending on the restart policy of your container runtime.</p></li>
                                <li value="5">Restart the container if required, then enter the <span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span>&#xA0;again and run the <code>show system</code> command to confirm the new parameter has been applied.
In this example, the maximum number of client connections has been increased to 1,000.<pre xml:space="preserve">solace-primary&gt; show system

System Uptime: 1d 0h 49m 13s
Last Restart Reason: User request

Scaling:
   Max Bridges: 25
   <span style="color: #ff0000;">Max Connections: 1000</span>
   Max Queue Messages: 100M
   Max Kafka Bridges: 0
   Max Kafka Broker Connections: 0
   Max Subscriptions:&#xA0;500000

Topic Routing:
   Subscription Exceptions: Enabled
   Subscription Exceptions Defer: Enabled</pre></li>
                                <li value="6">Optionally, repeat the preceding two steps to increase another scaling parameter.</li>
                                <li value="7">In the <span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span>, enable the message spool and message backbone for the primary event broker:
			<p class="Note">If you are increasing <code>max-subscriptions</code> or the Kafka scaling parameters (Kafka bridges or Kafka broker connections), you do not need to shut down the <code>msg-backbone</code> or <code>message-spool</code>.</p><pre class="Code">solace-primary(configure)# no hardware message-spool shutdown
solace-primary(configure)# no service msg-backbone shutdown</pre></li>
                                <li value="8">On the primary event broker, verify that the message spool&#x2019;s <code>Operational Status</code> is <code>AD-Active</code>:
             <pre>solace-primary(configure/service/msg-backbone) show message-spool</pre><p class="Note">The primary message spool status must be <code>AD-Active</code> before continuing with this procedure or message loss will occur.</p><p class="Note">If you are increasing <code>max-subscriptions</code> or the Kafka scaling parameters (Kafka bridges or Kafka broker connections), verify that the status on the primary event broker is <code>AD-Standby</code> and on the backup it is <code>AD-Active</code>. When you upscale the backup, the status will change to  <code>AD-Standby</code>.</p></li>
                                <li value="9">On the backup event broker, update the system scaling parameter to match the settings on the primary broker.
            <p class="Note">Changing the value of system scaling parameters causes the system to reload, stopping the container. In machine images, the container automatically restarts. For container images, you may need to manually restart the container, depending on the restart policy of your container runtime.</p></li>
                                <li value="10">Restart the container if required, then enter the <span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span> again and confirm the new parameter has been applied by running the <code>show system</code> command.</li>
                                <li value="11">Optionally, repeat the preceding two steps to increase another scaling parameter to match the settings on the primary event broker.</li>
                                <li value="12">In the <span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span>, enable the message spool and message backbone service for the backup event broker:
			<p class="Note">If you are increasing <code>max-subscriptions</code> or the Kafka scaling parameters (Kafka bridges or Kafka broker connections), you do not need to shut down the <code>msg-backbone</code> or <code>message-spool</code>.</p><pre class="Code" xml:space="preserve">solace-backup(configure)# no hardware message-spool shutdown
solace-backup(configure)# no service msg-backbone shutdown</pre></li>
                                <li value="13">On the backup event broker, verify that the message spool&#x2019;s <code>Operational Status</code> is <code>AD-Standby</code>:
            <pre>solace-backup(configure/service/msg-backbone)# show message-spool</pre></li>
                                <li value="14">Verify that the <code>Redundancy Status</code> is <code>Up</code> on all nodes in the HA group:
            <p>On the primary event broker:</p><pre class="Code">solace-primary&gt; show redundancy</pre><p>On the backup event broker:</p><pre class="Code">solace-backup&gt; show redundancy</pre><p>On the monitoring node:</p><pre class="Code">solace-monitoring&gt; show redundancy</pre></li>
                              </ol>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
