<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Patch SOL-40151</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Patch SOL-40151</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This patch updates firmware to address potential security vulnerabilities in 
some Intel Server Boards that may allow escalation of privilege or denial of
service.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This patch applies to all versions of SolOS for the following appliance types
shipped prior to October 19, 2020, only. Other appliance types are not exposed
to these vulnerabilities.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <p>CHS-3530AC-02-A</p>
                                </li>
                                <li>
                                  <p>CHS-3560AC-03-A</p>
                                </li>
                                <li>
                                  <p> CHS-3560AC-06-A</p>
                                </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This patch resolves the following <a href="https://cve.mitre.org/index.html" target="_blank" class="link-offsite">Common Vulnerabilities and Exposures</a> (CVEs):
</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">CVE-2020-8708, CVE-2020-8730, CVE-2020-8731, CVE-2020-8707, CVE-2020-8719,
CVE-2020-8721, CVE-2020-8710, CVE-2020-8711, CVE-2020-8712, CVE-2020-8718,
CVE-2020-8722, CVE-2020-8732, CVE-2020-8709, CVE-2020-8723, CVE-2020-8713,
CVE-2020-8706, CVE-2020-8729, CVE-2020-8715, CVE-2020-8716, CVE-2020-8714,
CVE-2020-8717, CVE-2020-8720.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="standalone"/>Instructions for Standalone Appliances</h2>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p>Applying this patch is service impacting and requires a reboot of the appliance.</p>
                                <p>Do NOT continue the patching process if you run into any unexpected issues&#x2014;<a href="../get-support.htm" class="link-internal">contact Solace</a> for assistance.</p>
                              </div>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <p>The patch script can be run with the <code>-c</code> flag. If this flag is specified, 
the script verifies whether the patch can be applied or has already been applied  to the appliance.</p>
                              </div>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Installation Procedure</h3>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">Make a copy of the current SolOS configuration in the <code>/configs</code> directory and then back up the file to an SFTP or SCP server:<pre class="Code">solace&gt; enable
solace# copy current-config /configs/sol_40151_prePatchCfg
solace# copy /configs/sol_40151_prePatchCfg &lt;destination&gt;</pre></li>
                                <li value="2">Ensure direct shell access is enabled:
<pre class="Code" xml:space="preserve">
solace&gt; show authentication

. . .

Shell Users                                        Direct shell login enabled
================================================== ==========================
support                                                                   Yes</pre><p>To enable direct shell access, run the following commands:</p><pre class="Code" xml:space="preserve">
solace&gt; enable
solace# configure
solace# authentication allow-direct-shell-login</pre></li>
                                <li value="3">Copy the patch package to the Solace appliance:
            <pre class="Code">$ scp patch-sol-40151.tgz support@&lt;appliance-mgmt-ip&gt;:</pre></li>
                                <li value="4">Log in to the appliance with the support account over an SSH connection:
            <p class="Caution">Do not run this procedure by dropping to the support shell from the CLI. If you do this, your shell session will become unresponsive while applying this patch.</p><pre class="Code">$ ssh support@&lt;appliance-mgmt-ip&gt;</pre></li>
                                <li value="5">Unpack the patch package:<pre class="Code">$ cd /usr/sw/support
$ tar zxf patch-sol-40151.tgz</pre></li>
                                <li value="6">Change to the <code>patch-sol-40151</code> directory:<pre class="Code">$ cd /usr/sw/support/patch-sol-40151</pre></li>
                                <li value="7">Check whether the appliance needs this patch (the root password is required):
<pre class="Code">$ sudo ./patch-sol-40151 -c</pre><ul><li><p>If the output is <code>Patch is not installed</code>, proceed to Step 8.</p></li><li><p>If the output is <code>Patch is installed</code> or <code>This patch does not apply to this platform. Supported platform:
    CHS-3530AC-02-A, CHS-3560AC-03-A, and CHS-3560AC-06-A</code>, patching is not required. Stop this procedure.</p></li></ul></li>
                                <li value="8">Disable the <code>solace</code> service and then reboot the appliance (the root password is required):
<p class="Note">This step causes a service outage.</p><pre class="Code">$ sudo chkconfig solace off
$ sudo /sbin/reboot</pre></li>
                                <li value="9">Wait until the appliance has finished rebooting, then log in over an SSH connection. Rebooting has completed when you can connect over SSH as the support user.
<pre class="Code">$ ssh support@&lt;appliance-mgmt-ip&gt;</pre><p class="Note">The Solace service is disabled and SolOS won't start.</p></li>
                                <li value="10">Confirm that the <code>solace</code> service has stopped.
<pre class="Code">$ sudo service solace status
solace service is stopped
[run] processes are enabled
solacedaemon is stopped</pre><p class="Caution">Do NOT proceed with the installation until the <code>solace</code> service has stopped.</p></li>
                                <li value="11">Change to the <code>patch-sol-40151</code> directory:
<pre class="Code">$ cd /usr/sw/support/patch-sol-40151</pre></li>
                                <li value="12">Run the patch script with <code>sudo</code> to install the patch (the root password is required). The installation may take
up to 15 minutes.
<pre class="Code">$ sudo ./patch-sol-40151 -i
Firmware update in progress. This may take up to 15 minutes to exit. Please wait...
Firmware update succeeded!
Patch was applied successfully</pre></li>
                                <li value="13">Enable the <code>solace</code> service and then reboot the appliance (the root password is required):
<pre class="Code">$ sudo chkconfig solace on
$ sudo /sbin/reboot</pre></li>
                                <li value="14">Wait until the appliance has finished rebooting, then verify the BIOS version by entering the <code>show hardware details</code> command in the CLI.
The expected BIOS version is: <code>SE5C610.86B.01.01.1029.C1.090220201031</code><pre class="Code">solace&gt; show hardware details</pre></li>
                                <li value="15">If you had to enable direct shell access in Step 2 to run this procedure, turn it off now.
<pre class="Code">solace&gt; enable
solace# configure
solace# no authentication allow-direct-shell-login</pre></li>
                              </ol>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You have completed this procedure.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="redundant"/>Instructions for Redundant (HA) Appliances</h2>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <ul>
                                  <li>This procedure requires HA failovers that briefly interrupt client connections as they disconnect and then reconnect to the newly active appliance. We recommend running this procedure during a maintenance window.</li>
                                  <li>Apply this patch to the appliances in an HA pair (redundant appliances) one appliance at a time. Only patch the second appliance in the HA pair after the first appliance has rebooted and is providing service. This procedure applies the patch to the backup appliance first, then the primary appliance.</li>
                                  <li>Do NOT continue the patching process if you run into any unexpected issues&#x2014;<a href="../get-support.htm" class="link-internal">contact Solace</a> for assistance.</li>
                                </ul>
                              </div>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <p>If you run the patch script with the <code>-c</code> flag, the script verifies whether the patch can be applied or has already been applied to the appliance.</p>
                              </div>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Installation Procedure</h3>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">On the primary appliance, ensure that the redundancy state is correct by running the <code>show redundancy</code> command: 
 <p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (the output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-primary# show redundancy
    
Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                           Primary Virtual Router  Backup Virtual Router 
                           ----------------------  ----------------------
Activity Status                Local Active            Mate Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      50                      197                   
Routing Interface Status       Up                      Up                    
VRRP Status                    Master                  Backup                
VRRP Priority                  250                     100                   
Message Spool Status           AD-Active               AD-Disabled           
Priority Reported By Mate      Standby                 Active</pre></div></div></p><p>If the HA pair is using Active/Standby redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-primary# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Local Active            Shutdown           
Routing Interface              1/6/lag1:1                          
VRRP VRID                      50                                         
Routing Interface Status       Up                                          
VRRP Status                    Master                                  
VRRP Priority                  250                                        
Message Spool Status           AD-Active                          
Priority Reported By Mate      Standby</pre></div></div></p></li>
                                <li value="2">On the backup appliance, ensure that the redundancy state is correct by running the <code>show redundancy</code> command:
        <p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Local Active            Mate Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      197                     50                    
Routing Interface Status       Up                      Up                    
VRRP Status                    Master                  Backup                
VRRP Priority                  250                     100                   
Message Spool Status           AD-Disabled             AD-Standby            
Priority Reported By Mate      Standby                 Active</pre></div></div></p><p>If the HA pair is using Active/Standby redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Shutdown                Mate Active           
Routing Interface                                      1/6/lag1:2            
VRRP VRID                                              50                    
Routing Interface Status                               Up                    
VRRP Status                                            Backup                
VRRP Priority                                          100                   
Message Spool Status                                   AD-Standby            
Priority Reported By Mate                              Active</pre></div></div></p><p class="Note">With the exception of the Auto Revert value, if the redundancy state of either the primary or backup appliance does not correspond to the examples above, do NOT patch the appliances. Instead, <a href="../get-support.htm" class="link-internal">contact Solace</a> for further instructions.</p></li>
                                <li value="3">If Config-Sync is enabled, confirm that it is operationally up on both the primary and backup appliances; this means all configuration is synchronized.
<p>For example:</p><pre class="Code" xml:space="preserve">solace-primary&gt; show config-sync

Admin Status                      : Enabled
Oper Status                       : Up</pre><pre class="Code" xml:space="preserve">
solace-backup&gt; show config-sync

Admin Status                      : Enabled
Oper Status                       : Up</pre><p class="Note">If the operational status of config-sync is not <code>Up</code>, you should resolve this before proceeding.</p></li>
                                <li value="4">Make a copy of the current SolOS configuration in the <code>/configs</code> directory on both appliances, then back up the files to an SFTP or SCP server.
<pre class="Code" xml:space="preserve">solace-primary&gt; enable
solace-primary# copy current-config /configs/sol_40151_prePatchCfg_primary
solace-primary# copy /configs/sol_40151_prePatchCfg_primary &lt;destination&gt;</pre><pre class="Code" xml:space="preserve">
solace-backup&gt; enable
solace-backup# copy current-config /configs/sol_40151_prePatchCfg_backup
solace-backup# copy /configs/sol_40151_prePatchCfg_backup &lt;destination&gt;</pre></li>
                                <li value="5">On the backup appliance, ensure direct shell access is enabled:
<pre class="Code" xml:space="preserve">
solace-backup&gt; show authentication

. . .

Shell Users                                        Direct shell login enabled
================================================== ==========================
support                                                                   Yes</pre><p>To enable direct shell access, run the following commands:</p><pre class="Code" xml:space="preserve">solace-backup&gt; enable
solace-backup# configure
solace-backup# authentication allow-direct-shell-login</pre></li>
                                <li value="6">Copy the patch package to the backup appliance:
<pre class="Code">$ scp patch-sol-40151.tgz support@&lt;appliance-mgmt-ip&gt;:</pre></li>
                                <li value="7">Log in to the backup appliance with the support account over an SSH connection
<pre class="Code">$ ssh support@&lt;appliance-mgmt-ip&gt;</pre><p class="Caution">Do not run this procedure by dropping to the support shell from the CLI. If you do this, your shell session will become unresponsive while applying this patch.</p></li>
                                <li value="8">Unpack the patch package:
<pre class="Code">$ cd /usr/sw/support
$ tar zxf patch-sol-40151.tgz</pre></li>
                                <li value="9">Change to the <code>patch-sol-40151</code> directory:
<pre class="Code">$ cd /usr/sw/support/patch-sol-40151</pre></li>
                                <li value="10">Verify whether the appliance needs this patch (the root password is required):
<pre class="Code">$ sudo ./patch-sol-40151 -c</pre><ul><li>If the output is <code>Patch is not installed</code>, proceed to Step 11.</li><li>If the output is <code>Patch is installed</code> or <code>This patch does not apply to this platform. Supported platform:
                CHS-3530AC-02-A, CHS-3560AC-03-A, and CHS-3560AC-06-A</code>, patching is not required for the backup appliance. Proceed to Step 22.</li></ul></li>
                                <li value="11">On the backup appliance, release activity to the primary appliance before installing the patch:
<pre class="Code">solace-backup# configure
solace-backup(configure)# redundancy
solace-backup(configure/redundancy)# release-activity
solace-backup(configure/redundancy)# end</pre></li>
                                <li value="12">On the primary appliance, ensure that the redundancy state is correct by running the <code>show redundancy</code> command:<p>If the HA pair is using the Active/Active redundancy mode, the <code>Activity Status</code> for both virtual routers should be <code>Local Active</code>. For example (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-primary# show redundancy 
Configuration Status     : Enabled
Redundancy Status        : Down
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Local Active            Local Active          
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      50                      197                   
Routing Interface Status       Up                      Up                    
VRRP Status                    Master                  Master                
VRRP Priority                  250                     250                   
Message Spool Status           AD-Active               AD-Disabled           
Priority Reported By Mate      Release                 Release</pre></div></div></p><p>If the HA pair is using the Active/Standby redundancy mode, the <code>Activity Status</code> for the primary virtual router should be <code>Local Active</code>. For example (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-primary# show redundancy 
Configuration Status     : Enabled
Redundancy Status        : Down
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Local Active            
Routing Interface              1/6/lag1:1              
VRRP VRID                      50                      
Routing Interface Status       Up                      
VRRP Status                    Master                  
VRRP Priority                  250                     
Message Spool Status           AD-Active               
Priority Reported By Mate      Release</pre></div></div></p><p class="Note">If the redundancy status on the primary appliance is not correct, do NOT proceed with the patch. Instead, <a href="../get-support.htm" class="link-internal">contact Solace</a> for further instructions.</p></li>
                                <li value="13">On the backup appliance, disable the <code>solace</code> service and then reboot the appliance (the root password is required):
<pre class="Code">$ sudo chkconfig solace off
$ sudo /sbin/reboot</pre></li>
                                <li value="14">Wait until the backup appliance has finished rebooting, then log in using an SSH connection. Rebooting has completed when you can connect over SSH as the support user.
<pre class="Code">$ ssh support@&lt;appliance-mgmt-ip&gt;</pre><p class="Note">The Solace service is disabled and SolOS won't start.</p></li>
                                <li value="15">Confirm that the <code>solace</code> service has stopped:
<pre class="Code">$ sudo service solace status
solace service is stopped
[run] processes are enabled
solacedaemon is stopped</pre><p class="Caution">Do NOT proceed with the installation until the <code>solace</code> service has stopped.</p></li>
                                <li value="16">Enter the <code>patch-sol-40151</code> directory:
            <pre class="Code">$ cd /usr/sw/support/patch-sol-40151</pre></li>
                                <li value="17">On the backup appliance, run the patch script with <code>sudo</code> to install the patch. The installation may take
up to 15 minutes (the root password is required):
<pre class="Code">$ sudo ./patch-sol-40151 -i
[sudo] password for root:
Firmware update in progress. This may take up to 15 minutes to exit. Please wait...
Firmware update succeeded!
Patch was applied successfully</pre></li>
                                <li value="18">Enable the <code>solace</code> service and then reboot the appliance (the root password is required):
<pre class="Code">$ sudo chkconfig solace on
$ sudo /sbin/reboot</pre></li>
                                <li value="19">Wait until the appliance has finished rebooting and then verify the BIOS version by entering the <code>show hardware details</code> command in the CLI.
The expected BIOS Version is: <code>SE5C610.86B.01.01.1029.C1.090220201031</code><pre class="Code">solace&gt; show hardware details</pre></li>
                                <li value="20">On the backup appliance, allow messaging activity to resume:
<pre class="Code">solace-backup# configure
solace-backup(configure)# redundancy
solace-backup(configure/redundancy)# no release-activity
solace-backup(configure/redundancy)# end</pre></li>
                                <li value="21">On the backup appliance, ensure that the redundancy state is correct by running the <code>show redundancy</code> command:
            <p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Mate Active             Mate Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      197                     50                    
Routing Interface Status       Up                      Up                    
VRRP Status                    Backup                  Backup                
VRRP Priority                  100                     100                   
Message Spool Status           AD-Disabled             AD-Standby            
Priority Reported By Mate      Active                  Active </pre></div></div></p><p>If the HA pair is using the Active/Standby redundancy mode, the output from the <code>show redundancy</code> command  looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                              Primary Virtual Router  Backup Virtual Router 
                              ----------------------  ----------------------
Activity Status                Shutdown                Mate Active           
Routing Interface                                      1/6/lag1:2            
VRRP VRID                                              50                    
Routing Interface Status                               Up                    
VRRP Status                                            Backup                
VRRP Priority                                          100                   
Message Spool Status                                   AD-Standby            
Priority Reported By Mate                              Active</pre></div></div></p><p>It may take several minutes for the backup redundancy status to transition to <code>Up</code> 
as the backup router synchronizes its states from the primary appliance.</p><p class="Caution">If the redundancy status on the backup appliance is not correct, do NOT 
proceed with the patch. Instead, <a href="../get-support.htm" class="link-internal">contact Solace</a> Support for further instructions.</p></li>
                                <li value="22">On the backup appliance, if you had to enable direct shell access in Step 5 to run the procedure, turn it off now:
<pre class="Code">solace-backup&gt; enable
solace-backup# configure
solace-backup# no authentication allow-direct-shell-login</pre></li>
                                <li value="23">On the primary appliance, ensure direct shell access is enabled:
<pre class="Code" xml:space="preserve">
solace-primary&gt; show authentication

. . .

Shell Users                                        Direct shell login enabled
================================================== ==========================
support                                                                   Yes</pre><p>To enable direct shell access, run the following commands:</p><pre class="Code">solace-primary&gt; enable
solace-primary# configure
solace-primary# authentication allow-direct-shell-login</pre></li>
                                <li value="24">Copy the patch package to the primary appliance:<pre class="Code">$ scp patch-sol-40151.tgz support@&lt;appliance-mgmt-ip&gt;:</pre></li>
                                <li value="25">Log in to the primary appliance with the support account over an SSH connection:
            <pre class="Code">$ ssh support@&lt;appliance-mgmt-ip&gt;</pre><p class="Caution">Do not run this procedure by dropping to the support shell from the CLI. If you do this, your shell session will become unresponsive while applying this patch.</p></li>
                                <li value="26">Unpack the patch package:
<pre class="Code">$ cd /usr/sw/support
$ tar zxf patch-sol-40151.tgz</pre></li>
                                <li value="27">Enter the <code>patch-sol-40151</code> directory:
<pre class="Code">$ cd /usr/sw/support/patch-sol-40151</pre></li>
                                <li value="28">Check whether the appliance needs this patch (the root password is required):
<pre class="Code">$ sudo ./patch-sol-40151 -c</pre><ul><li><p>If the output is <code>Patch is not installed</code>, proceed to Step 29.</p></li><li><p>If the output is <code>Patch is installed</code> or <code>This patch does not apply to this platform. Supported platform:
    CHS-3530AC-02-A, CHS-3560AC-03-A, and CHS-3560AC-06-A</code>, patching is not required for the primary appliance. Proceed to Step 43.</p></li></ul></li>
                                <li value="29">On the primary appliance, release messaging activity to the backup appliance before installing the patch:
<pre class="Code">solace-primary# configure
solace-primary(configure)# redundancy
solace-primary(configure/redundancy)# release-activity
solace-primary(configure/redundancy)# end</pre></li>
                                <li value="30">On the backup appliance, confirm that the redundancy status is correct by running the <code>show redundancy</code> command:
            <p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Down
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Local Active            Local Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      197                     50                    
Routing Interface Status       Up                      Up                    
VRRP Status                    Master                  Master                
VRRP Priority                  250                     240                   
Message Spool Status           AD-Disabled             AD-Active            
Priority Reported By Mate      Release                 Release</pre></div></div></p><p>If the HA pair is using the Active/Standby redundancy mode, the output from the <code>show redundancy</code> command on the backup appliance looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Down
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Shutdown                Local Active           
Routing Interface                                      1/6/lag1:2            
VRRP VRID                                              50                    
Routing Interface Status                               Up                    
VRRP Status                                            Master                
VRRP Priority                                          240                   
Message Spool Status                                   AD-Active            
Priority Reported By Mate                              Release</pre></div></div></p><p class="Note">If the redundancy status on the backup appliance is not correct, do NOT proceed 
with the patch. Instead, <a href="../get-support.htm" class="link-internal">contact Solace</a> Support for further instructions.</p></li>
                                <li value="31">On the primary appliance, disable the <code>solace</code> service and then reboot the appliance (the root password is required):
<pre class="Code">$ sudo chkconfig solace off
$ sudo /sbin/reboot</pre></li>
                                <li value="32">Wait until the appliance has finished rebooting, then log in using an SSH connection. Rebooting has completed when you can connect over SSH as the support user.
<pre class="Code">$ ssh support@&lt;appliance-mgmt-ip&gt;</pre><p class="Note">The Solace service is disabled and SolOS won't start.</p></li>
                                <li value="33">Confirm that the <code>solace</code> service has stopped:
<pre class="Code">$ sudo service solace status
solace service is stopped
[run] processes are enabled
solacedaemon is stopped</pre><p class="Caution">Do NOT proceed with the installation until the <code>solace</code> service has stopped.</p></li>
                                <li value="34">Change to the <code>patch-sol-40151</code> directory:<pre class="Code">$ cd /usr/sw/support/patch-sol-40151</pre></li>
                                <li value="35">Run the patch script with sudo to install the patch (the root password is required). The installation may take
up to 15 minutes.
<pre class="Code">$ sudo ./patch-sol-40151 -i
[sudo] password for root:
Firmware update in progress. This may take up to 15 minutes to exit. Please wait...
Firmware update succeeded!
Patch was applied successfully</pre></li>
                                <li value="36">Enable the <code>solace</code> service and then reboot the appliance (the root password is required):
<pre class="Code">$ sudo chkconfig solace on
$ sudo /sbin/reboot</pre></li>
                                <li value="37">Wait until the appliance has finished rebooting and then verify the BIOS version by entering the <code>show hardware details</code> command in the CLI.
The expected BIOS version is: <code>SE5C610.86B.01.01.1029.C1.090220201031</code><pre class="Code">solace&gt; show hardware details</pre></li>
                                <li value="38">Now that the patch has been installed on both the primary appliance and the backup appliance, allow 
activity on the primary appliance:
<pre class="Code">solace-primary# configure
solace-primary(configure)# redundancy
solace-primary(configure/redundancy)# no release-activity
solace-primary(configure/redundancy)# end</pre></li>
                                <li value="39">On the primary appliance, confirm the redundancy status by running the <code>show redundancy</code> command:
<p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code">solace-primary# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Mate Active             Mate Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      50                      197                    
Routing Interface Status       Up                      Up                    
VRRP Status                    Backup                  Backup                
VRRP Priority                  150                     100                   
Message Spool Status           AD-Standby              AD-Disabled
Priority Reported By Mate      Active                  Active</pre></div></div></p><p>If the HA pair is using the Active/Standby redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code">solace-primary# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Mate Active             Shutdown           
Routing Interface              1/6/lag1:2            
VRRP VRID                      50                    
Routing Interface Status       Up                    
VRRP Status                    Backup                
VRRP Priority                  150                   
Message Spool Status           AD-Standby            
Priority Reported By Mate      Active</pre></div></div></p><p>It may take several minutes for the primary redundancy status to transition to <code>Up</code> as the backup router synchronises its states from the primary appliance.</p></li>
                                <li value="40">If auto-revert is not configured, revert activity to the primary appliance from the backup appliance:
<pre class="Code">solace-backup# admin
solace-backup(admin)# redundancy revert-activity
solace-backup(admin)# end</pre></li>
                                <li value="41">Ensure that the primary appliance is in the correct redundancy state by running the <code>show redundancy</code> command:
          <p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-primary# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Local Active            Mate Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      50                      197                   
Routing Interface Status       Up                      Up                    
VRRP Status                    Master                  Backup                
VRRP Priority                  250                     100                   
Message Spool Status           AD-Active               AD-Disabled           
Priority Reported By Mate      Standby                 Active</pre></div></div></p><p>If the HA pair is using the Active/Standby redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-primary# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-backup
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Local Active            Shutdown           
Routing Interface              1/6/lag1:1                          
VRRP VRID                      50                                         
Routing Interface Status       Up                                          
VRRP Status                    Master                                  
VRRP Priority                  250                                        
Message Spool Status           AD-Active                          
Priority Reported By Mate      Standby</pre></div></div></p><p class="Note">The Auto Revert value is a configurable option and may be set to Yes depending on the redundant system configuration.</p></li>
                                <li value="42">On the backup appliance, ensure that the  redundancy state is correct by running the <code>show redundancy</code> command:
<p>If the HA pair is using the Active/Active redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Active):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code" xml:space="preserve">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Active
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Local Active            Mate Active           
Routing Interface              1/6/lag1:1              1/6/lag1:2            
VRRP VRID                      197                     50                    
Routing Interface Status       Up                      Up                    
VRRP Status                    Master                  Backup                
VRRP Priority                  250                     100                   
Message Spool Status           AD-Disabled             AD-Standby            
Priority Reported By Mate      Standby                 Active</pre></div></div></p><p>If the HA pair is using the Active/Standby redundancy mode, the output from the <code>show redundancy</code> command looks like the following (output may vary by appliance version):</p><p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"/>Example <code>show redundancy</code> output (Active/Standby):</a></span><div class="MCDropDownBody dropDownBody"><pre class="Code">solace-backup# show redundancy

Configuration Status     : Enabled
Redundancy Status        : Up
Auto Revert              : No
Redundancy Mode          : Active/Standby
Mate Router Name         : solace-primary
ADB Link To Mate         : Up
ADB Hello To Mate        : Up

                               Primary Virtual Router  Backup Virtual Router 
                               ----------------------  ----------------------
Activity Status                Shutdown                Mate Active           
Routing Interface                                      1/6/lag1:2            
VRRP VRID                                              50                    
Routing Interface Status                               Up                    
VRRP Status                                            Backup                
VRRP Priority                                          100                   
Message Spool Status                                   AD-Standby            
Priority Reported By Mate                              Active</pre></div></div></p><p class="Note">The Auto Revert value is a configurable option and may be set to Yes depending on the redundant system configuration.</p></li>
                                <li value="43">If you had to enable direct shell access in Step 23 to run the procedure, turn it off now.
<pre class="Code">solace-primary&gt; enable
solace-primary# configure
solace-primary# no authentication allow-direct-shell-login</pre></li>
                              </ol>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You have completed this procedure.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.18.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 18, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
