<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|IP Interface Configuration|IP Interface Configuration for Appliances" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-control" content="no-cache" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring LAGs on Appliances</title>
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
        <!--style to display feedback button correctly in IE-->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- links to get the EDA styling to work -->
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
        <link href="../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
        <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
        <script type="text/javascript" src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <!-- Top Orange and Darkgrey header-->
    <!-- Div for EDA banner -->
    <div class="eda_banner">
        <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
    </div>
    <!-- end Div for EDA banner -->
    <div class="top-nav">
        <div class="main_list">
            <ul class="top-navlinks">
                <li><a href="https://solace.com/support/" target="_blank">Support</a>
                </li>
                <li><a href="https://solace.com/contact/" target="_blank">Contact Us</a>
                </li>
            </ul>
        </div>
        <div class="container-fluid">
            <div class="src-li">
                <div id="srchWrapTwo">
                    <form class="search" action="#">
                        <div class="search-bar search-bar-container needs-pie">
                            <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                            <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                                <div class="search-filter-content" id="sf-content">
                                    <ul>
                                        <li>
                                            <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="search-submit-wrapper" dir="ltr">
                                <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div><span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
            <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
        </div>
        <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
        <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
    </div>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div id="content">
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="ContentRow" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                    <div>
                                                        <div class="nocontent" xmlns="">
                                                            <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                                            </div>
                                                        </div>
                                                        <div role="main" id="mc-main-content" xmlns="">
                                                            <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Configuring LAGs on Appliances</h1>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This section provides information on how to configure Link Aggregation Groups (LAGs) for Solace PubSub+ appliances. LAGs can be used for management and network interfaces on the Network Acceleration Blade (NAB)—a hardware line card used by the appliance for receiving and processing messages.</p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Config_LAG_Active_Back"></a>Configuring LAG Active/Backup Mode on MGMT Ports</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To manually configure the two physical management network interface ports (that is, <code>eth1</code> and <code>eth2</code> on Solace PubSub+ 3260s, 3530s, and 3560s, or <code>eth1</code> and <code>eth0</code> on Solace PubSub+ 3230s) as a LAG in active/backup mode perform the following steps using the Solace CLI:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Create the <code>chassis/lag1</code> interface and designate it as mode <code>active-backup</code>.        <p>Only a single LAG numbered 1 is supported. A LAG can not be deleted if IP interfaces reference it.</p><p class="Code">solace# configure<br />solace(configure)# create interface chassis/lag1 active-backup<br />solace(configure/interface)#</p></li>
                                                                <li value="2">Assign both of your Management ports as members of the LAG interface, and then designate one of them as the “primary” member (this is the link that is active on startup).        
			<p class="Code">solace(configure/interface)# member eth1<br />solace(configure/interface)# member eth2 (3260, 3530, or 3560)<br />solace(configure/interface)# member eth0 (3230 only)<br />solace(configure/interface)# primary-member eth1</p></li>
                                                                <li value="3">Start the LAG interface in active/backup mode.        <p class="Code">solace(configure/interface)# no shutdown</p><p>There is no special configuration required on the terminating Layer 2 devices. Configure them as normal individual ports.</p></li>
                                                                <li value="4">View the status and configuration of the LAG in active/backup Mode.<![CDATA[ 
        ]]><p class="Code">solace&gt; show interface chassis/lag1</p><pre xml:space="preserve">Interface: chassis/lag1 
  MAC address: 00:15:17:4d:25:f0
  Mode: Active-Backup
  Enabled: yes
  Rx pkts:           329217        Rx bytes:         24240418
  Tx pkts:          2463932        Tx bytes:         432977869

  Configured members:  eth1, eth2 
  Available members:   eth1, eth2 
  Operational members: eth1 
  Primary member:      eth1</pre></li>
                                                            </ol>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Changing_Mgmt_VRF"></a>Changing the MGMT VRF Config on Working MGMT Port LAGs</h2>
                                                            <div class="Caution" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <p class="Tbl_Body">Management connectivity can be lost when changing the Management VRF interface configuration on working management port LAGs. Solace recommends performing these changes manually from the appliance CLI within a maintenance window to prevent service interruption.</p>
                                                            </div>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To manually change the working LAG configuration of the two physical management interface ports (that is, <code>eth1</code> and <code>eth2</code> on Solace PubSub+ 3260s, 3530s, and 3560s, or <code>eth1</code> and <code>eth0</code> on Solace PubSub+ 3230s) from using an <code>eth1</code> configuration on the Management VRF to one using a <code>chassis/lag1</code> configuration, whereby the appliance uses the same IP address as before, do the following:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Start the <code>eth2</code> interface:
        <p class="Code">solace# configure<br />solace(configure)# interface eth2<br />solace(configure/interface)# no shutdown</p></li>
                                                                <li value="2">Shutdown the <code>eth1:1</code> interface on the Management VRF: 
        <p class="Code">solace(configure)# ip vrf management<br />solace(configure/ip/vrf)# interface eth1:1<br />solace(configure/ip/vrf/interface)# shutdown<br />Changing management addresses or default routes may leave the appliance unreachable over a network connection. As well changing management addresses will result in newly unreachable routes being deleted.<br />Do you want to continue (y/n)? y<br /></p></li>
                                                                <li value="3">Remove the eth1:1 interface configuration:
        <p class="Code">solace(configure/ip/vrf/interface)# exit<br />solace(configure/ip/vrf)# no interface eth1:1<br />solace(configure/ip/vrf)# exit</p><p class="Note">This automatically removes the default route. </p></li>
                                                                <li value="4">Assign both of your management ports as members of the LAG interface, and designate one of them to be the “primary” member (this is the link that is active on startup):
        
		<p class="Code">solace(configure)# create interface chassis/lag1<br />solace(configure/interface)# member eth1<br />solace(configure/interface)# member eth2 (3260, 3530, or 3560)<br />solace(configure/interface)# member eth0 (3230 only)<br />solace(configure/interface)# primary-member eth1</p></li>
                                                                <li value="5">Start the LAG interface:
        <p class="Code">solace(configure/interface)# no shutdown</p><p class="Note">There is no special configuration required on the terminating Layer 2 devices. Configure them as normal individual ports.</p></li>
                                                                <li value="6">Add the new <code>chassis/lag1</code> interface to the Management VRF, and start the LAG:
        
		<p class="Code">solace(configure)# ip vrf management<br />solace(configure/ip/vrf)# create interface chassis/lag1:1 static<br />solace(configure/ip/vrf/interface)# ip 192.168.129.83/22<br />solace(configure/ip/vrf/interface)# no shutdown</p></li>
                                                                <li value="7">If required for your network, configure the default IP route for the Management VRF: 
        
		<p class="Code">solace(configure/ip/vrf/interface)# exit<br />solace(configure/ip/vrf)# route default 192.168.128.1 chassis/lag1:1 </p></li>
                                                                <li value="8">Verify the status and configuration of the Management VRF: 
				<p class="Code">solace&gt; show ip vrf management</p><pre xml:space="preserve">VRF: management      
Number of interfaces: 1

Status Flags:   R=Redundancy,  A=Admin,  P=Physical
Status Values:  U=Up,  D=Down,  N=Not Applicable
 
			Status
Interface       V Router  IP Address          R  A  P
--------------  --------  ------------------  --------
chassis/lag1:1  static    192.168.129.83/22   N  U  U   
 
Number of global routes: 1
 
Destination       Gateway           Network Mask      Interface
----------------  ----------------  ----------------  ----------
default           192.168.128.1     0.0.0.0           chassis/lag1:1
			</pre></li>
                                                            </ol>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To change the working LAG configuration of the two management interface ports (that is, <code>eth1</code> and <code>eth2</code> on Solace PubSub+ 3260s, 3530s, and 3560s, or <code>eth1</code> and <code>eth0</code> on Solace PubSub+ 3230s) from using an <code>eth1</code> configuration on the Management VRF to one using a chassis/lag1 configuration, whereby the appliance uses the same IP address as before, do the following:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Enter the <code>setup</code> CONFIG command, and follow the on-screen command prompts.
				<p class="Code">solace# setup</p><pre xml:space="preserve">Please enter the hostname []: 
Do you want to place the 2 management interfaces in an active-backup LAG? (y/n)
[N]: y
Choose primary interface for the management LAG (eth1, eth2) []: eth1
Please configure the management VRF interface (chassis/lag1:1):
Enter the IP/Netmask in CIDR form [192.168.129.83/22]: 
Please enter the default gateway [192.168.128.1]: 
Please configure the msg-backbone VRF interface (1/1/lag1:1):
Enter the IP/Netmask in CIDR form []: 192.168.164.183/19
Please enter the default gateway [192.168.160.1]: 
Please enter the local time zone (? for help) [Canada/Eastern]:
Do you want to synchronize time with an NTP server? (y/n) [Y]:
Please enter the NTP server by IP [192.168.1.203]:
Please enter DNS server(s) by comma separated IP []:
Please enter the desired power redundancy (e.g. "2+1", "2+2") [2+2]:
 
You have entered the following information:
 
Primary interface (chassis/lag1):       eth1
Create interface:                       chassis/lag1:1
IP Address (chassis/lag1:1):            192.168.129.83/22
Default Gateway (management):           192.168.128.1
IP Address (1/1/lag1:1):                192.168.164.183/19
Power Redundancy:                       2+2
Please verify that this information is correct.
Do you want to continue (y/n)? y

Changing management addresses or default routes may leave the appliance unreachable over a network connection. 
As well changing management addresses will result in newly unreachable routes being deleted.
Do you want to continue (y/n)? y</pre></li>
                                                                <li value="2">Enter the following show command to verify the status and configuration of the Management VRF: 
				<p class="Code">solace&gt; show ip vrf management</p><pre xml:space="preserve">VRF: management      
Number of interfaces: 1
 
Status Flags:   R=Redundancy,   A=Admin,   P=Physical
Status Values:  U=Up,  D=Down,  N=Not Applicable
 
			Status
Interface       V Router  IP Address          R  A  P
--------------  --------  ------------------  --------
chassis/lag1:1  static    192.168.129.83/22   N  U  U   
 
Number of global routes: 1
 
Destination       Gateway           Network Mask      Interface
----------------  ----------------  ----------------  ----------
default           192.168.128.1     0.0.0.0           chassis/lag1:1</pre></li>
                                                            </ol>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Config_LAG_AB_on_twoPorts"></a>Configuring LAG Active/Backup Mode on Two NAB Ports</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure two physical network interface ports on a NAB as a LAG in active/backup mode on appliances, perform the following steps:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Create a LAG interface with an active-backup mode. For more information, refer to <a href="Managing-Appliance-IP-Interfaces.htm" class="MCXref xref">IP Interface Configuration for Appliances</a>.
			<p>Only a single LAG numbered 1 is supported. A LAG cannot be deleted if IP interfaces reference it, and a LAG cannot be created on a slot which does not contain a NAB.</p><p class="Code">solace# configure<br />solace(configure)# create interface 1/1/lag1 active-backup<br />solace(configure/interface)#</p></li>
                                                                <li value="2">Assign two of your NAB ports as members of the LAG interface and designate one of them to be the “primary” member (this is the link that is active on startup). For more information, refer to <a href="Configuring-Appliance-IP-Interfaces.htm" class="MCXref xref">Configuring Appliance IP Interfaces</a>.
			
			<p class="Code">solace(configure/interface)# member 1/1/1<br />solace(configure/interface)# member 1/1/2<br />solace(configure/interface)# primary-member 1/1/1</p></li>
                                                                <li value="3">Start the LAG interface and in turn the active/backup mode. For more information, refer to <a href="Configuring-Appliance-IP-Interfaces.htm" class="MCXref xref">Configuring Appliance IP Interfaces</a>.
			<p class="Code">solace(configure/interface)# no shutdown</p><p class="Note">There is no special configuration required on the terminating Layer 2 devices. Configure them as normal individual ports.</p></li>
                                                                <li value="4">Manually force a switch to the backup member. (For more information, refer to <a href="Manually-Switch-Activity-Between-LAG-Members.htm" class="MCXref xref">Manually Switching Activity Between LAG Members</a>.)
			
			<p class="Code">solace(configure/interface)# exit<br />solace(configure)# exit<br />solace# admin<br />solace(admin)# interface 1/1/lag1<br />solace(admin/interface)# switch-active</p></li>
                                                                <li value="5">View the status and configuration of the LAG in Active/Backup Mode.
				<p class="Code">solace&gt; show interface 1/1/lag1</p><pre xml:space="preserve">Interface: 1/1/lag1 
  MAC address: 00:50:c2:44:c0:ba
  Mode: Active-Backup
  Enabled: yes
  Rx pkts:              204        Rx bytes:            13818
  Tx pkts:                0        Tx bytes:                0
 
  Configured members:  1/1/1, 1/1/2 
  Available members:   1/1/1, 1/1/2 
  Operational members: 1/1/1 
  Primary member:      1/1/1</pre></li>
                                                            </ol>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Config_Interfaces_Config_LACP"></a>Configuring LACP LAGs in Active/Backup Pairs</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure two LACP LAGs as an Active/Backup pair and bond them together using a third LAG, perform the following steps:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Create one LACP LAG interface , assign two of your NAB ports as members, and then start the interface.
			
			<p class="Code">solace# configure<br />solace(configure)# create interface 1/6/lag2 lacp<br />solace(config-interface)#</p><p> </p><p class="Code">solace(config-interface)# member 1/6/1<br />solace(config-interface)# member 1/6/2</p><p> </p><p class="Code">solace(config-interface)# no shut<br />solace(config-interface)# exit</p></li>
                                                                <li value="2">Create a second LACP LAG interface , assign two more NAB ports as members, and then start the interface.
			<p class="Code">solace(configure)# create interface 1/6/lag3 lacp<br />solace(configure/interface)#</p><p> </p><p class="Code">solace(configure/interface)# member 1/6/3<br />solace(configure/interface)# member 1/6/4</p><p> </p><p class="Code">solace(configure/interface)# no shut<br />solace(configure/interface)# exit</p></li>
                                                                <li value="3">Create a third LAG interface with an active-backup mode to bond the other two LAGs.
			<p class="Code">solace(configure)# create interface 1/6/lag1 active-backup</p><p> </p><p class="Code">solace(configure/interface)# member 1/6/lag2<br />solace(configure/interface)# member 1/6/lag3<br />solace(configure/interface)# primary-member 1/6/lag2</p><p> </p><p class="Code">solace(configure/interface)# no shut<br />solace(configure/interface)# end</p></li>
                                                                <li value="4">View the status and configuration of the bonding LAG in Active/Backup Mode.
				<p class="Code">solace&gt; show interface 1/6/lag1</p><pre xml:space="preserve">Interface: 1/6/lag1 
  MAC address: 00:50:c2:44:c0:ba
  Mode: Active-Backup
  Enabled: yes
  Rx pkts:             4836        Rx bytes:           436867
  Tx pkts:                6        Tx bytes:              768
 
  Configured members:  1/6/lag2 1/6/lag3 
  Available members:   1/6/lag2  1/6/lag3
  Operational members: 1/6/lag2 
  Primary member:      1/6/lag2</pre></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="no-print">
                                            <div><a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                                            </div>
                                        </div>
                                        <footer class="my-4 pt-4 text-center no-print">
                                            <div class="footer-txt text-center no-print">
                                                <ul class="list-inline ">
                                                    <li class="list-inline-item text-muted"><a href="../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                                                    <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                                                    <li class="list-inline-item text-muted" style="font-size:13px;"> ©  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                                                </ul>
                                            </div>
                                            <div class="footer-icons">
                                                <ul class="list-inline">
                                                    <li class="list-inline-item"><a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="footer_link_menu">
                                                <ul class="link_list">
                                                    <li class="link_list_item"><a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </footer>
                                    </div>
                                    <!-- JIRA issue collector -->
                                    <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                                    <script src="../../Resources/Scripts/thumbnail.js">
                                    </script>
                                    <!-- Script for Launching offsite links in new tab -->
                                    <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>