<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Services</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Services</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Clients and management users access the services available on <span class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span> through TCP service ports on an event broker.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><span class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span> event brokers support the following services:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li><u>Solace Message Format (SMF)</u>&#x2014;This service allows clients to communicate with an event broker on the Message Backbone interface (<span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s) and as data traffic (<span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s).</li>
                                <li><u>Solace Element Management Protocol (SEMP)</u>&#x2014;This service allows management applications to communicate with an event broker on the management  (<span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s) and as data traffic (<span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s)..</li>
                                <li><u>Web transport</u>&#x2014;This service allows Web clients to communicate with an event broker.</li>
                                <li><u>Solace Representational State Transfer (REST)</u>&#x2014;This service allows REST clients to communicate with an event broker using standard HTTP requests.</li>
                                <li><u>Message Queuing Telemetry Transport (MQTT)</u>&#x2014;This service allows clients to communicate with an event broker using the MQTT messaging protocol.</li>
                                <li><u>Advanced Message Queuing Protocol (AMQP)</u>&#x2014;This service allows AMQP&#xA0;clients to communicate with an event broker using the AMQP&#xA0;open standard application layer protocol.</li>
                              </ul>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <p> Config-Sync does not automatically synchronize services. Therefore, if the event broker is being used in a high-availability (HA) redundant deployment or in a replicated site, you must manually configure services on each mate event broker or replicated Message VPN.</p>
                                <p>To determine whether an object/property is synchronized by Config-Sync, look up the command used to configure the object/property in the <a href="../Admin/Solace-CLI/Command-Line-Reference.htm" class="MCXref xref">CLI Command Reference</a> or type the command in the Solace CLI, ending the command with "?". The Help will list whether the object or property is synchronized.</p>
                              </div>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="SMF-Service"/>SMF Service Management</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">At the system-level, you can configure a listen port for SMF service and enable/disable SMF service on all Message VPNs on the event broker. You can also configure SMF events and event thresholds.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="SMF-Port"/>Setting SMF Listen Ports</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">You must  shutdown SMF services on the event broker before setting the SMF&#xA0;listen ports, otherwise an error message is received.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure the TCP port number that SMF clients use when connecting to the event broker, enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace(configure)# service smf<br/>solace(configure/service/smf)# listen-port &lt;port&gt; {[compressed] [routing-control] [ssl]}</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>&lt;port&gt;</code> specifies the TCP port number that SMF clients use when connecting to the event broker. The default value is 55555.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>compressed</code> specifies the port to connect to for exchanging Non-SSL compressed messages.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>routing-control</code> specifies the port to connect to for exchanging inter-node routing control messages. Note that Inter-node routing control messages cannot run over the compressed port. Therefore, you cannot specify compressed along with routing-control.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>ssl</code> specifies the port to connect to for exchanging Transport Layer Security (TLS)/ Secure Sockets Layer (SSL) traffic (with or without compression). </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no versions of this command do the following:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li><code>no listen-port</code> resets the port to the default value of 55555</li>
                                <li><code>no listen-port compressed</code> resets the port to the default value of 55003</li>
                                <li><code>no listen-port routing-control</code> resets the port to the default value of 55556</li>
                                <li><code>no listen-port ssl</code> resets the port to the default value of 55443</li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-SMF"/>Enabling System-Level SMF Service</h3>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p class="Tbl_Body"> Disabling SMF service at the system-level will disconnect all client and event broker connections to the event broker. Therefore, it is recommended that if you need to stop SMF service on the event broker, you do so when the service disruption will have the least impact. Also, to avoid such a large service interruption, you can optionally disable SMF&#xA0;service only on specific Message VPNs (see <a href="../Features/VPN/Configuring-VPNs.htm#managing_message_vpns_884140110_418337" class="MCXref xref">Configuring SMF Service</a>).</p>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">By default, SMF services are enabled on both  PubSub+ <span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s and  <span class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span> <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable SMF service on the event broker, enter the following commands:
			<pre>solace(configure)# service smf<br/>solace(configure/service/smf)# no shutdown</pre></li>
                                <li>To disable SMF services on the event broker, enter the following commands:
			<pre>solace(configure)# service smf<br/>solace(configure/service/smf)# shutdown</pre></li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="SMF-Events"/>Configuring SMF Events</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can optionally configure the set and clear thresholds at which system-level events are generated for a number or percentage of simultaneous SMF client connections. For information on how system-level service events can be generated and how to set the event thresholds for them, see <a href="../Monitoring/Configuring-System-Event-Thresholds.htm" class="MCXref xref" data-mc-unresolved-link="import-link:configuring_event_output_and_thresholds_3996511907_24179">Configuring System Event Thresholds</a>.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="managing-SEMP-service"/>SEMP Service Management</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">At the system-level, you can do the following:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>configure a listen port for SEMP service</li>
                                <li>enable/disable extended timeouts for paged GETs</li>
                                <li>enable/disable SEMP service on an event broker</li>
                                <li>set the timeout values for client user sessions</li>
                                <li>enable or disable Cross-Origin Resource Sharing (CORS) for the SEMP service</li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="SEMP-Port"/>Setting a SEMP Listen Port</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">You must first shutdown SEMP service on the event broker before you can set a SEMP listen port.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure the TCP port number for SEMP clients to use when connecting to an event broker, enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace(configure)# service semp<br/>solace(configure/service/semp)# listen-port &lt;port&gt; [ssl]</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>port</code> specifies the TCP port number to use for a SEMP connection to the event broker. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>ssl</code> specifies the port number is for TLS/SSL-encrypted connections. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The default ports for <code>port</code> and <code>ssl</code>&#xA0;depend on whether it's a <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span> or <span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>. For information about which port to use, see <a href="../Admin/Default-Port-Numbers.htm" class="MCXref xref">Default Port Numbers</a>. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no versions of this command do the following:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li><code>no listen-port</code> resets the port to the default value  for plain-text connections. </li>
                                <li><code>no listen-port ssl</code> resets the port to the default value for TLS/SSL connections. </li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-Extended-Timeouts"/>Enabling Extended SEMP Timeouts for Paged GETs</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Wildcarded show commands may return paged data even if paging was not requested, especially if the command takes more than a few seconds to execute.  In addition, when paged data is returned, the number of entries returned may be fewer than the number of entries requested.  In some cases, paged responses may be completely empty (including only a more-cookie).  Clients must be written to accept paged data of any size less than or equal to the requested page size.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can enable or disable extended SEMP timeouts  to assist in keeping your system running while you update your clients to use paging.  When enabled, the  amount of time available for the system to produce a response before paging is forced on a client is increased to 60 seconds. When disabled, the timeout is 5 seconds.  </p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p>Enabling extended timeouts is meant as a temporary solution and should be used only  while SEMP clients are updated so that they can handle short pages. </p>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">By default, extended SEMP&#xA0;timeouts for paged GETs are disabled.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable extended SEMP&#xA0;timeouts for paged GETs on the event broker, enter the following commands:
			<pre>solace(configure)# service semp<br/>solace(configure/service/semp)# legacy-timeout</pre></li>
                                <li>To disable extended SEMP&#xA0;timeouts for paged GETs, enter the following commands:
			<pre>solace(configure)# service semp<br/>solace(configure/service/semp)# no legacy-timeout</pre></li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-SEMP"/>Enabling System-Level SEMP Service</h3>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p class="Tbl_Body">Shutting down SEMP&#xA0;service at the system-level will cause a disruption in management service when run since it disconnects all SEMP and SolAdmin connections from the event broker. Therefore, it is recommended that if you need to stop SEMP service on the event broker, you do so when the service disruption will least impact to clients.</p>
                              </div>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable SEMP services on the event broker, enter the following command:
			<pre>solace(configure/service/semp)# no shutdown</pre></li>
                                <li>To disable SEMP services on the event broker, enter the following command:
			<pre>solace(configure/service/semp)# shutdown</pre></li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="manage-SEMP-sessions"/>Managing SEMP Sessions</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When a client makes its first SEMPv2 request, it must supply a username and password using basic authentication.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If authentication is successful, the event broker returns a cookie containing a session token. The client can omit the username and password from subsequent requests, because the event broker now uses the session cookie for authentication instead. When the session expires or is deleted, the client must provide the username and password again, and the event broker creates a new session.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To see how sessions are used with the SEMP v2 API, see <a href="../Admin/SEMP/SEMP-API-Archit.htm#Authenti" class="MCXref xref">SEMP API Architecture</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can configure two types of timeouts for sessions:</p>
                              <dl xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <dt>
                                  <code>session-idle-timeout</code>
                                </dt>
                                <dd>The session idle timeout, in minutes. Sessions are invalidated if there is no activity in this period of time. The default value is 15 minutes.</dd>
                                <dt>
                                  <code>session-max-lifetime</code>
                                </dt>
                                <dd>The maximum lifetime of a session, in minutes. Sessions are invalidated after this period of time, regardless of activity. The default value is 43200 minutes, which is equivalent to 30 days.</dd>
                              </dl>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To set the <code>session-idle-timeout</code> value, enter the following commands in the CLI:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">solace-1&gt; enable
solace-1# configure
solace-1(configure)# service
solace-1(configure/service)# semp
solace-1(configure/service/semp)# session-idle-timeout 30</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To set the <code>session-max-lifetime</code> value, enter the following commands in the CLI:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">solace-1&gt; enable
solace-1# configure
solace-1(configure)# service
solace-1(configure/service)# semp
solace-1(configure/service/semp)# session-max-lifetime 43260

</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To show the settings:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">solace-1&gt; show service semp

Service:                  SEMP
Config Status:            Enabled
Oper Status (Plain-text): Up
Oper Status (SSL):        No Cert
VRF:                      management
Port (Plain-text):        8080
Port (SSL):               1943
Legacy Timeout:           No
Session Idle Timeout:     15 minutes
Session Maximum Lifetime: 43200 minutes
CORS Allow Any Host:      No
</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To delete a session:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace-1&gt; enable
solace-1# admin
solace-1(admin)# semp-session &lt;username-pattern&gt; [session-id &lt;session-id-value&gt;]
solace-1(admin/semp-session)# delete
</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Sessions are also used by <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span>. For details, see <a href="../Admin/Broker-Manager/PubSub-Manager-Sessions.htm" class="MCXref xref">Broker Manager Sessions</a>.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <a name="manage-CORS"/>
                                <span>Managing Cross-Origin Resource Sharing</span>
                              </h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can enable or disable Cross-Origin Resource Sharing  (CORS) for the SEMP service. By default, CORS is disabled for enhanced security.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Enabling CORS generates CORS-compliant headers that permit JavaScript loaded from any host to access the SEMPv2 endpoints on the event broker. This is helpful in case you have JavaScript tools or browser-based clients that involve management actions and where there's a low risk of security vulnerabilities.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To enable CORS, run the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">solace-1&gt; enable
solace-1# configure
solace-1(configure)# service
solace-1(configure/service)# semp
solace-1(configure/service/semp)# cors
solace-1(configure/service/semp/cors)# allow-any-host</pre>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="REST-Service"/>REST Service Management</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><span class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span> event brokers can support REST clients. At the system-level, you can enable or disable REST incoming and outgoing connections to the event broker. You can also configure REST events and event thresholds.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p class="Tbl_Body"> Shutting down REST service at the system-level disconnects all REST&#xA0;clients from the event broker   and new clients will not be able to connect. Therefore, <span class="mc-variable Variables.CompanyName variable">Solace</span> recommends that if you need to stop the REST service on the event broker that you do so when the service disruption will least impact client applications.</p>
                              </div>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-Incoming-REST"/>Enabling Incoming REST Connections</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">By default, service for incoming REST service connections is not running on an event broker.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable incoming REST service connections on the event broker, enter the following commands:
			<pre>solace(configure)# service rest<br/>solace(configure/service/rest)# incoming<br/>solace(configure/service/rest/incoming)# no shutdown</pre></li>
                                <li>To disable incoming REST service connections on the event broker, enter the following commands:
			<pre>solace(configure)# service rest<br/>solace(configure/service/rest)# incoming<br/>solace(configure/service/rest/incoming)# shutdown</pre></li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-Outgoing-REST"/>Enabling Outgoing REST Connections</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">By default, service for outgoing REST service connections is not running on an event broker.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable outgoing REST service connections on the event broker, enter the following commands:
			<pre>solace(configure)# service rest<br/>solace(configure/service/rest)# outgoing<br/>solace(configure/service/rest/outgoing)# no shutdown</pre></li>
                                <li>To disable outgoing REST service connections on the event broker, enter the following commands:
			<pre>solace(configure)# service rest<br/>solace(configure/service/rest)# outgoing<br/>solace(configure/service/rest/outgoing)# shutdown</pre></li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="REST-Events"/>Configuring REST Events</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For information on configuring REST client event thresholds, see <a href="../Monitoring/Configuring-System-Event-Thresholds.htm#montoring_and_management_1462237600_254995" data-mc-unresolved-link="import-link:configuring_event_output_and_thresholds_3996511907_24179" class="MCXref xref">Configuring REST Outgoing Service Event Thresholds</a>.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Web-Transport-Svc-Mgmt"/>Web Transport Service Management</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">At the system-level, you can configure a listen port for Web Transport service, specify the Web URL suffixes, and enable/disable Web Transport service on all Message VPNs on an event broker.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Web-Transport-Port"/>Setting Web Transport Listen Ports</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">You must first shutdown Web Transport services on the event broker before setting the Web Transport listen ports.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure the TCP port number for Web clients to use when connecting to the event broker, enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace(configure)# service web-transport<br/>solace(configure/service/web-transport)# listen-port &lt;port&gt; [ssl]</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>port</code> specifies the TCP port number that Web clients use when connecting to the event broker. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>ssl</code> specifies the port to connect to for exchanging TLS/SSL traffic. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The default ports for <code>port</code> and <code>ssl</code>&#xA0;depend on whether it's a <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span> or <span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>. For information about which port to use, see <a href="../Admin/Default-Port-Numbers.htm" class="MCXref xref">Default Port Numbers</a>. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no versions of this command do the following:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li><code>no listen-port</code> resets the port to its default value.</li>
                                <li><code>no listen-port ssl</code> resets the port to its default value.</li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-Web-Transport"/>Enabling System-Level Web Transport Service</h3>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p class="Tbl_Body"> Shutting down Web transport service at the system-level will disconnect all Web transport clients from the event broker   and new clients will not be able to connect. Therefore, it is recommended that if you need to stop Web transport service on the event broker, you do so when the service disruption will least impact clients. Also, to avoid such a large service interruption, you can optionally disable Web transport service only on specific Message VPNs (see <a href="../Features/VPN/Configuring-VPNs.htm#managing_message_vpns_884140110_410465" class="MCXref xref">Configuring Web Transport Service</a>).</p>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">By default, Web Transport service is not running on an event broker.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To start Web transport service on the event broker, enter the following commands:
			<pre>solace(configure)# service web-transport<br/>solace(configure/service/web-transport)# no shutdown</pre></li>
                                <li>To stop Web transport service on the event broker, enter the following commands:
			<pre>solace(configure)# service web-transport<br/>solace(configure/service/web-transport)# shutdown</pre></li>
                              </ul>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <ul>
                                  <li>Web Transport service is locked by default on <span class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span> &#xA0;<span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s that are older than the SolOS version 8.4.0. To unlock Web Transport service on those appliances, you must have a valid product key supplied by <span class="mc-variable Variables.CompanyName variable">Solace</span>. For more information, see <a href="../Admin/Product-Key.htm" class="MCXref xref">Product Keys </a>.</li>
                                  <li>To enable Web transport clients to connect to the event broker, you must start SMF services on the event broker because Web transport clients are also considered to be SMF clients. For more information, see <a href="#Enable-SMF" class="MCXref xref">Enabling System-Level SMF Service</a>.</li>
                                </ul>
                              </div>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Web-Suffixes"/>Specifying Web URL Suffixes</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can set the Web URL suffix that Web clients will receive from the event broker when they login, and then use when communicating with the event broker (for example, for the purpose of load balancing client sessions).</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To specify a Web URL suffix, you must shutdown Web Transport services on the event broker, and then enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace(configure)# service web-transport<br/>solace(configure/service/web-transport)# web-url-suffix &lt;suffix&gt; </pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>suffix</code> specifies the text for a <span class="mc-variable Manifest-Products-APIs.PubSub-GenericAll-Messaging-API variable">PubSub+&#xA0;Messaging API</span>  to append to the Web URL when communicating with the event broker. This text can contain up to 127 alphanumeric characters and should be unique among all created Web URL suffixes.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no version of this command, <code>no web-url-suffix</code>, resets the Web URL suffix to the default value of empty string (that is, " ").</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">For more information on session load balancing and use of URLs, see <a href="../API/Messaging-APIs/JavaScript-API/Web-Messaging-Concepts/Web-Messaging-Concepts.htm" class="MCXref xref">Web Messaging Overview</a>.
        </p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="MQTT-Service"/>MQTT Service Management</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can enable or disable MQTT service at the system-level on event brokers.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Enable-MQTT"/>Enabling System-Level MQTT Service</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"> You can globally enable or disable MQTT service for an event broker. By default, MQTT service is not enabled.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable MQTT service on the event broker, enter the following commands:
			<pre>solace(configure)# service mqtt<br/>solace(configure/service/mqtt)# no shutdown</pre></li>
                                <li>To disable MQTT service on the event broker, enter the following commands:
			<pre>solace(configure)# service mqtt<br/>solace(configure/service/mqtt)# shutdown</pre></li>
                              </ul>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p class="Tbl_Body">If you disable the MQTT service at the system level, you will disconnect all clients currently connected to any MQTT&#xA0;service-enabled Message VPNs on the event broker, and new clients will not be able to connect. Therefore, it's recommended that if you need to stop the MQTT service, you should do so when the service disruption will have the least impact. Also, to avoid large service interruptions, you have the option of disabling the MQTT&#xA0;service on individual Message VPNs (see <a href="Managing-MQTT-Messaging.htm#managing_mqtt_messaging_1203392003_440605" class="MCXref xref">Enabling and Disabling MQTT Connections</a>).</p>
                              </div>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Managing-AMQP-service"/>AMQP Service Management</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><span class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span> event brokers can support AMQP clients. At the system-level, you can enable/disable the AMQP service. Clients can connect via a global and/or per-Message VPN listen ports. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To provide connecting AMQP clients service from an event broker, you must perform the following system-level configurations:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <a href="#system-listen-ports" class="MCXref xref">Setting AMQP&#xA0;Listen Ports</a>
                                </li>
                                <li><a href="#Configur" class="MCXref xref">Configuring the Virtual Hostname</a>(Not required when using per-Message VPN ports)</li>
                                <li>
                                  <a href="#AMQP-Service" class="MCXref xref">Enabling System-Level AMQP Service</a>
                                </li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="system-listen-ports"/>Setting AMQP&#xA0;Listen Ports</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The AMQP service supports both plain-text and encrypted data transport. If you want to transport plain-text and TLS/SSL data, a separate port must be configured for each transport type. To connect AMQP plain-text clients to an event broker, per-Message VPN AMQP plain-text ports must be configured.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For AMQP TLS/SSL clients to connect to an event broker, you can configure the following	listen-ports:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>A global AMQP TLS/SSL port that is shared between all Message VPNs. This configuration is not required when using only per-Message VPN ports.   </li>
                                <li>per-Message VPN ports that are private to a particular Message VPN.</li>
                              </ul>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">AMQP Global Port vs per-Message VPN Port </h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The event broker, a global AMQP TLS/SSL port can be configured. All AMQP TLS/SSL clients can connect to the global port. As a result, per-Message VPN ports are not required and the configuration is much simpler. This consumes fewer ports (one global vs one per-Message VPN), irrespective of the number of Message VPNs. It also potentially reduces firewall configuration.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If you have both the global port and per-Message VPN port configured, the client can connect to either one. For global port connections, virtual hostnames must be configured to map the client-provided hostname to the corresponding Message VPN. Note that clients connecting to the global port must connect via TLS with the hostname set in the Server Name Indication (SNI). For more information about virtual hostnames, see <a href="#Configur" class="MCXref xref">Configuring the Virtual Hostname</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Also, when connecting to the global port, clients must be able to validate the event broker&#x2019;s server certificate based on the virtual hostname that they are connecting to. The standard way to ensure this is to add the virtual hostname to the subject alternate name (or wild card that covers the virtual hostname) of the event broker&#x2019;s server certificate. </p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Setting"/>Setting Global AMQP Listen Ports</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To set a global listen port for AMQP&#xA0;connections, enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">solace(configure)# service amqp
solace(configure/service/amqp)# listen-port &lt;port&gt; ssl</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no version of this command, <code>no listen-port ssl</code>, removes the currently configured port number.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>port</code> is the port number from 1 to 65535.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>ssl</code> specifies that the given port will use a TLS transport. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">To change the global listen port, the AMQP service must be shutdown globally. Refer to <a href="#AMQP-Service" class="MCXref xref">Enabling System-Level AMQP Service</a></p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Setting per-Message VPN AMQP Listen Ports</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To set per-Message VPN listen ports for AMQP&#xA0;connections , see <a href="AMQP-on-VPN-Management.htm#set-vpn-listen-ports" class="MCXref xref">Set Message VPN&#xA0;AMQP&#xA0;Listen Ports</a>.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Configur"/>Configuring the Virtual Hostname</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A virtual hostname is configured on the event broker to map the client provided hostname to the corresponding Message VPN. This mapping is used only for connections arriving through the global AMQP port. If a client connects through the per-Message VPN port, the virtual hostname (if provided) is ignored. Refer to <a href="#system-listen-ports" class="MCXref xref">Setting AMQP&#xA0;Listen Ports</a> for information on global and per-Message VPN&#xA0;listen ports.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Clients that connect to a global port and provide a hostname, through the Server Name Indication (SNI), will be directed to its corresponding Message VPN. An exact case-insensitive match is performed on the client-provided hostname against the configured virtual hostnames. This mechanism is supported only for AMQP and only for hostnames provided through the SNI extension of TLS. If a mapping for a hostname does not exist or points to a nonexistent Message VPN, the client login will fail.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Note that the virtual-hostname is restricted to contain only ASCII characters. To represent an internationalized domain name by a virtual-hostname on the event broker, you must first convert the non-ASCII characters to the punycode-encoded A-label form. For example, if an application were to use "&#xE9;xample.com" as a virtual-hostname, it must be configured as the virtual-hostname "xn--xample-9ua.com" on the event broker.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure a virtual hostname, enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">solace(configure)# service 
solace(configure/service)# create virtual-hostname &lt;name&gt;</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no version of this command, <code>no virtual-hostname &lt;name&gt;</code>, removes the virtual hostname. It must be disabled to be removed. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>&lt;name&gt;</code> is the virtual hostname. It must be an FQDN (1..253 characters) or an IP address (nnn.nnn.nnn.nnn).</p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Mapping the Virtual Hostname to a Message VPN</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To map the virtual hostname to the corresponding Message VPN, enter the following command:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">
solace(configure/service/virtual-hostname)# message-vpn &lt;vpn-name&gt;
</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no version of this command, <code>no message-vpn</code>, removes the Message VPN&#xA0;mapping.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><u>Where</u>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>&lt;vpn-name&gt;</code> is the name of the Message VPN&#xA0;to connect to.</p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Enabling the Virtual Hostname</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The virtual hostname to Message VPN mapping is disabled by default. You can enable it by executing the following command:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">
solace(configure/service/virtual-hostname)# no shutdown</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To disable the virtual hostname to Message VPN mapping, enter the following command:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code" xml:space="preserve">
solace(configure/service/virtual-hostname)# shutdown</pre>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="AMQP-Service"/>Enabling System-Level AMQP Service</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can enable or disable the AMQP&#xA0;service at the system-level on the event broker.</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>To enable the AMQP service for the event broker, enter the following commands: 
			<pre>solace(configure)# service amqp<br/>solace(configure/service/amqp)# no shutdown</pre></li>
                                <li>To disable the AMQP service for the event broker, enter the following commands: 
			<pre>solace(configure)# service amqp<br/>solace(configure/service/amqp)#  shutdown</pre></li>
                              </ul>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">
                                <p class="Tbl_Body"> If you disable the AMQP service at the system level, you will disconnect all clients currently connected to any AMQP service-enabled Message VPNs on the event broker. To avoid such a large service interruption, you can disable the AMQP&#xA0;service only on specific Message VPNs (see <a href="AMQP-on-VPN-Management.htm#Enable-Disable-VPN-Service" class="MCXref xref">Enable/Disable AMQP Service for VPNs</a>).</p>
                              </div>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Enable-All-Services"/>Enabling All Messaging Services</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The Solace event broker Message Backbone is a Virtual Routing and Forwarding (VRF) object that contains all Solace event broker interfaces (physical, LAG, and IP), and transports message and topic subscription traffic between client applications and the virtual routers on the event broker.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The message backbone acts as a global switch that enables or disables all messaging services at the global level. Disabling the message backbone disables all messaging services until the message backbone is re-enabled.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Services that are disabled using the message backbone switch will retain their individually configured states when the message backbone is re-enabled. For example, if Web transport service is in a disabled state when the message backbone is disabled, the Web transport service will remain disabled when the message backbone is re-enabled.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <p>Config-Sync will not automatically synchronize this object or property. Therefore, if the event broker is being used in a high-availability (HA) redundant configuration or in a replicated site, you must manually configure this object/property on each mate event broker or replicated Message VPN.</p>
                                <p>To determine whether an object/property is synchronized by Config-Sync, look up the command used to configure the object/property in the <a href="../Admin/Solace-CLI/Command-Line-Reference.htm" class="MCXref xref">CLI Command Reference</a> or type the command in the <span class="mc-variable Product-Names.solace_cli variable">Solace CLI</span>, ending the command with "<code>?</code>". The Help lists whether the object/property is synchronized.</p>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To shut down the message backbone to disable all messaging services at a global level, enter the following commands:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace(configure)# service msg-backbone shutdown<br/>All clients will be disconnected.<br/>Do you want to continue (y/n)? y</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The no version of this command, <code>no msg-backbone shutdown</code>, globally enables messaging service. Services that were disabled before the message backbone was shutdown will remain disabled when this command is run.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Managing-Event-Thresholds"/>Managing Service Event Thresholds</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure the thresholds that define when system&#x2011;level events are generated for the number of simultaneous client connections to the event broker, enter the following command:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace(configure)# service event</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The CLI is now at a level at which you can configure the set and clear event thresholds at which system-level events are generated for the number of simultaneous client connections. These thresholds are set according to the service type used (for example, SMF, Web Transport, REST). For more information, see <a href="../Monitoring/Configuring-System-Event-Thresholds.htm" class="MCXref xref" data-mc-unresolved-link="import-link:configuring_event_output_and_thresholds_3996511907_24179">Configuring System Event Thresholds</a>.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.18.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 18, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
