<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=Product-Names.cloud_product_titlecase%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Installing PubSub+&#xA0;Cloud in AWS Outposts </title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" data-mc-stylesheet-type="table"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a xmlns="" name="aanchor405"/><MadCap:concept term="Cloud"/>Installing <span class="mc-variable Product-Names.cloud_product_titlecase variable" data-mc-conditions="SAP.SapHideFromOutput">PubSub+&#xA0;Cloud</span> in AWS Outposts </h1>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Caution">Installing <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> in AWS&#xA0;Outposts is a Controlled-Availability (CA) feature. <a href="../../get-support.htm" target="_blank" class="link-internal">Contact <span class="mc-variable Variables.CompanyName variable">Solace</span></a> to see if this feature is suitable for your use case and deployment requirements.</div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><span class="mc-variable Variables.CompanyName variable">Solace</span> supports deploying <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s in Amazon Elastic Kubernetes Service (EKS) in AWS Outposts as a <a href="../stages_concept.htm#Controlled_Availability" target="_blank" class="link-internal">controlled availability</a> feature. AWS Outposts provide the ability to deploy your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> to EKS clusters on Amazon hardware located on-premises. For more information, see the <a href="https://aws.amazon.com/outposts/" target="_blank" class="link-offsite">AWS Outposts Family</a> documentation. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">There are a number of environment-specific steps that you must perform to install <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput"><span class="mc-variable Product-Names.cloud_product_long variable">PubSub+ Cloud</span></MadCap:conditionalText>. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">Before you
            perform the environment-specific steps described below, ensure that you review and fulfill the general requirements
listed in <a href="prerequisites-k8s.htm" class="MCXref xref">Common Kubernetes Prerequisites</a>.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <p><span class="mc-variable Variables.CompanyName variable">Solace</span> does not support <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> integration with service meshes. Service meshes include Istio, Cilium, Linkerd, Consul, and others. If deploying to a cluster with a service mesh, you must:</p>
                                <ul>
                                  <li>exclude the <code>target-namespace</code> used by <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> services from the service mesh.</li>
                                  <li>set up connectivity to <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> in the cluster using LoadBalancer or NodePort. See <a href="deployment-exposecluster-k8s.htm" target="_blank" class="MCXref xref">Exposing Event Broker Services to External Traffic</a> for more information.</li>
                                </ul>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For customer-owned deployments, you are  responsible for the set up of the Kubernetes cluster and the maintenance and operation of the cluster. The following information can help you to understand the requirements of that Kubernetes cluster that you create:
				<ul><li>The EKS&#xA0;cluster in the AWS&#xA0;Outposts must fulfill the <a href="#outposts-prereqs" class="MCXref xref">Prerequistes </a></li><li>Review the <a href="#outpost-considerations" class="MCXref xref">Considerations for Deploying PubSub+ Cloud Using AWS Outposts </a>.</li><li> One way to create and  understand the requirements for the Kubernetes EKS cluster is to use the  examples (Terraform  module and deployment scripts) available from  <span class="mc-variable Variables.CompanyName variable">Solace</span>.</li></ul><p class="Note">Available from <span class="mc-variable Variables.CompanyName variable">Solace</span> are sample scripts and Terraform modules you can use as reference example to understand what is required in your Kubernetes cluster. The example is provided as-is. You (the customer) can modify the files as required to create your Kubernetes cluster. If you choose to do so, then you are responsible to maintain and modify the files for your deployment. For more information, <a href="../../get-support.htm" class="link-internal"> contact <span class="mc-variable Variables.CompanyName variable">Solace</span></a>.</p></p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-considerations"/>Considerations for Deploying <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> Using AWS Outposts </h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Be aware of the following considerations when choosing to deploy <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> to AWS Outposts:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <p><span class="mc-variable Variables.CompanyName variable">Solace</span> only supports deployment of <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> to Amazon Elastic Kubernetes Service (EKS) for AWS Outposts.</p>
                                </li>
                                <li>
                                  <p><span class="mc-variable Variables.CompanyName variable">Solace</span> only supports the use of AWS Outposts Rack for deploying <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> to EKS on AWS Outposts. See <a href="https://aws.amazon.com/outposts/rack/" target="_blank" class="link-offsite">AWS Outposts Rack</a>  in the AWS Outposts documentation for more information.</p>
                                </li>
                                <li>
                                  <p>You must configure the AWS Outposts to use <b>direct VPC routing for AWS Outposts</b>. Direct VPC routing is the default configuration option for local gateway route tables when deploying to AWS Outposts. See <a href="https://docs.aws.amazon.com/outposts/latest/userguide/routing.html#direct-vpc-routing" target="_blank" class="link-offsite">Direct VPC Routing</a> in the AWS Outposts documentation for more information.</p>
                                </li>
                                <li>
                                  <p>You must create a <code>placement group</code> as <code>partition</code> with a count of <code>2</code>. See <a href="#outpost-placement-group" class="MCXref xref">Placement Groups</a>.</p>
                                </li>
                                <li>
                                  <p>You must configure your EKS cluster <code>storage_class</code> with GP2 storage when deploying <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> to EKS on AWS Outposts. For more information, see <a href="#outpost-storage" class="MCXref xref">Storage Class</a>.</p>
                                </li>
                                <li>
                                  <p>You must size your CIDR correctly to accommodate both system usage, and the number of <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s your cluster will host. For more information, see <a href="#outpost-ip-reqs" class="MCXref xref">IP&#xA0;Range and CIDR&#xA0;Sizing</a>. </p>
                                </li>
                                <li>
                                  <p>If you intend to expose your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s to external networks, you must use <span class="mc-variable Variables.CompanyName variable">Solace</span>'s custom MetalLB load balancer. For more information, see <a href="#outpost-metallb-setup" class="MCXref xref">Using the Custom MetalLB Load Balancer</a>.</p>
                                </li>
                              </ul>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outposts-prereqs"/>Prerequistes </h2>
                              <dl xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <dt>Permissions</dt>
                                <dd>You require an AWS account with the permissions listed below. These permissions are required only by the individual when deployment is done using a Terraform module:</dd>
                                <ul>
                                  <li>All the permissions that
                        are required to create and manage the EKS&#xA0;cluster (<code>eksClusterRole</code>).</li>
                                  <li>Permission to
                        create IAM&#xA0;roles and IAM&#xA0;policies in the EKS cluster. These permissions are required by the
                        Terraform module. The example module creates these IAM roles and policies that are used by the EKS
                        cluster, and the following permissions to create and manage resources in the EKS cluster:<dl><dt>IAM&#xA0;Role</dt><dd>Gives permissions to the following:<ul><li>EKS&#xA0;cluster control plane</li><li>EKS cluster worker nodes</li><li>EKS Load balancer controller</li><li>EKS auto-scaler</li></ul></dd><dt>IAM Policy</dt><dd>Creates a set of permissions that the is required by the following in the deployment:<ul><li>EKS load balancer controller (for more information, see the <a href="https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/v2.2.0/docs/install/iam_policy.json" target="_blank" class="link-offsite">Amazon load balancer controller installation document</a>)</li><li>Auto-scaler (for more information about creating this policy, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/cluster-autoscaler.html#ca-deploy" class="link-offsite" target="_blank">Cluster Autoscaler in the Amazon documentation</a>)</li></ul></dd><dt>All EC2 resources</dt><dd>The Kubernetes and Terraform modules require this permission to access  tags and the metadata of resources. 
                                      The autoscaler and Load Balancer provisioning look at what security group each instance has, and modifies the security groups to add rules for the load balancer services.
								   </dd><dt>VPC</dt><dd>The Terraform module requires this permission to create the VPC. The Kubernetes module
also requires this permission to scan VPC and subnets to retrieve networking parameters.</dd><dt>EBS</dt><dd>Permission is required for Kubernetes dynamic PVCS that require access to EBS in order to
dynamically create values and attach on the correct host. The host also requires EC2 access as described above.</dd><dt>Security Groups</dt><dd>The Kubernetes module requires this permission to create security groups. The load balancer services also requires rules added as well.</dd><dt>Routing tables</dt><dd>The Terraform module requires this permission  to create routing tables.</dd><dt>Internet Gateways</dt><dd>Terraform module requires this permission to create an Internet gateway.</dd><dt>Elastic IPs</dt><dd>The Terraform module requires this permission to attach Elastic IP addresses (EIPs) to the NAT gateway.</dd><dt>NAT Gateways</dt><dd>The Terraform module requires this permission to create the NAT gateway and attach EIPs to the NAT gateway.</dd><dt>OIDC Provider</dt><dd>The Terraform module requires permission to create an OIDC provider that will be used to authenticate Kubernetes modules against IAM&#xA0;roles. The Auto-scaler and AWS&#xA0;Load Balancer Controller are two of the Kubernetes modules that use OIDC&#xA0;to authenticate the IAM&#xA0;role.</dd></dl></li>
                                </ul>
                              </dl>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <dl>
                                  <dt>Elastic  Load Balancers</dt>
                                  <dd>The worker node group requires this permission to install the EKS&#xA0;cluster.</dd>
                                </dl>
                              </ul>
                              <dl xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <dt>Networking</dt>
                                <dd>If you plan to use AWS&#xA0;NAT gateways for outgoing traffic, you must create an Elastic IP (EIP) address for each NAT Gateway that you intend to use with the following considerations:
            <ul><li>The EIPs for the NAT gateways must be created upfront.</li><li><span class="mc-variable Variables.CompanyName variable">Solace</span><b> recommends  two EIPs</b> are created. A minimum of one EIP allocation ID is required. </li></ul></dd>
                                <dd>EIPs are not required if you plan to route traffic over your on-premises network. </dd>
                              </dl>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-eks-cluster-reqs"/>EKS&#xA0;Cluster Specifications</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Before you (the customer)&#xA0;install the <span class="mc-variable Product-Names.cloud_agent_short variable">Mission Control Agent</span>, you must configure the EKS&#xA0;cluster on your AWS&#xA0;Outpost with the technical specifications listed in the following sections:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <a href="#outpost-placement-group" class="MCXref xref">Placement Groups</a>
                                </li>
                                <li>
                                  <a href="#outpost-instance-type" class="MCXref xref">Instance Type Requirements</a>
                                </li>
                                <li>
                                  <a href="#outpost-storage" class="MCXref xref">Storage Class</a>
                                </li>
                                <li>
                                  <a href="#outpost-ip-reqs" class="MCXref xref">IP&#xA0;Range and CIDR&#xA0;Sizing</a>
                                </li>
                                <li>
                                  <a href="#outpost-metallb-setup" class="MCXref xref">Using the Custom MetalLB Load Balancer</a>
                                </li>
                                <li>
                                  <a href="#outposts-autoscaling" class="MCXref xref">Autoscaling</a>
                                </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For more detailed information about using Amazon EKS, see the
            <a href="https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html" target="_blank" class="link-offsite" style="font-style: italic;">User&#xA0;Guide</a>
            on the Amazon EKS&#xA0;documentation site.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-placement-group"/>Placement Groups</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">AWS&#xA0;Outposts don't have traditional availability zones, as the AWS&#xA0;Outposts is a physical object residing in one of your datacenters. This has implications for the configuration of your cluster in order to maintain the High Availability (HA) status of your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To maintain the HA&#xA0;status of your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>, you must create a <code>placement group</code> on the AWS Outposts, configured as a <code>partition</code> with a count of <code>2</code>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The <code>partition placement group</code> ensures the placement of the individual nodes of the HA <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> in different partitions. The different partitions do not share underlying hardware. If the hardware in one partition fails, the backup node of the HA&#xA0;<span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> takes over. </p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <p>For information about HA&#xA0;<span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s, see <a href="../ha_concept.htm" class="MCXref xref">High Availability in PubSub+&#xA0;Cloud</a>.</p>
                                </li>
                                <li>
                                  <p>For information about configuring placement groups in AWS&#xA0;Outposts, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/concepts-placement-groups.html" target="_blank" class="link-offsite">Working with placement groups</a> in the AWS&#xA0;Documentation.</p>
                                </li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-instance-type"/>Instance Type Requirements</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Because of the additional resources required to run Kubernetes, the instance types that are required for some of the scaling tiers are larger than their instance-based cousins. the following are the instance size type requirements for an EKS. For details about the core and RAM&#xA0;requirements for each scaling tier, see <a href="resource-requirements-k8s.htm" class="MCXref xref">Resource Requirements for Kubernetes  and Default Port Configuration</a>.</p>
                              <table xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
                                <col class="TableStyle-Table_Num-Column-Column1"/>
                                <col class="TableStyle-Table_Num-Column-Column1"/>
                                <thead>
                                  <tr class="TableStyle-Table_Num-Head-Header1">
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Scaling Tier</th>
                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Instance Type Required</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Monitor</td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">M5.large</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">Developer</MadCap:conditionalText>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">R5.large</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <span class="mc-variable Product-Names.class_250 variable">Enterprise 250</span>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">R5.large</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
                                      <span class="mc-variable Product-Names.class_1k variable">Enterprise 1K</span>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyD-Column1-Body1">R5.large</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <span class="mc-variable Product-Names.class_5k variable">Enterprise 5K</span>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">R5.xlarge</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <span class="mc-variable Product-Names.class_10k variable">Enterprise 10K</span>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">R5.xlarge</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <span class="mc-variable Product-Names.class_50k variable">Enterprise 50K</span>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">R5.2xlarge</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
                                      <span class="mc-variable Product-Names.class_100k variable">Enterprise 100K</span>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1"> R5.2xlarge</td>
                                  </tr>
                                </tbody>
                              </table>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-storage"/>Storage Class</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The EKS storage class (<code>type</code>) must be GP2. </p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">It's important remember that the disk size (the size of the EBS volume) is larger than the message spool size. <ul><li>For <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s 10.6.1 and earlier, the disk requirement is twice the Message Spool size specified when you create an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. For example, if you configure an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>  to use a Message Spool of 500 GiB, you require a 1 TB disk size. </li><li>For <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s version 10.7.1 and later, the disk size requirement is 30% greater than the message spool size for the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> class. For example, the Enterprise 250 class has a message spool size of 50 GiB, requiring a 65 GiB disk size. </li></ul>You must consider the disk space overhead when planning your Kubernetes cluster. See <a href="resource-requirements-k8s.htm#persistent-disk-reqs" target="_blank" class="MCXref xref">Volume Size for High-Availability Event Broker Services</a> for a list of disk size requirements for all <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> versions.</div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To deploy <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span>, you must configure the <code>StorageClass</code> in EKS to use the  <code>WaitForFirstConsumer</code> binding mode (<code>volumeBindingMode</code>). To support scale-up, the <code>StorageClass</code> must contain the <code>allowVolumeExpansion</code> property, and have it set to "<code>true</code>". You should always use XFS&#xA0; as the filesystem type (<code>fsType</code>).</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The properties of your<code> StorageClass</code> yaml should be similar to the following:
        </p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: gp2
parameters:
  csi.storage.k8s.io/fstype: xfs
  type: gp2
  encrypted: "true"
provisioner: ebs.csi.aws.com
reclaimPolicy: Delete
volumeBindingMode: WaitForFirstConsumer
allowVolumeExpansion: true</pre>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-nat-gateway"/>NAT&#xA0;Gateway</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">The following network configurations are not required if you route outgoing traffic through your on-premises network. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You require one Elastic IP (EIP) for each NAT gateway for your cluster. <span class="mc-variable Variables.CompanyName variable">Solace</span> recommends that you have two Elastic IPs (and two NAT gateways) for a production system. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can have up to three EIPSs and NAT gateways, which allows you to have multi-AZ NAT redundancy . This requires that you have three EIPs. These NAT EIPs must be created upfront. If you use a Terafom module, ensure you use the EIPs.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-ip-reqs"/>IP&#xA0;Range and CIDR&#xA0;Sizing</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You must consider the CIDR requirement for your worker nodes when deploying <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span> to EKS on AWS Outpost. Note that if you are  using <span class="mc-variable Variables.CompanyName variable">Solace</span>'s custom MetalLB load balancer, it requires one CIDR for its IP pool definition.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"> The calculations below are based on custom settings for <code>WARM_IP_TARGET</code> and <code>WARM_ENI_TARGET</code>:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">kubectl set env ds aws-node -n kube-system WARM_IP_TARGET=1     
kubectl set env ds aws-node -n kube-system WARM_ENI_TARGET=0</pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Details about these settings are available in the <a href="https://github.com/aws/amazon-vpc-cni-k8s/blob/master/docs/eni-and-ip-target.md" target="_blank" class="link-offsite">Amazon Kubernetes VPC&#xA0;CNI&#xA0;documentation on GitHub</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can calculate your CIDR requirement for the EKS worker node subnet with the following equation:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">5 + 10 + HA*10 + (SA+1) * 4</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The values in the equation are explained below: </p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <p>The first number (5) represents the number of IPs reserved for the AWS subnet. This includes the first four IPs and the last IP (for example, in a /24 CIDR, IP .255 would be the last IP reserved).</p>
                                </li>
                                <li>
                                  <p>The second number (10) represents the IPs required for system usage, including: </p>
                                  <ul>
                                    <li>
                                      <p id="setup-card-topics">Two for the autoscaler </p>
                                    </li>
                                    <li>
                                      <p id="setup-card-topics">Two for the Core DNS </p>
                                    </li>
                                    <li>
                                      <p id="setup-card-topics">Two for the  CSI controller</p>
                                    </li>
                                    <li>
                                      <p id="setup-card-topics">Two for the MetalLB controller </p>
                                    </li>
                                    <li>
                                      <p id="setup-card-topics">Two for the worker nodes IPs. </p>
                                    </li>
                                  </ul>
                                </li>
                                <li>
                                  <p>The third section of the equation (HA*10) represents the total IPs required by high availability (HA) <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s in your cluster. Each HA <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> requires 10 IPs, including: </p>
                                  <ul>
                                    <li>
                                      <p>Three for the pods</p>
                                    </li>
                                    <li>
                                      <p>One for the loadbalancer</p>
                                    </li>
                                    <li>
                                      <p>Six for worker nodes</p>
                                    </li>
                                  </ul>
                                </li>
                                <li>
                                  <p>The forth section of the equation (SA+1) represents the total IPs required by <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">standalone (SA)</MadCap:conditionalText> class <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s in your cluser. Each <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">SA</MadCap:conditionalText> <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> requires four IPs, including:</p>
                                  <ul>
                                    <li>
                                      <p>One for pods</p>
                                    </li>
                                    <li>
                                      <p>One for the loadbalancer</p>
                                    </li>
                                    <li>
                                      <p>Two for worker nodes. </p>
                                    </li>
                                    <li>
                                      <p>The plus one accounts for the IP required by the extra worker node used during upgrades. Only one additional node is required regardless of how many <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">SA</MadCap:conditionalText> <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> you deploy. </p>
                                    </li>
                                  </ul>
                                </li>
                              </ul>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outpost-metallb-setup"/>Using the Custom MetalLB Load Balancer</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If you choose to use a load balancer to connect to the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s you deploy to your EKS&#xA0;cluster in AWS Ouptost, you must use the custom MetalLB load balancer provided by <span class="mc-variable Variables.CompanyName variable">Solace</span> to do so.  Deploying the MetalLB&#xA0;load balancer must be done before you deploy the <span class="mc-variable Product-Names.cloud_agent_short variable">Mission Control Agent</span>. You must also update the clusters <code>kube-proxy-config</code>, in the <code>kube-system</code> namespace, which you can do after creating the cluster.</p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">
                                  <p>To update the <code>kube-proxy-config</code>, perform a PATCH&#xA0;to the <code>kube-proxy-config</code> in the <code>kube-system</code> namespace with the following payload:</p>
                                  <pre xml:space="preserve">localDetectMode: InterfaceNamePrefix
detectLocal:
  interfaceNamePrefix: eni</pre>
                                  <p>The PATCH&#xA0;adds the fields in the payload to the <code>kube-proxy-config</code>, which are not there by default</p>
                                </li>
                                <li value="2">
                                  <p>Generate the <code>metallb.yaml</code> helm value file as an output of the <code>worker_group</code> module with the following script: </p>
                                  <pre>terraform -chdir=worker_group/ output -raw metallb_values &gt; metallb.yaml

helm upgrade --install metallb \
  "https://test-charts-solace.s3.eu-central-1.amazonaws.com/metallb-0.0.0.tgz" \
  --namespace kube-system \
  --values metallb.yaml</pre>
                                </li>
                                <li value="3">You must reserve a subset worker group's IPs for the metalLB&#xA0;load balancer. This requires that you decide on an IP&#xA0;range and define the <code>reservation_type</code> as <code>explicit</code>. You can do this with the following terraform module:<![CDATA[		]]><pre>resource "aws_ec2_subnet_cidr_reservation" "metal_lb_reservation" {
  cidr_block       = var.metal_lb_cidr_block
  reservation_type = "explicit"
  subnet_id        = var.subnet_id
}</pre></li>
                                <li value="4">
                                  <p>After the MetalLB controller pod is running, you can apply the MetalLB&#xA0;Custom Resource Definitions (CRD) to the cluster. </p>
                                </li>
                                <ol>
                                  <li value="1">
                                    <p>Use the following script to apply the IP address pool that you defined with the terraform module in step 3, where <code>&lt;First IP of MetalLB CIDR&gt;-&lt;Last IP of MetalLB CIDR&gt;</code> must match the CIDR passed by the <code>metal_lb_cidr_block</code> variable when deploying the <code>worker_group</code>. This represents the pool of IP addresses which are reserved for MetalLB to assign to services.</p>
                                    <pre>apiVersion: metallb.io/v1beta1
kind: IPAddressPool
metadata:
  name: first-pool
  namespace: kube-system
spec:
  addresses:
    - &lt;First IP of MetalLB CIDR&gt;-&lt;Last IP of MetalLB CIDR&gt;</pre>
                                  </li>
                                  <li value="2">
                                    <p>Create an AWS Advertisement object. This configures MetalLB to use an AWS&#xA0;advertisement strategy to advertise its IP address to services. </p>
                                    <pre xml:space="preserve">apiVersion: metallb.io/v1beta1
kind: AWSAdvertisement
metadata:
  name: aws
  namespace: kube-system
spec:
  ipAddressPools:
  - first-pool</pre>
                                  </li>
                                </ol>
                              </ol>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="outposts-autoscaling"/>Autoscaling</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Your cluster requires autoscaling to provide the appropriate level of available resources for your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s as their demands change. <span class="mc-variable Variables.CompanyName variable">Solace</span> recommends using the Kubernetes Cluster Autoscaler, which you can find in the Kuberenetes GitHub repository at: <a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler" class="link-offsite" target="_blank">https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">See the <a href="https://docs.aws.amazon.com/eks/latest/userguide/autoscaling.html" class="link-offsite" style="font-style: italic;" target="_blank">Autoscaling</a> documentation on the Amazon EKS&#xA0;documentation site for information about implementing a Cluster Autoscaler.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
