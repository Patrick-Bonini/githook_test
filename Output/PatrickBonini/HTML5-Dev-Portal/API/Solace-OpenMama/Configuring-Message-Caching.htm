<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|OpenMAMA|Using OpenMAMA" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Configuring Message Caching</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Configuring Message Caching</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This section provides information on how ingress OpenMAMA messages for non&#x2011;book and order book data and dictionaries are handled when the PubSub+ Cache facility is used to provide last-value caching updates for clients. It also provides information on how to configure the SolOpenMAMA Plug-In that is required for OpenMAMA processing and handling.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When the PubSub+ Cache facility is used with the Solace OpenMAMA messaging solution, the following message exchange patterns may occur:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>A publishing client connected to a specific Message VPN can publish messages with initial values or delta updates to well-known topics (that is, symbols), and the event broker distributes the messages to all the PubSub+ Cache Instances that belong to a Cache Cluster that is assigned a matching topic subscription. PubSub+ Cache Instances are configured to only keep the latest message for a topic rather than multiple messages.</li>
                                <li>A subscribing client connected to the same Message VPN that wants an initial value (with the latest updates applied to it) can send cache requests for specific topics to a Distributed Cache, Cache Cluster, or PubSub+ Cache Instance that belongs to that Message VPN. The event broker message bus load-balances the client cache requests amongst the PubSub+ Cache Instances that cache messages for the requested topic, and a single PubSub+ Cache Instance will return a cache response to the requesting client with a message with the last values cached for the requested topic.</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To ensure that the OpenMAMA messages that are cached have the most current values, each PubSub+ Cache Instance must use a Solace-provided PubSub+ Cache Ingress Message Plug-In (<code>solopenmama_plugin</code>). The SolOpenMAMA Plug-In handles non-book, order book, and dictionary messages.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The SolOpenMAMA Plug&#x2011;In inspects each received message, and then uses OpenMAMA libraries to properly handle them. For example, a SolOpenMAMA Plug-In stores initial value messages for a topic in its parent PubSub+ Cache Instance and when it receives subsequent update messages, it applies delta values updates to the appropriate fields in the cached message for the topic. If necessary, it can also discard a received message.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The SolOpenMAMA Plug-In uses OpenMAMDA to process updates to order books according to a single dictionary file that is locally installed on the server hosting the PubSub+ Cache Instance.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="message-cache-process"/>Message Caching Process</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When a PubSub+ Cache Instance receives an ingress OpenMAMA message for a specific topic, the SolOpenMAMA Plug-In gets the message payload, then inspects the message.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Once the message is identified as a valid OpenMAMA message (non-book, order book, data dictionary, or delete), the Plug-In then handles the message in a manner appropriate to its type and instructs the PubSub+ Cache Instance whether to cache the message and what operations to perform for the cached contents for the topic.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The Plug-In performs the following actions for the received message types:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>initial value message&#x2014;The Plug-In performs no modifications to the message, and it is written unmodified to the PubSub+ Cache Instance.</li>
                                <li>initial value book message&#x2014;The Plug-In performs no modifications to the message, and it is written unmodified to the PubSub+ Cache Instance.</li>
                                <li>initial value dictionary message&#x2014;The Plug-In performs no modifications to the message, and it is written unmodified to the PubSub+ Cache Instance.</li>
                                <li>update message&#x2014;The Plug-In retrieves the cached message for the symbol from the PubSub+ Cache Instance, then applies the updates from the new message to the appropriate fields. The updated message is then written back to the PubSub+ Cache Instance.</li>
                                <li>update book message&#x2014;The Plug-In retrieves the cached message for the order book from the PubSub+ Cache Instance, then applies the updates from the new message to the appropriate fields. The updated message is then written back to the PubSub+ Cache Instance.</li>
                                <li>delete message&#x2014;The Plug-In instructs the PubSub+ Cache Instance to delete the cached message for the given topic, and then discard the received delete message. A delete message can be received for non-book, book, or dictionary data.</li>
                                <li>unexpected message&#x2014;The Plug-In discards the received message and generates a warn log message.</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For more detailed information on how the SolOpenMAMA Plug-In handles specific, enumerated Open MAMA messages, refer to <a href="message-type-handling.htm" class="MCXref xref">OpenMAMA Message Type Handling</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The SolOpenMAMA Plug-In differs from customer&#x2011;defined PubSub+ Cache Ingress Plug-Ins in that the actions to perform for received OpenMAMA messages are predefined by Solace. This ensures that OpenMAMA messages are handled in a standard, predictable manner. (For more detailed information on the operation and configuration of customer&#x2011;defined PubSub+ Cache Ingress Plug-Ins, refer to <a href="../../Additional-Products/Solace-PubSub-Cache/Using-Ingress-Message-Plugins.htm" class="MCXref xref" data-mc-unresolved-link="import-link:using_ingress_message_plugins_1786797330_38232">Using Ingress Message Plug-Ins</a>.)</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="data-loss-detection"/>Data Loss Detection</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A PubSub+ Cache Instance stores reference copies of OpenMAMA messages for a particular set of topics, but there is no centralized network entity that is able to replay missing data from OpenMAMA messages to the PubSub+ Cache Instance. Therefore, the PubSub+ Cache Plug&#x2011;In cannot check for data loss or perform any specific actions in the event of data loss for a symbol.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For information on how PubSub+ Cache handles lost messages, refer to <a href="../../Additional-Products/Solace-PubSub-Cache/Configuring-PubSub-Cache-Ins.htm#Stop-On-Loss" class="MCXref xref" data-mc-unresolved-link="import-link:configuring_and_managing_solcache_541341864_17237">Configuring Stop On Lost Message Behavior</a>.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="configuring-the-solopenmama-plugin"/>Configuring the SolOpenMAMA Plug-In</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The configuration of a SolOpenMAMA Plug-In is provided through a special <code>mama.properties</code> file used for the SolOpenMAMA Plug-In. This <code>mama.properties</code> file, which differs from the configuration file of the same name used by the Solace Middleware Bridge, is required for each PubSub+ Cache Instance used to handle OpenMAMA messages. As of SolOpenMAMA 7.5.0 release, the PubSub+ Cache instance handles only payload version 2 messages and drops payload version 1 messages. Clients can continue to use SolOpenMAMA versions before 7.5.0, with the exception that payload version 1 messages will be discarded in the PubSub+ Cache instance.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Typically, this configuration file is located in the same directory that the SolOpenMAMA Plug&#x2011;In was installed in on the Linux server hosting the PubSub+ Cache Instance. The location of the <code>mama.properties</code> file used for the SolOpenMAMA Plug-In must be specified in the <code>WOMBAT_PATH</code> environment variable.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To modify the configuration of a PubSub+ Cache Instance&#x2019;s SolOpenMAMA Plug-In, you can use a text editor to edit its <code>mama.properties</code> file. Any changes made to this file only take effect after the SolOpenMAMA Plug-In successfully initializes.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can perform the following configuration changes for the SolOpenMAMA Plug&#x2011;In:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>Plug-In dictionary file&#x2014;To configure the dictionary file a SolOpenMAMA Plug&#x2011;In uses to handle Book Order messages, edit the <code>mama.solace.cacheplugin.dictionary.filename</code> property of the SolOpenMAMA Plug-In&#x2019;s <code>mama.properties</code> file. The data dictionary that is specified for a SolOpenMAMA Plug-In must follow the OpenMAMA dictionary file format. A dictionary file may be used for several OpenMAMA publisher sources (specified through the <code>&lt;source&gt;</code> element in the property hierarchy).
                <p>This dictionary file must be saved on the server hosting the PubSub+ Cache Instance. By default, a file named <code>dictionary</code> is used.</p><p class="Note">The Plug-In does not monitor changes to the dictionary files. Therefore, if a dictionary is updated while it is in use, the PubSub+ Cache Instance must be restarted for the updates to take effect.</p></li>
                                <li>handling of updates for non-cached entries&#x2014;When a SolOpenMAMA Plug-In receives a non-book update message that has no existing cache entry, it can either instruct the PubSub+ Cache Instance to discard the message (the default behavior) or cache the message. 
                <p>To configure the handling behavior for update messages for which there are no existing cache entries, edit the <code>mama.solace.cacheplugin.update.<br/>update_before_initial</code> property of the <code>mama.properties</code> file. Specify <code>discard</code> to indicate that the PubSub+ Cache Instance should discard the updates, or specify <code>cache</code> to indicate that the PubSub+ Cache Instance should cache them.</p></li>
                                <li>handling of submessages&#x2014;When a SolOpenMAMA Plug-In receives a non-book update message that has SubMsg fields (mama field type: <code>MAMAM_FIELD_TYPE_MSG</code>) data, it can either:<ul><li>replace the existing values&#x2014;The value of a submsg field in the cached message is replaced with the value of the corresponding submsg field in the received message. This is the default behavior.</li><li>merge the values&#x2014;The value of a submsg field in the received message is merged with value of the submsg fields in the cached message. When a merge is used, if a submsg itself contains a submsg field, the merge is recursively applied to submsg field that are at the same hierarchy level between the cached message and the update message.
			<p>To configure the handling of non-book update messages that have SubMsg fields, edit the <code>mama.solace.cacheplugin.submsg_field_alg</code> property of the <code>mama.properties</code> file. Specify <code>replace</code> (the default value) or <code>merge</code>, to indicate the handling action you want the SolOpenMAMA Plug-In to perform.</p></li></ul></li>
                              </ul>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="tuning-message-caching-performance"/>Tuning Message Caching Performance</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">PubSub+ Cache and the SolOpenMAMA Plug-In use fixed size buffers to store incoming messages. To optimize performance and memory utilization, the buffer sizes must be tuned in each PubSub+ Cache Instances&#x2019; configuration file to match your application&#x2019;s expected message sizes. For example, the following lines added to a PubSub+ Cache Instance configuration file set the buffer sizes to 4096, 8192, 16384, 32768, and 65536 bytes.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code"># Data buffer sizes</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">GLOBAL_DBQUANTA_SIZE_0 4096</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">GLOBAL_DBQUANTA_SIZE_1 8192</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">GLOBAL_DBQUANTA_SIZE_2 16384</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">GLOBAL_DBQUANTA_SIZE_3 32768</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">GLOBAL_DBQUANTA_SIZE_4 65536</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For best performance in terms of CPU utilization, <code>GLOBAL_DBQUANTA_SIZE_4</code> must be larger than most of the expected messages. For example, if 95% of the messages are smaller than 65536 bytes, <code>GLOBAL_DBQUANTA_SIZE_4</code> should be set to 65536.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Message processing for messages larger than <code>GLOBAL_DBQUANTA_SIZE_4</code> is more CPU-intensive, but when these large messages are freed the associated memory is guaranteed to be freed back to the operating system for use by other processes.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">A PubSub+ Cache Instance process must be restarted for changes to its buffer sizes to take effect.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="pubsubcache-logging"/>PubSub+ Cache Logging</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Each PubSub+ Cache Instance generates Message VPN-level events that are published over the event broker message bus. The Cache Manager on the Designated Router listens to these cache events and consolidates them with the event broker&#x2019;s own events, and then these are redirected to the OpenMAMA logging facility. For more information on how SolOpenMAMA logging, refer to <a href="Solace-Implementation-Considerations.htm#Logging" class="MCXref xref">Logging</a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">Any MAMA logs generated by a SolOpenMAMA Plug-In are included in the PubSub+ Cache Instance&#x2019;s PubSub+ Cache logs. To differentiate them from other PubSub+ Cache logs, they are prefixed as Mama Logs.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For a complete list of PubSub+ Cache events, refer to <a href="../../Monitoring/PubSub-Event-Reference.htm" class="MCXref xref">Syslog Event Reference</a>, which lists and describes Solace PubSub+ syslog messages related to system-wide, Message VPN, and local client Solace PubSub+ events.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For more information on PubSub+ Cache eventing, refer to <a href="../../Additional-Products/Solace-PubSub-Cache/Monitoring-PubSub-Cache.htm" class="MCXref xref" data-mc-unresolved-link="import-link:monitoring_solcache_2415761215_38232">Monitoring PubSub+ Cache</a>.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
