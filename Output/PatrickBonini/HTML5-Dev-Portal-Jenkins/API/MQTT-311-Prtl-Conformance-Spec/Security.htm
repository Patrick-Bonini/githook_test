<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>5 Security</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link href="../../Resources/Stylesheets/mqtt_311_prtcl.css" rel="stylesheet"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading1">5 Security</h1>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading2"><a name="_Toc430864976"/><a name="_Toc430865192"/>5.1 Introduction</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This Chapter is provided for guidance only and is <span class="Refterm">Non Normative</span>. However, it is strongly recommended that Server implementations that offer TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink">[RFC5246]</span></a> SHOULD use TCP port 8883 (IANA service name: secure-mqtt).</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">There are a number of threats that solution providers should consider. For example:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>Devices could be compromised</li>
                                <li>Data at rest in Clients and Servers might be accessible</li>
                                <li>Protocol behaviors could have side effects (e.g. &#x201C;timing attacks&#x201D;)</li>
                                <li>Denial of Service (DoS) attacks</li>
                                <li>Communications could be intercepted, altered, re-routed or disclosed</li>
                                <li>Injection of spoofed Control Packets</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">MQTT solutions are often deployed in hostile communication environments. In such cases, implementations will often need to provide mechanisms for:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>Authentication of users and devices</li>
                                <li>Authorization of access to Server resources</li>
                                <li>Integrity of MQTT Control Packets and application data contained therein</li>
                                <li>Privacy of MQTT Control Packets and application data contained therein</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">As a transport protocol, MQTT is concerned only with message transmission and it is the implementer&#x2019;s responsibility to provide appropriate security features. This is commonly achieved by using TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In addition to technical security issues there could also be geographic (e.g. U.S.-EU SafeHarbor <a href="Introduction.htm#USEUSAFEHARB"><span class="Hyperlink">[USEUSAFEHARB]</span></a>), industry specific (e.g. PCI DSS <a href="Introduction.htm#PCIDSS"><span class="Hyperlink_8">[</span><span class="Hyperlink">PCIDSS</span><span class="Hyperlink_8">]</span></a>) and regulatory considerations (e.g. Sarbanes-Oxley <a href="Introduction.htm#SARBANES"><span class="Hyperlink">[SARBANES]</span></a>).</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading2"><a name="_Toc430864977"/>5.2 MQTT solutions: security and certification</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">An implementation might want to provide conformance with specific industry security standards such as NIST Cyber Security Framework <a href="Introduction.htm#NISTCSF"><span class="Hyperlink_8">[NISTCSF]</span></a>, PCI-DSS <a href="Introduction.htm#PCIDSS"><span class="Hyperlink_8">[PCIDSS]</span></a>), FIPS-140-2 <a href="Introduction.htm#FIPS1402"><span class="Hyperlink_8">[FIPS1402]</span></a> and NSA Suite B <a href="Introduction.htm#NSAB"><span class="Hyperlink_6">[NSAB]</span></a>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Guidance on using MQTT within the NIST Cyber Security Framework <a href="Introduction.htm#NISTCSF"><span class="Hyperlink_8">[NISTCSF]</span></a> can be found in the MQTT supplemental publication, MQTT and the NIST Framework for Improving Critical Infrastructure Cybersecurity <a href="Introduction.htm#MQTT-NIST" class="MCXref xref">[MQTT NIST]</a>. The use of industry proven, independently verified and certified technologies will help meet compliance requirements.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading2"><a name="_Toc430864978"/>5.3 Lightweight cryptography and constrained devices</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Advanced Encryption Standard <a href="Introduction.htm#AES"><span class="Hyperlink_8">[AES]</span></a> and Data Encryption Standard <a href="Introduction.htm#DES"><span class="Hyperlink_8">[DES]</span></a> are widely adopted.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">ISO 29192 <a href="Introduction.htm#ISO29192"><span class="Hyperlink_8">[ISO29192]</span></a> makes recommendations for cryptographic primitives specifically tuned to perform on constrained &#x201C;low end&#x201D; devices.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading2"><a name="_Toc430864979"/>5.4 Implementation notes</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">There are many security concerns to consider when implementing or using MQTT. The following section should not be considered a &#x201C;check list&#x201D;.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">An implementation might want to achieve some, or all, of the following:</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864980"/>5.4.1 Authentication of Clients by the Server</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The CONNECT Packet contains Username and Password fields. Implementations can choose how to make use of the content of these fields. They may provide their own authentication mechanism, use an external authentication system such as LDAP <a href="Introduction.htm#RFC4511"><span class="Hyperlink_8">[RFC4511]</span></a> or OAuth <a href="Introduction.htm#RFC6749"><span class="Hyperlink_8">[RFC6749]</span></a> tokens, or leverage operating system authentication mechanisms.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Implementations passing authentication data in clear text, obfuscating such data elements or requiring no authentication data should be aware this can give rise to Man-in-the-Middle and replay attacks. Section <a href="#_Ref374028308" class="ParaTextOnly MCXref xref xrefParaTextOnly">5.4.5 Privacy of Application Messages and Control Packets</a> introduces approaches to ensure data privacy.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A Virtual Private Network (VPN) between the Clients and Servers can provide confidence that data is only being received from authorized Clients.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Where TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> is used, SSL Certificates sent from the Client can be used by the Server to authenticate the Client.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">An implementation might allow for authentication where the credentials are sent in an Application Message from the Client to the Server.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="div_2">
                                <p>
                                  <span class="span_3">Solace Implementation Note</span>
                                </p>
                                <p>
                                  <span class="span_4">A Solace server supports TLS/SSL Client Certificates, OAuth v2 (including OpenID Connect), LDAP, RADIUS, and internal database authentication to authenticate MQTT Clients. See the &#x201C;User Name&#x201D; section of this document for more information on authentication.</span>
                                </p>
                              </div>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864981"/>5.4.2 Authorization of Clients by the Server</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">An implementation may restrict access to Server resources based on information provided by the Client such as User Name, Client Identifier, the hostname/IP address of the Client, or the outcome of authentication mechanisms.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="div_2">
                                <p>
                                  <span class="span_3">Solace Implementation Note</span>
                                </p>
                                <p class="p_1">Solace ACLs are applied to MQTT Clients based on the MQTT User Name used to authenticate a connection. ACLs provide:</p>
                                <ul>
                                  <li>Source IP-based connection access control. In the case of WebSocket, the X-Forwarded-For HTTP header field (if present) is used to identify the originating IP address.</li>
                                  <li>Publisher access controls on a per-topic basis.</li>
                                  <li>Subscriber access controls on a per-topic basis.</li>
                                  <li>Subscriber access controls on a per-share-name basis for shared subscriptions.</li>
                                </ul>
                              </div>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864982"/>5.4.3 Authentication of the Server by the Client</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The MQTT protocol is not trust symmetrical: it provides no mechanism for the Client to authenticate the Server.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Where TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> is used, SSL Certificates sent from the Server can be used by the Client to authenticate the Server. Implementations providing MQTT service for multiple hostnames from a single IP address should be aware of the Server Name Indication extension to TLS defined in section 3 of RFC 6066 <a href="Introduction.htm#RFC6066"><span class="Hyperlink_8">[RFC6066]</span></a>.This allows a Client to tell the Server the hostname of the Server it is trying to connect to.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">An implementation might allow for authentication where the credentials are sent in an Application Message from the Server to the Client.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A VPN between Clients and Servers can provide confidence that Clients are connecting to the intended Server.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864983"/>5.4.4 Integrity of Application Messages and Control Packets</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Applications can independently include hash values in their Application Messages. This can provide integrity of the contents of Publish Control Packets across the network and at rest.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> provides hash algorithms to verify the integrity of data sent over the network.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The use of VPNs to connect Clients and Servers can provide integrity of data across the section of the network covered by a VPN.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Ref374028308"/><a name="_Toc430864984"/>5.4.5 Privacy of Application Messages and Control Packets</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> can provide encryption of data sent over the network. There are valid TLS cipher suites that include a NULL encryption algorithm that does not encrypt data. To ensure privacy Clients and Servers should avoid these cipher suites.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">An application might independently encrypt the contents of its Application Messages. This could provide privacy of the Application Message both over the network and at rest. This would not provide privacy for other properties of the Application Message such as Topic Name. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Client and Server implementations can provide encrypted storage for data at rest such as Application Messages stored as part of a Session.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The use of VPNs to connect Clients and Servers can provide privacy of data across the section of the network covered by a VPN.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864985"/>5.4.6 Proof of Delivery of message transmission</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Application designers might need to consider appropriate strategies to achieve end to end Proof of Delivery.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864986"/>5.4.7 Detecting compromise of Clients and Servers</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Client and Server implementations using TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> should provide capabilities to ensure that any SSL certificates provided when initiating a TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> connection are associated with the hostname of the Client connecting or Server being connected to.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Client and Server implementations using TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> can choose to provide capabilities to check Certificate Revocation Lists (CRLs <a href="Introduction.htm#RFC5280"><span class="Hyperlink_8">[RFC5280]</span></a>) and Online Certificate Status Protocol (OCSP<span class="Refterm_5">)</span> <a href="Introduction.htm#RFC6960"><span class="Hyperlink_8">[RFC6960]</span></a> to prevent revoked certificates from being used.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Physical deployments might combine tamper-proof hardware with the transmission of specific data in Application Messages. For example a meter might have an embedded GPS to ensure it is not used in an unauthorized location.<a href="Introduction.htm#IEEE8021AR"><span class="Hyperlink_8">IEEE 802.1AR]</span></a> is a standard for implementing mechanisms to authenticate a device&#x2019;s identity using a cryptographically bound identifier.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864987"/>5.4.8 Detecting abnormal behaviors</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Server implementations might monitor Client behavior to detect potential security incidents. For example:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>Repeated connection attempts</li>
                                <li>Repeated authentication attempts</li>
                                <li>Abnormal termination of connections</li>
                                <li>Topic scanning (attempts to send or subscribe to many topics)</li>
                                <li>Sending undeliverable messages (no subscribers to the topics)</li>
                                <li>Clients that connect but do not send data</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Server implementations might disconnect Clients that breach its security rules.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Server implementations detecting unwelcome behavior might implement a dynamic block list based on identifiers such as IP address or Client Identifier.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Deployments might use network level controls (where available) to implement rate limiting or blocking based on IP address or other information.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864988"/>5.4.9 Other security considerations</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If Client or Server SSL certificates are lost or it is considered that they might be compromised they should be revoked (utilizing CRLs <a href="Introduction.htm#RFC5280"><span class="Hyperlink_8">[RFC5280]</span></a> and/or OCSP <a href="Introduction.htm#RFC6960"><span class="Hyperlink_8">[RFC6960]</span></a>).</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Client or Server authentication credentials, such as User Name and Password, that are lost or considered compromised should be revoked and/or reissued.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In the case of long lasting connections:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>Client and Server implementations using TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> should allow for session renegotiation to establish new cryptographic parameters (replace session keys, change cipher suites, change authentication credentials).</li>
                                <li>Servers may disconnect Clients and require them to re-authenticate with new credentials. </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Constrained devices and Clients on constrained networks can make use of TLS session resumption <a href="Introduction.htm#RFC5077"><span class="Hyperlink_8">[RFC5077]</span></a>, in order to reduce the costs of reconnecting TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> sessions.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="div_2">
                                <p>
                                  <span class="span_3">Solace Implementation Note</span>
                                </p>
                                <p>TLS resumption is  available only on PubSub+ Appliances.</p>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Clients connected to a Server have a transitive trust relationship with other Clients connected to the same Server and who have authority to publish data on the same topics.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864989"/>5.4.10 Use of SOCKS</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Implementations of Clients should be aware that some environments will require the use of SOCKSv5 <a href="Introduction.htm#RFC1928"><span class="Hyperlink">[RFC1928]</span></a> proxies to make outbound Network Connections. Some MQTT implementations could make use of alternative secured tunnels (e.g. SSH) through the use of SOCKS. Where implementations choose to use SOCKS, they should support both anonymous and user-name password authenticating SOCKS proxies. In the latter case, implementations should be aware that SOCKS authentication might occur in plain-text and so should avoid using the same credentials for connection to a MQTT Server.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading3"><a name="_Toc430864990"/>5.4.11 Security profiles</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Implementers and solution designers might wish to consider security as a set of profiles which can be applied to the MQTT protocol. An example of a layered security hierarchy is presented below.</p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading4">5.4.11.1 Clear communication profile</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When using the clear communication profile, the MQTT protocol runs over an open network with no additional secure communication mechanisms in place.</p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading4">5.4.11.2 Secured network communication profile</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When using the secured network communication profile, the MQTT protocol runs over a physical or virtual network which has security controls e.g., VPNs or physically secure network.</p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading4">5.4.11.3 Secured transport profile</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When using the secured transport profile, the MQTT protocol runs over a physical or virtual network and using TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> which provides authentication, integrity and privacy.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">TLS <a href="Introduction.htm#RFC5246"><span class="Hyperlink_8">[RFC5246]</span></a> Client authentication can be used in addition to &#x2013; or in place of &#x2013; MQTT Client authentication as provided by the Username and Password fields.</p>
                              <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Heading4">5.4.11.4 Industry specific security profiles</h4>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">It is anticipated that the MQTT protocol will be designed into industry specific application profiles, each defining a threat model and the specific security mechanisms to be used to address these threats.  Recommendations for specific security mechanisms will often be taken from existing works including:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a href="Introduction.htm#NISTCSF"><span class="Hyperlink_8">[NISTCSF]</span></a> NIST Cyber Security Framework</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a href="Introduction.htm#NIST7628"><span class="Hyperlink_8">[NIST7628]</span></a> NISTIR 7628 Guidelines for Smart Grid Cyber Security</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a href="Introduction.htm#FIPS1402"><span class="Hyperlink_8">[FIPS1402]</span></a> Security Requirements for Cryptographic Modules (FIPS PUB 140-2)</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a href="Introduction.htm#PCIDSS"><span class="Hyperlink_8">[PCIDSS]</span></a> PCI-DSS Payment Card Industry Data Security Standard</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a href="Introduction.htm#NSAB"><span class="Hyperlink_8">[NSAB]</span></a> NSA Suite B Cryptography</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
