<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="Developing Applications|Solace Messaging API Developer Guide|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Using PubSub+ Cache With the C API</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link href="../../../Resources/TableStyles/Table_Num.css" rel="stylesheet" data-mc-stylesheet-type="table"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png"/>
    <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../../../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Using <span class="mc-variable Product-Names.pubsub_cache variable">PubSub+ Cache</span> With the C API</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When a session has been established with a Solace PubSub+ event broker, a client application can create a cache session and then make requests for cached messages (that is, cache requests).</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The basic steps to make a cache request in a session are:</p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">Create a cache session. Refer to <a href="#Creating-Cache-Sessions" class="MCXref xref">Creating Cache Sessions</a>.</li>
                                <li value="2">Send a cache request. Refer to <a href="#Sending-Cache-Requests" class="MCXref xref">Sending Cache Requests</a>.</li>
                                <li value="3">Receive requested cached messages. Refer to <a href="#Receiving-Cache-Requests" class="MCXref xref">Receiving Cached Messages</a>.</li>
                                <li value="4">Destroy the cache session. Refer to <a href="#Destroying-Cache-Requests" class="MCXref xref">Destroying Cache Sessions</a>.</li>
                              </ol>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Creating-Cache-Sessions"/>Creating Cache Sessions</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A cache session contains static cache properties and cache state information, and it allows multiple outstanding cache requests and synchronizes those requests.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To create a cache session in a connected session, call the <code>solClient_session_<br/>createCacheSession()</code> function and pass in the cache session properties listed below. A single session can have many cache sessions.</p>
                              <table xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="TableStyle-Table_Num" style="caption-side: top;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');width: 95%;" cellspacing="0">
                                <caption valign="top" style="padding-bottom: 3pt;">
                                  <p class="TblCaption">Cache Session Properties</p>
                                </caption>
                                <col width="25%" class="TableStyle-Table_Num-Column-Column1"/>
                                <col class="TableStyle-Table_Num-Column-Column1" style="width: 75%;"/>
                                <thead>
                                  <tr class="TableStyle-Table_Num-Head-Header1">
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Parameter</th>
                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHESESSION_PROP_<br/>CACHE_NAME</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">The identifying name of the Distributed Cache, Cache Cluster, or PubSub+ Cache Instance to send the cache requests to.</p>
                                      <p class="Note">Specifying the Distributed Cache is the preferred method because specifying a PubSub+ Cache Instance bypasses redundancy and load balancing of cache requests.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHESESSION_PROP_<br/>MAX_AGE</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">The maximum age (in seconds) of the messages to retrieve. Messages that have been cached for more than this amount of time are not retrieved.</p>
                                      <p class="Note">A value of 0 returns all possible messages for the topic, as defined by <code>SOLCLIENT_<br/>CACHESESSION_PROP_MAX_MSGS</code>.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHESESSION_PROP_<br/>MAX_MSGS</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">The maximum number of cached messages to retrieve for any one topic. If more messages are cached for a topic than the maximum value, the newest messages are returned.</p>
                                      <p class="Note">A value of 0 retrieves all messages newer than <code>SOLCLIENT_CACHESESSION_PROP_MAX_AGE</code>.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHESESSION_PROP_<br/>REPLY_TO</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
                                      <p class="Tbl_Body">The reply-to topic for the cache request.</p>
                                      <p class="Tbl_Body">For most situations, it is recommended that this property be left unspecified so that the API uses the session P2P Reply To Topic. (For more information, refer to <code>SOLCLIENT_SESSION_PROP_<br/>P2PINBOX_IN_USE</code> in <a href="../../../API-Developer-Online-Ref-Documentation/c/index.html" class="MCXref xref">Register Now for EDA Summit 2024 - Virtual Event Register for Free</a>).</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHESESSION_PROP_<br/>REQUESTREPLY_TIMEOUT_MS</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
                                      <p class="Tbl_Body">The amount of time (in milliseconds) to wait for a response to the cache request from the cache. This is a per-request timeout where each request sent by the application could result in multiple underlying requests.</p>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Sending-Cache-Requests"/>Sending Cache Requests</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To send a blocking and non-blocking cache request for messages published to a specific topic, call <code>solClient_cacheSession_sendCacheRequest()</code> and pass in the parameters listed in the table below.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">It is up to the client to deal with request timeouts as it is possible that Cache Clusters, event brokers, or individual PubSub+ Cache Instances may fail or disconnect in the middle of cache request processing. The cache response indicates whether the PubSub+ Cache Instance is in a lost message state. Refer to <a href="../../../Additional-Products/Solace-PubSub-Cache/Monitoring-PubSub-Cache-Conf.htm#Lost-Msg-State" class="MCXref xref">Lost Message State</a> for details.</p>
                              <table xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="TableStyle-Table_Num" style="caption-side: top;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');" cellspacing="0">
                                <caption valign="top" style="padding-bottom: 3pt;">
                                  <p class="TblCaption">Cache Request Message Parameters</p>
                                </caption>
                                <col style="width: 25%;" class="TableStyle-Table_Num-Column-Column1"/>
                                <col style="width: 75%;" class="TableStyle-Table_Num-Column-Column1"/>
                                <thead>
                                  <tr class="TableStyle-Table_Num-Head-Header1">
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Parameter</th>
                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">opaqueCacheSession_p</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">The opaque cache session pointer returned when the cache session was created.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">topic_p</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">The topic for which messages are requested from the cache. Use of <code>#noexport</code> is not supported in the topic.</p>
                                      <p class="Note">Wildcard cache requests are only supported for FLOW_THRU cache requests. When a wildcard request matches multiple cached subjects, there are no temporal ordering guarantees between the individual topics returned (although temporal ordering will still be preserved amongst the messages for a specific topic).</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">cacheRequestId</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">A 64-bit integer provided by the application that is returned to the application in the cache request response. The request ID is also available in every cached message returned.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
                                      <p class="Tbl_BodyCode">callback_p</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
                                      <p class="Tbl_Body">A callback pointer for a no-wait (that is non&#x2011;blocking) reply to cache requests.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">user_p</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">A user pointer to return with a callback.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">cacheflags</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">Flags that are used to further define the cache request behavior. For list of the available flags and their descriptions, refer to the following table.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
                                      <p class="Tbl_BodyCode">subscribeflags</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
                                      <p class="Tbl_Body">The subscription flags for a subscription made through a cache request are the same as those made through a regular topic subscription. For more information, refer to the documentation provided for <code>solClient_session_<br/>topicSubscribeExt</code> in the <a href="../../../API-Developer-Online-Ref-Documentation/c/index.html" class="MCXref xref">Register Now for EDA Summit 2024 - Virtual Event Register for Free</a>.</p>
                                      <p class="Note">When the cache request flag <code>SOLCLIENT_<br/>CACHEREQUEST_FLAGS_NO_SUBSCRIBE</code> is set, subscription flags are ignored.</p>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The following table lists the optional flags that can be set on a cache request.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">When sending cache requests you must always specify one and only one of the LIVEDATA flag options (there is no default).</p>
                              <table xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="TableStyle-Table_Num" style="caption-side: top;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');" cellspacing="0">
                                <caption valign="top" style="padding-bottom: 3pt;">
                                  <p class="TblCaption">Cache Request Flags</p>
                                </caption>
                                <col style="width: 25%;" class="TableStyle-Table_Num-Column-Column1"/>
                                <col style="width: 75%;" class="TableStyle-Table_Num-Column-Column1"/>
                                <thead>
                                  <tr class="TableStyle-Table_Num-Head-Header1">
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Parameter</th>
                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHEREQUEST_FLAGS_<br/>NO_SUBSCRIBE </p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">If this flag is set, do not include a subscription to the event broker with the cache request. Only send a cache request to the Cache Cluster.</p>
                                      <p class="Tbl_Body">By default, a subscription is automatically added for the topic then the cache request is added. By adding the subscription, the client will receive relevant live data messages after it has received all of the cached messages.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHEREQUEST_FLAGS_<br/>LIVEDATA_FULFILL</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">If this flag is set, when live data that matches the outstanding cache request topic arrives before the cache response, allow the live data to fulfill the cache request. Any subsequent matching cached data messages are discarded.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHEREQUEST_FLAGS_<br/>LIVEDATA_QUEUE</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">If this flag is set, queue received live data messages that match the cache request topic until the cache request completes.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyE-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHEREQUEST_FLAGS_<br/>LIVEDATA_FLOWTHRU</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
                                      <p class="Tbl_Body">If this flag is set, received live data messages that match the cache request topic are passed through to the application. A cache request can remain outstanding while live data messages are being passed through. The subsequent matching cached data messages are also delivered to the application.</p>
                                      <p class="Note">The <code>SOLCLIENT_CACHEREQUEST_FLAGS_<br/>LIVEDATA_FLOWTHRU </code>flag must be set for wildcard cache requests.</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_CACHEREQUEST_FLAGS_<br/>NOWAIT_REPLY</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
                                      <p class="Tbl_Body">If this flag is set, the cache request returns immediately with the <code>SOLCLIENT_IN_PROGRESS</code> event; when the cache request completes, its status is returned through a callback.</p>
                                      <p class="Tbl_Body">By default, this flag is not set, and the send cache request function blocks until the cache request is complete.</p>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Receiving-Cache-Requests"/>Receiving Cached Messages</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Cached messages are received through the <code>rxMsgCallbackFunc_t</code> callback. The API does not attempt to reorder cached messages that are received across different Cache Clusters. In addition, the API does not attempt to drop duplicate messages received from Cache Clusters or live publishers.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">Messages in cache responses may be bundled together by the cache, but they are delivered to applications individually by the messaging API.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If an application registers an event callback pointer with cache requests flagged as <code>SOLCLIENT_CACHEREQUEST_FLAGS_NOWAIT_REPLY</code> (that is, non-blocking), the cache request status is returned in the <code>solCache_eventCallbackInfo solCache_eventCallbackInfo_t</code> structure.</p>
                              <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">
                                <p> The C API supports topic dispatch on cache requests. However, if topic dispatch is enabled for a session, messages returned as part of a cache request are only delivered to the session receive callback if the session has a matching subscription.</p>
                              </div>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The following table lists the return codes that can be returned. Although these codes are also returned for non-cache request API calls for clients connecting to an event broker, the provided descriptions indicate what the events signify for a cache request.</p>
                              <table xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="TableStyle-Table_Num" style="caption-side: top;mc-table-style: url('../../../Resources/TableStyles/Table_Num.css');" cellspacing="0">
                                <caption valign="top" style="padding-bottom: 3pt;">
                                  <p class="TblCaption">Cache Request Events</p>
                                </caption>
                                <col style="width: 25%;" class="TableStyle-Table_Num-Column-Column1"/>
                                <col style="width: 75%;" class="TableStyle-Table_Num-Column-Column1"/>
                                <thead>
                                  <tr class="TableStyle-Table_Num-Head-Header1">
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Event</th>
                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_OK</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">Indicates that:</p>
                                      <ul>
                                        <li>the cache replies were all received before the timer expired</li>
                                        <li>none of the received cached messages were suspect</li>
                                        <li>at least one cache reply had data</li>
                                      </ul>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_INCOMPLETE</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Tbl_Body">Indicates that incomplete data has been returned. Reasons might include:</p>
                                      <ul>
                                        <li>all of the cache replies contained no data</li>
                                        <li>at least one message was suspect</li>
                                      </ul>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
                                      <p class="Tbl_BodyCode">SOLCLIENT_FAIL</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
                                      <p class="Tbl_Body">Indicates that an error occurred during the initial cache request. Possible reasons include:</p>
                                      <ul>
                                        <li>timeout waiting for a cache response</li>
                                        <li>a cache error response</li>
                                        <li>an add subscription error response</li>
                                        <li>a transport error when communicating with the event broker</li>
                                      </ul>
                                      <div class="Note">
                                        <ul>
                                          <li>If an error occurs after the initial cache request (for example, when communicating with other PubSub+ Cache instances in the Cache Cluster), then <code>SOLCLIENT_INCOMPLETE</code> is returned.</li>
                                          <li>If a failure occurs, the API does not automatically retry any outstanding cache requests. In addition, if there is a loss of connection with the event broker, any outstanding cache requests are canceled.</li>
                                        </ul>
                                      </div>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Destroying-Cache-Requests"/>Destroying Cache Sessions</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To cancel all outstanding requests and destroy the cache session, call the<code> solClient_cacheSession_destroy()</code> function. It is safe to call this function from any thread.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When <code>solClient_cacheSession_destroy()</code> is called, the following occurs:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>all outstanding cache requests are canceled</li>
                                <li>live messages that have been queued are delivered</li>
                                <li>all blocked synchronous cache requests return immediately with an <code>INCOMPLETE</code> return code, a <code>SOLCLIENT_SUBCODE_PARAM_NULL_PTR</code> subcode, and a &#x201C;Cache session has been destroyed&#x201D; error string</li>
                                <li>no event is generated for in-progress asynchronous cache requests</li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Canceling-Cache-Requests"/>Canceling Cache Requests</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To cancel all outstanding requests, without destroying the cache session, call the<code> solClient_cacheSession_cancelCacheRequests()</code> function. It is safe to call this function from any thread, and it can be called repeatedly.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When <code>solClient_cacheSession_cancelCacheRequests()</code> is called, the following occurs:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>all outstanding cache requests are canceled.</li>
                                <li>all live messages that have been queued are delivered</li>
                                <li>all blocked synchronous cache requests return immediately with an <code>INCOMPLETE</code> return code and a <code>SOLCLIENT_SUBCODE_CACHE_REQUEST_CANCELLED</code> subcode</li>
                                <li>a cache event <code>SOLCACHE_EVENT_REQUEST_COMPLETED_NOTICE</code> with a subcode of <code>SOLCLIENT_SUBCODE_CACHE_REQUEST_CANCELLED</code> is generated for each in&#x2011;progress asynchronous cache request</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../../../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
