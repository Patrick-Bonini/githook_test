<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Message VPN Bridges|Message VPN Bridge Configuration" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Bridging to Remote Event Brokers That Use Redundancy</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png"/>
    <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Bridging to Remote Event Brokers That Use Redundancy</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can establish Message VPN bridge connections to remote PubSub+ <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s and <span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s when they are deployed in a redundant configuration to provide fault tolerance. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">There are three different redundancy models:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <a href="#Active-Standby" class="MCXref xref">Bridging With Event Brokers Using Active/Standby Redundancy</a>
                                </li>
                                <li>
                                  <a href="#n+1" class="MCXref xref">Bridging With N+1 Redundancy Using Alternate Remote Connections</a>
                                </li>
                                <li>
                                  <a href="#n+1-DNS-Redirect" class="MCXref xref">Bridging With N+1 Redundancy Using DNS Redirection</a>
                                </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">To keep the examples simple, not all configuration commands required to create a bridge are shown&#x2014;only those commands that are unique to the redundancy models being described are shown.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Bridging to Remote Software Event Brokers Versus Appliances</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The process of bridging to remote event brokers that use redundancy is similar between <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s and <span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s. The differences are as follows:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <p>Appliances support IP address take-over. Therefore, an event broker that is initiating the bridge connection always connects to the same address regardless of which appliance is active from the remote appliances that use redundancy. </p>
                                  <p>For <span class="mc-variable Product-Names.broker_appliance_short variable">appliance</span>s that are configured in high-availability (HA) redundant pairs using the active/standby model, <span class="mc-variable Variables.CompanyName variable">Solace</span> recommends that you configure the redundancy role as <code>primary</code> or <code>backup</code>. For more information, see <a href="../HA-Redundancy/Configuring-Appliance-Redundancy-Parameters.htm#assign-active-standby-role" class="MCXref xref">Assigning the Active/Standby Role</a>. If you do not configure the redundancy role, then the Message VPN&#xA0;bridges that have their virtual router configured as <code>auto</code> won't  be operational. For more information, see <a href="Configuring-VPN-Bridges.htm" class="MCXref xref">Configuring VPN Bridges</a>.</p>
                                </li>
                                <li>
                                  <p>With <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s, the primary and backup event brokers that form a redundant group have unique IP addresses, and a host list must be used to connect to the active event broker. The event broker that is initiating the bridge connection tries to connect to the first address on this host list. If it doesn't connect, it tries the second address, and so on. When configuring a bridge to a remote <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span> that is in a redundant configuration, you must configure the host list for the remote redundant group. </p>
                                  <p>For more information, see <a href="#configuring-a-host-list-for-software-event-brokers" class="MCXref xref">Configuring a Host List for Software Event Brokers</a>.</p>
                                </li>
                              </ul>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="configuring-a-host-list-for-software-event-brokers"/>Configuring a Host List for Software Event Brokers</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Configuring a host list specifies the&#xA0;IP&#xA0;addresses that an event broker uses to initiate a bridge connection to remote <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s in a redundant configuration. To configure this host list,  you can repeat the following command  up to four times on the bridge so that up to four distinct Remote Message VPNs can be configured:</p>
                              <pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">create message-vpn &lt;vpn-name&gt; {router &lt;virtual-router-name&gt; | connect-via &lt;addr&gt; [interface &lt;phys-intf&gt;]} </pre>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Where:&#xA0;</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>
                                  <p><code>&lt;vpn-name&gt;</code> is the remote Message VPN&#xA0;name.</p>
                                </li>
                                <li>
                                  <p><code>&lt;virtual-router-name&gt;</code> is the name of the virtual remote router where the Message VPN is located.</p>
                                </li>
                                <li>
                                  <p><code>&lt;addr&gt; [interface &lt;phys-intf&gt;</code> is the IP address (and optional port) where the remote router should be reached. This IP&#xA0;address can be a static or virtual address of the remote router. For bridges that are looping back to a Message VPN&#xA0;on this router, use the 127.0.0.1 IP address (for example, 192.1.2.3:12345).</p>
                                </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Each combination of <code>&lt;vpn-name&gt;</code> and either <code>&lt;virtual&#x2011;router-name&gt;</code> or <code>&lt;addr&gt; &lt;phys-intf&gt;</code> must be unique, and a mixture of the two possible combinations is not allowed. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This creates an internal host list, which provides potential redundant hosts for the bridge. When adding a new host source entry, it is appended to the end of the existing host list. Its position can be modified through the connect-order Remote Message VPN Bridge CONFIG command (see <a href="Configuring-VPN-Bridges.htm#Config-Connect-Orders" class="MCXref xref">Configuring Connect Orders</a>).</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Active-Standby"/>Bridging With Event Brokers Using Active/Standby Redundancy</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The figure below shows a pair of event brokers (<code>solace2</code> and <code>solace3</code>) that have been configured to operate in an active/standby configuration. Message VPN <code>Green</code> on <code>solace1</code> is configured with a VPN bridge connection to Message VPN <code>Yellow</code> on <code>solace2</code>, so that Message VPN <code>Green</code> can receive messages from VPN <code>Yellow</code>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If <code>solace2</code> goes offline for any reason, <code>solace3</code> takes over for the primary IP addresses of <code>solace2</code>, and provides service for all of the Message VPNs on <code>solace2</code>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="GraphicCaption">VPN Bridging with Active/Standby Redundancy</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="GraphicCaption">
                                <img src="../../Resources/Images/VPN/VPN_Bridging_wActiveStandbyRedundancy.jpg" alt="Illustration depicting the concepts described in the surrounding text."/>
                              </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">No special configuration is needed on <code>solace1</code> to make use of this redundancy model. The  <code>solace1</code> event broker is simply configured with a bridge connection from Message VPN <code>Green</code> (primary), to Message VPN <code>Yellow</code> on <code>solace2</code>, connecting through the primary address of <code>solace2</code> (or the Domain Name System [DNS] name corresponding to that primary address):</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">solace1(configure)# create bridge To-Yellow message-vpn Green primary<br/>solace1(configure/bridge)# create remote message-vpn Yellow connect-via solace2</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To have Message VPN <code>Yellow</code> on <code>solace2</code> connect to Message VPN <code>Green</code> on <code>solace1</code>, <code>solace2</code> needs to be configured with a bridge connection from Message VPN <code>Yellow</code> (primary) to Message VPN <code>Green</code> on <code>solace1</code> connecting through the primary address of <code>solace1</code> (or the DNS name corresponding to that primary address).</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">When Config-Sync is enabled for both event brokers in the redundant pair, the configuration parameters between them are automatically synchronized. Therefore, a bridge connection from Message VPN <code>Yellow</code> (backup) on <code>solace3</code> to Message VPN <code>Green</code> on <code>solace1</code> is also created.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="n+1"/>Bridging With N+1 Redundancy Using Alternate Remote Connections</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The figure below shows a set of event brokers (<code>solace2</code>, <code>solace3</code>, and <code>solace4</code>) deployed in an N+1 redundancy configuration. The  <code>solace4</code> event broker acts as a backup event broker for the Message VPNs configured on the <code>solace2</code> and <code>solace3</code> event brokers. In this configuration, clients connecting to <code>solace2</code> use the hostlist feature in the PubSub+ Messaging APIs to connect to <code>solace4</code>, if <code>solace2</code> is unreachable. Similarly, clients connecting to <code>solace3</code> use the host list feature to connect to <code>solace4</code>, if <code>solace3</code> is unreachable.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Message VPN <code>Green</code> on <code>solace1</code> is configured with a bridge connection to Message VPN <code>Yellow</code> on <code>solace2</code> so that it can receive messages from Message VPN <code>Yellow</code>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In this case, the Message VPN bridge on the  <code>solace1</code> event broker must be configured with multiple &#x201C;remote&#x201D; parameters, to identify the fallback connection for the bridge if the primary connection cannot be established:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">solace1(configure)# create bridge To-Yellow message-vpn Green primary<br/>solace1(configure/bridge)# create remote message-vpn Yellow connect-via solace2<br/>solace1(configure/bridge/remote)# connect-order 1<br/>solace1(configure/bridge/remote)# exit<br/>solace1(configure/bridge)# create remote message-vpn Yellow connect-via solace4</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">solace2(configure/bridge/remote)# connect-order 2</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="GraphicCaption">Bridging with N+1 Redundancy Using Alternate Remote Connections</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="GraphicCaption">
                                <img src="../../Resources/Images/VPN/VPN_Bridging_Redundancy.jpg" alt="Illustration depicting the concepts described in the surrounding text."/>
                              </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To guard against situations whereby a temporary loss of connectivity to <code>solace2</code> causes the bridge connection to be inadvertently established to <code>solace4</code>, it is recommended that the <b>remote retry count</b> and <b>remote retry delay</b> Bridge VPN CONFIG command parameters for the bridge be set to a sufficiently high value to debounce any transient network outages that may occur.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Alternatively, many network operators choose to administratively disable through the <b>shutdown</b> command the Message VPNs on the backup event broker, and only enable through the <b>no shutdown</b> command a particular backup instance of a VPN when the primary event broker for that VPN has gone offline. However, such a policy increases failover times substantially, since manual intervention is required to bring the backup VPN instances online.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In cases where VPN Yellow on <code>solace2</code> wishes to connect to Message VPN <code>Green</code> on <code>solace1</code>, the <code>solace2</code> and <code>solace4</code> event brokers need to be configured with a bridge connection to Message VPN <code>Green</code> on <code>solace1</code>:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">Since active/standby redundancy is not being used in this case, the bridge connection is a primary connection on both the <code>solace2</code> and <code>solace4</code> event brokers.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">solace2(configure)# create bridge To-Green message-vpn Yellow primary<br/>solace2(configure/bridge)# create remote message-vpn Green connect-via solace1</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">solace4(configure)# create bridge To-Green message-vpn Yellow primary<br/>solace4(configure/bridge)# create remote message-vpn Green connect-via solace1</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For such a configuration, it's strongly recommended that the Message VPNs on the backup event broker be administratively disabled through the shutdown command under normal operating conditions, and only enabled for activation when the primary event broker has failed. Otherwise, the Message VPN bridges on the backup event broker always attract traffic from the event brokers to which they are connected, even when the Message VPNs are on standby, and do not have active subscribers connected to them.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="n+1-DNS-Redirect"/>Bridging With N+1 Redundancy Using DNS Redirection</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The N+1 redundancy model when using DNS redirection is virtually identical to the redundancy model that makes use of alternate remote connections, as shown in the figure above. However, when using DNS redirection, the same event broker DNS name is used at all times, so there is no need to configure an alternate connection. The configuration on the  <code>solace1</code> event broker becomes the following:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">solace1(configure)# create bridge To-Yellow message-vpn Green primary<br/>solace1(configure/bridge)# create remote message-vpn Yellow connect-via solace2<br/>solace1(configure/bridge/remote)# exit</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The disadvantage of this redundancy approach is that in a failover scenario, the network operator must reconfigure DNS, such that requests for the address of <code>solace2</code> return the IP address of <code>solace4</code>.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">All the recommendations around shutdown of the Message VPNs on the backup event broker discussed in <a href="#n+1" class="MCXref xref">Bridging With N+1 Redundancy Using Alternate Remote Connections</a> apply also to redundancy using DNS redirection.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
