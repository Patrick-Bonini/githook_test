<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=Product-Names.cloud_product_titlecase%]|[%=System.LinkedTitle%]|[%=System.LinkedHeader%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-control" content="no-cache" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring Partitioned Queues</title>
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
        <!--style to display feedback button correctly in IE-->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- links to get the EDA styling to work -->
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
        <link href="../../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/Table_Num.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
        <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
        <script type="text/javascript" src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <!-- Top Orange and Darkgrey header-->
    <!-- Div for EDA banner -->
    <div class="eda_banner">
        <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
    </div>
    <!-- end Div for EDA banner -->
    <div class="top-nav">
        <div class="main_list">
            <ul class="top-navlinks">
                <li><a href="https://solace.com/support/" target="_blank">Support</a>
                </li>
                <li><a href="https://solace.com/contact/" target="_blank">Contact Us</a>
                </li>
            </ul>
        </div>
        <div class="container-fluid">
            <div class="src-li">
                <div id="srchWrapTwo">
                    <form class="search" action="#">
                        <div class="search-bar search-bar-container needs-pie">
                            <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                            <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                                <div class="search-filter-content" id="sf-content">
                                    <ul>
                                        <li>
                                            <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="search-submit-wrapper" dir="ltr">
                                <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div><span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
            <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
        </div>
        <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
        <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
    </div>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div id="content">
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="ContentRow" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                    <div>
                                                        <div class="nocontent" xmlns="">
                                                            <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                                            </div>
                                                        </div>
                                                        <div role="main" id="mc-main-content" xmlns="">
                                                            <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="aanchor148" xmlns=""></a>
                                                                <MadCap:concept term="Cloud" />Configuring Partitioned Queues</h1>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If your event-driven architecture (EDA) uses dynamic microservice scaling to adapt to message load, using partitioned queues ensures that messages with similar contexts are always processed by the same consumer. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A partitioned queue consists of a parent non-exclusive queue, along with a child queue for each partition. The parent queue holds the configuration state of the partitioned queue, including the subscription set and the combined message quota of the partitions. The parent queue does not retain messages and does not consume any quota.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The event broker distributes messages among the partitions in a partitioned queue based on a key (the <i>partition key</i>) carried in the messages. Publishing applications set this key when they create a message. The event broker creates a hash of the partition key and selects the destination partition for a particular set of messages using the following calculation:</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><code>partition = partition-key-hash MOD partition-count</code>
                                                            </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="key-to-partition-mapping"></a>This relationship between the partition key and its destination partition is referred to as the <i>key-to-partition mapping</i>. All messages with the same key are handled by the same partition. If no partition key is set, the event broker generates a random hash value, which causes the message to be spooled to a random partition.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="partition-to-flow-mapping"></a>Consuming applications bind to a partitioned queue and consume messages the same as with any other queue. The event broker maps one or more partitions to each consumer flow. This is called the <i>partition-to-flow</i> mapping.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Message sequence is maintained within a partition, but not between partitions. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For details about how the broker handles messages in partitioned queues, see <a href="../../Messaging/Guaranteed-Msg/Partitioned-Queue-Messaging.htm" class="MCXref xref">Message Distribution with Partitioned Queues</a></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Partitioned queues require event broker version 10.4 or later.</p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="creating_partitioned_queue"></a>Creating a Partitioned Queue</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To create a partitioned queue, perform these steps:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Open <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span>. For instructions, see <a href="../using-broker-manager-cloud.htm" class="MCXref xref" data-mc-conditions="SnippetConditions.snpt-bm-cloud">Using PubSub+ Broker Manager</a>.</li>
                                                                <li value="2">Select <b>Queues</b> in the left navigation bar.</li>
                                                                <li value="3">
                                                                    <p>Click <b>+ Queue</b>.</p>
                                                                    <p>
                                                                        <div class="thumbnail-container"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Broker-Manager/add-queue.png" data-mc-popup-alt="Screenshot showing the options described in the surrounding text."><img class="MCPopupThumbnail img imgsolacethumbnail" data-mc-width="1113" data-mc-height="217" src="../../Resources/Images/Broker-Manager/add-queue_thumb_500_0.png" alt="Screenshot showing the options described in the surrounding text." tabindex="" /></a>
                                                                        </div>
                                                                    </p>
                                                                </li>
                                                                <li value="4">Enter a name for the queue and click <b>Create</b>.</li>
                                                                <li value="5">
                                                                    <p>
                                                                        <table style="width: 100%;margin-left: auto;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
                                                                            <col class="TableStyle-Table_Num-Column-Column1" />
                                                                            <col class="TableStyle-Table_Num-Column-Column1" />
                                                                            <thead>
                                                                                <tr class="TableStyle-Table_Num-Head-Header1">
                                                                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Option</th>
                                                                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                                                                        <p>Access Type</p>
                                                                                    </td>
                                                                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                                                                        <p>Set the access type to <b>Non-Exclusive</b>. </p>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">Partition Count</td>
                                                                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
                                                                                        <p>Specifies the number of partitions for the queue. You should set the Partitioned Count  to the maximum number of active consumers that you expect may bind to the queue.</p>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </p>
                                                                </li>
                                                                <li value="6">
                                                                    <p>Click <b>Show Advanced Settings</b>.</p>
                                                                    <p>
                                                                        <div class="thumbnail-container"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Broker-Manager/queue-rebalance-settings.png" data-mc-popup-alt="Screenshot showing the options described in the surrounding text."><img class="MCPopupThumbnail img imgsolacethumbnail" data-mc-width="942" data-mc-height="517" src="../../Resources/Images/Broker-Manager/queue-rebalance-settings_thumb_500_0.png" alt="Screenshot showing the options described in the surrounding text." tabindex="" /></a>
                                                                        </div>
                                                                    </p>
                                                                </li>
                                                                <li value="7">
                                                                    <p>Set the following <a href="../../Messaging/Guaranteed-Msg/Partition-Rebalancing.htm" class="MCXref xref">Partition Rebalancing</a> options:</p>
                                                                    <p>
                                                                        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Table_Num.css');margin-left: auto;margin-right: auto;" class="TableStyle-Table_Num" cellspacing="0">
                                                                            <col class="TableStyle-Table_Num-Column-Column1" />
                                                                            <col class="TableStyle-Table_Num-Column-Column1" />
                                                                            <thead>
                                                                                <tr class="TableStyle-Table_Num-Head-Header1">
                                                                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Option</th>
                                                                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Description</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                                                                        <p>Rebalance Delay</p>
                                                                                    </td>
                                                                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                                                                        <p>Specifies the delay in seconds to allow the number of consumers to stabilize before a rebalance activity starts after being triggered by a change in the number of consumers. If the number of consumers returns to its previous state before the delay timer expires, no partition handoffs occur.</p>
                                                                                        <p>By default, event brokers wait five seconds before triggering a rebalance when it is required. You can configure the delay to balance the needs of your consumer scaling strategy and stability of your consumer connections. Smaller values mean that client connects and disconnects are acted upon more quickly; larger values minimize the number of partition reassignments when clients are frequently temporarily disconnected or when client disconnects/reconnects occur in groups (for example, with client autoscaling).</p>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">Rebalance Max Handoff Time</td>
                                                                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">
                                                                                        <p>Specifies the maximum number of seconds the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> waits to allow consumers to acknowledge outstanding messages during <a href="../../Messaging/Guaranteed-Msg/Partition-Handoff.htm" class="MCXref xref">Partition Handoff</a>.</p>
                                                                                        <p>When partition <a href="../../Messaging/Guaranteed-Msg/Partition-Rebalancing.htm" class="link-internal">rebalancing</a> occurs, it may cause a handoff of partitions from one consumer to another. While handoffs are designed to be as unobtrusive as possible, remapping and scaling of partitions may cause application-level errors as the flow of messages belonging to one partition is moved from one consumer to another. For more information, see <a href="../../Messaging/Guaranteed-Msg/Partition-Handoff.htm" class="MCXref xref">Partition Handoff</a>.</p>
                                                                                        <p>By default, event brokers pause message ingress for a maximum of three seconds to allow messages to drain prior to handing off a partition while rebalancing. If there are no messages to be drained, the handoff proceeds immediately.</p>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </p>
                                                                </li>
                                                                <li value="8">Click <b>Apply</b>.</li>
                                                            </ol>
                                                            <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="adding_removing_partitions"></a>Adding and Removing Partitions in a Queue</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If you redesign applications or other aspects of your EDA, or if new information changes the projected maximum number of active consumers that connect to the queue, you may need to add or remove partitions through partition scaling.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Partition scaling refers to adding partitions to or removing partitions from a partitioned queue. Partition scaling is triggered when the administrator changes the partition count of the queue.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When the partition count is decreased, the event broker removes extra partitions in the reverse order in which they were created (that is, the highest number partition is removed first). Any messages remaining in deleted partitions are also deleted.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When the partition count is increased, the event broker assigns each new partition the next highest partition number in the sequence.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Partition scaling triggers the <a href="../../Messaging/Guaranteed-Msg/Partition-Rebalancing.htm" class="MCXref xref">Partition Rebalancing</a> process on the event broker.  The implications of <a href="../../Messaging/Guaranteed-Msg/Partition-Handoff.htm" class="MCXref xref">Partition Handoff</a> apply to partition scaling as well.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">It may be preferable to move some messaging load to an alternate partitioned queue or to provision a new partitioned queue with more partitions, rather than changing the configuration of an existing partitioned queue.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When the partition count changes, the key-to-partition mapping changes. The effect is that consumers are delivered a different set of messages than before.  Because of the impact to consumers, we recommend that you disable ingress to the partitioned queue to allow messages to drain from all existing partitions before changing the number of partitions.</p>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="pq-add-partitions"></a>Adding Partitions to a Queue</h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To add additional partitions to a queue, perform these steps:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Open <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span>. For instructions, see <a href="../using-broker-manager-cloud.htm" class="MCXref xref" data-mc-conditions="SnippetConditions.snpt-bm-cloud">Using PubSub+ Broker Manager</a>.</li>
                                                                <li value="2">Select <b>Queues</b> in the left navigation bar.</li>
                                                                <li value="3">Click the queue that you want to update.</li>
                                                                <li value="4">
                                                                    <p>Click <b>Edit</b> <img src="../../Resources/Images/Cloud/reusable-icons/brokermanager-edit-icon.png" alt="" />.</p>
                                                                    <p>
                                                                        <div class="thumbnail-container"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Broker-Manager/queue-settings-count.png" data-mc-popup-alt="Screenshot showing the options described in the surrounding text."><img class="MCPopupThumbnail img imgsolacethumbnail" data-mc-width="922" data-mc-height="528" src="../../Resources/Images/Broker-Manager/queue-settings-count_thumb_500_0.png" alt="Screenshot showing the options described in the surrounding text." tabindex="" /></a>
                                                                        </div>
                                                                    </p>
                                                                </li>
                                                                <li value="5">Click the <b>Incoming</b> <img src="../../Resources/Images/Cloud/reusable-icons/broker-manager-toggle-on.png" alt="" /> toggle to disable incoming messages.</li>
                                                                <li value="6">
                                                                    <p>Wait for all outstanding messages from all partitions of the queue to be fully delivered; that is, the <b>Messages Queued</b> value for the queue is zero.</p>
                                                                    <p>
                                                                        <div class="thumbnail-container"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Broker-Manager/messages-queued.png" data-mc-popup-alt="Screenshot showing the features described in the surrounding text."><img class="MCPopupThumbnail img imgsolacethumbnail" data-mc-width="909" data-mc-height="542" src="../../Resources/Images/Broker-Manager/messages-queued_thumb_500_0.png" alt="Screenshot showing the features described in the surrounding text." tabindex="" /></a>
                                                                        </div>
                                                                    </p>
                                                                </li>
                                                                <li value="7">In the <b>Partition Count</b> field, increase the number of partitions.</li>
                                                                <li value="8">
                                                                    <p>Wait for the event broker to allocate new partitions and complete <a href="../../Messaging/Guaranteed-Msg/Partition-Rebalancing.htm" class="MCXref xref">Partition Rebalancing</a>, that is, the <b>Rebalance Status</b> value for the queue is <b>Ready</b>.</p>
                                                                    <p>
                                                                        <div class="thumbnail-container"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Broker-Manager/rebalance status.png" data-mc-popup-alt="Screenshot showing the features described in the surrounding text."><img class="MCPopupThumbnail img imgsolacethumbnail" data-mc-width="909" data-mc-height="542" src="../../Resources/Images/Broker-Manager/rebalance status_thumb_500_0.png" alt="Screenshot showing the features described in the surrounding text." tabindex="" /></a>
                                                                        </div>
                                                                    </p>
                                                                </li>
                                                                <li value="9">Click the <b>Incoming</b> <img src="../../Resources/Images/Cloud/reusable-icons/broker-manager-toggle-off.png" alt="" /> toggle to re-enable incoming messages.</li>
                                                                <li value="10">Click <b>Apply</b>.</li>
                                                            </ol>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="pq-remove-partitions"></a>Removing Partitions from a Queue</h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If the maximum number of active consumers bound to the queue is always somewhat less than or equal than the partitioned count, it is not necessary to change the partition count. However, if you do need to reduce the number of partitions in a queue, perform these steps.</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Open <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span>. For instructions, see <a href="../using-broker-manager-cloud.htm" class="MCXref xref" data-mc-conditions="SnippetConditions.snpt-bm-cloud">Using PubSub+ Broker Manager</a>.</li>
                                                                <li value="2">Select <b>Queues</b> in the left navigation bar.</li>
                                                                <li value="3">Click the queue that you want to update.</li>
                                                                <li value="4">Click <b>Edit</b> <img src="../../Resources/Images/Cloud/reusable-icons/brokermanager-edit-icon.png" alt="" />.</li>
                                                                <li value="5">Click the <b>Incoming</b> <img src="../../Resources/Images/Cloud/reusable-icons/broker-manager-toggle-on.png" alt="" /> toggle to disable incoming messages.</li>
                                                                <li value="6">Wait for all outstanding messages from all partitions of the queue to be fully delivered; that is, the <b>Messages Queued</b> value for the queue is zero.</li>
                                                                <li value="7">In the <b>Partition Count</b> field, decrease the number of partitions.</li>
                                                                <li value="8">
                                                                    <p>Wait for the event broker to allocate new partitions and complete <a href="../../Messaging/Guaranteed-Msg/Partition-Rebalancing.htm" class="MCXref xref">Partition Rebalancing</a>, that is, the <b>Rebalance Status</b> value for the queue is <b>Ready</b>.</p>
                                                                </li>
                                                                <li value="9">Click the <b>Incoming</b> <img src="../../Resources/Images/Cloud/reusable-icons/broker-manager-toggle-off.png" alt="" /> toggle to re-enable incoming messages.</li>
                                                                <li value="10">Click <b>Apply</b>.</li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="no-print">
                                            <div><a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                                            </div>
                                        </div>
                                        <footer class="my-4 pt-4 text-center no-print">
                                            <div class="footer-txt text-center no-print">
                                                <ul class="list-inline ">
                                                    <li class="list-inline-item text-muted"><a href="../../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                                                    <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                                                    <li class="list-inline-item text-muted" style="font-size:13px;">   <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                                                </ul>
                                            </div>
                                            <div class="footer-icons">
                                                <ul class="list-inline">
                                                    <li class="list-inline-item"><a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="footer_link_menu">
                                                <ul class="link_list">
                                                    <li class="link_list_item"><a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </footer>
                                    </div>
                                    <!-- JIRA issue collector -->
                                    <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                                    <script src="../../Resources/Scripts/thumbnail.js">
                                    </script>
                                    <!-- Script for Launching offsite links in new tab -->
                                    <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>