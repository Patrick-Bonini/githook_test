<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="[%=Product-Names.cloud_product_titlecase%]|[%=System.LinkedTitle%]|[%=System.LinkedHeader%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-control" content="no-cache" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring OAuth Profiles for Management Access to Event Broker Services</title>
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
        <!--style to display feedback button correctly in IE-->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- links to get the EDA styling to work -->
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
        <link href="../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../Resources/TableStyles/Table_Num.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
        <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
        <script type="text/javascript" src="../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <!-- Top Orange and Darkgrey header-->
    <!-- Div for EDA banner -->
    <div class="eda_banner">
        <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
    </div>
    <!-- end Div for EDA banner -->
    <div class="top-nav">
        <div class="main_list">
            <ul class="top-navlinks">
                <li><a href="https://solace.com/support/" target="_blank">Support</a>
                </li>
                <li><a href="https://solace.com/contact/" target="_blank">Contact Us</a>
                </li>
            </ul>
        </div>
        <div class="container-fluid">
            <div class="src-li">
                <div id="srchWrapTwo">
                    <form class="search" action="#">
                        <div class="search-bar search-bar-container needs-pie">
                            <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                            <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                                <div class="search-filter-content" id="sf-content">
                                    <ul>
                                        <li>
                                            <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="search-submit-wrapper" dir="ltr">
                                <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div><span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
            <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
        </div>
        <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
        <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
    </div>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div id="content">
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="ContentRow" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                    <div>
                                                        <div class="nocontent" xmlns="">
                                                            <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                                            </div>
                                                        </div>
                                                        <div role="main" id="mc-main-content" xmlns="">
                                                            <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="aanchor67" xmlns=""></a>
                                                                <MadCap:concept term="Cloud" />Configuring OAuth Profiles for Management Access to <span class="mc-variable Product-Names.broker_cloud_short_title variable">Event Broker Service</span>s</h1>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can configure management access to your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s using OAuth profiles. OAuth profiles allow users and machines (other computers and applications) to connect and authenticate using single sign-on (SSO) through an OAuth identity provider (IdP). An <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>  can have up to three OAuth profiles. Using OAuth profiles, you can map custom roles in your IdP to <a href="cloud-user-management.htm" target="_blank" class="link-internal">existing roles in <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span></a>. Users and machines connecting to your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s have permissions granted by the mapped roles.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Before configuring OAuth profiles using the <a href="https://api.solace.dev/cloud/reference/getresource" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">SEMP Proxy v2 REST APIs</a> you must: 
        <ul><li>review the <a href="#considerations" class="MCXref xref">Considerations for Configuring OAuth Profiles for Authentication</a></li><li><a href="#config-provider" alt="link to configuring your OAUth provider" class="link-internal">configure your OAuth identity provider</a></li></ul></p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If you want to configure management access to <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s using the same SSO authentication as the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span>, see <a href="configure-oauth-for-broker-services.htm" target="_blank" alt="Link to configuring SSO for event broker services" class="MCXref xref">Configuring Single Sign-On for Event Broker Services</a>.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Depending on whether you are configuring access for individual users or machines (<span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> as resource server for other <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s, computers, or applications) you must then:
            <ul><li><a href="#config-multi-role-login" alt="Link to multi-role login" class="link-internal">configure an OAuth profile for user based authentication</a></li><li><a href="#machine-to-machine" alt="Link to machine to machine configuration" class="link-internal">configure an OAuth profile for machine-to-machine based authentication</a> </li></ul></p>
                                                            <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="considerations"></a>Considerations for Configuring OAuth Profiles for Authentication</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Here are some considerations when configuring OAuth profiles for your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s:
        <ul><li><p>Configuring OAuth profiles on <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s to enable sigle sign-on (SSO) through your identity provider (IdP) is only possible using the <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput"><a href="https://api.solace.dev/cloud/reference/getresource" target="_blank" class="link-offsite">SEMP Proxy v2 REST APIs</a></MadCap:conditionalText>.</p></li><li><p>You can create a maximum of three OAuth profiles per <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. </p></li><li><p>You must configure your OAuth identity provider  correctly. For more information, see <a href="#config-provider" class="MCXref xref">Configuring Your OAuth Identity Provider</a>.</p></li><li><p><span class="mc-variable Product-Names.broker_cloud_short_intitalcap variable">Event broker service</span>s prior to 10.6.0 support only a single OAuth profile per IdP. </p></li><li><p><span class="mc-variable Product-Names.broker_cloud_short_intitalcap variable">Event broker service</span>s 10.6.0 and later support two OAuth profiles per IdP. One OAuth profile must be for <a href="#config-multi-role-login" alt="link to setting up user authentication" class="link-internal">user authentication</a>. The other OAuth profile must be for <a href="#machine-to-machine" alt="link to configuring machine-to-machine authentication" class="link-internal">machine-to-machine authentication</a>. </p></li><li><p>You require an API token generated from the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> by an account with the Administrator or <span class="mc-variable Product-Names.cm_editor variable">Mission Control Manager</span> roles. The API token must have the following permissions:</p><ul><li><p>Get My Services with Management Credentials</p></li><li><p>Create Services</p></li></ul><p>For more information see <a href="ght_api_tokens.htm#Create" class="MCXref xref">Creating an API Token</a>.</p></li></ul></p>
                                                            <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="config-provider"></a>Configuring Your OAuth Identity Provider</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Using OAuth profiles for authenticating management access to your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> for users depends upon OAuth 2.0 and OpenID Connect (OIDC). OAuth profiles for machine-to-machine authentication depend upon OAuth client credential grants. Numerous identity providers (IdP) provide these tools, some more well know examples include:</p>
                                                            <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li>
                                                                    <p><a href="https://www.okta.com/openid-connect/" target="_blank" alt="link to Okta open ID connect documentation" class="link-offsite">Okta</a>
                                                                    </p>
                                                                </li>
                                                                <li>
                                                                    <p><a href="https://auth0.com/docs/authenticate/protocols/openid-connect-protocol" alt="Link to Auth0 openID connect documentation" class="link-offsite">Auth0</a>
                                                                    </p>
                                                                </li>
                                                                <li>
                                                                    <p><a href="https://developers.google.com/identity/openid-connect/openid-connect" target="_blank" alt="link to Google Identity OpenID Connect documentation" class="link-offsite">Google Identity</a>
                                                                    </p>
                                                                </li>
                                                                <li>
                                                                    <p><a href="https://learn.microsoft.com/en-us/entra/identity-platform/v2-protocols-oidc" target="_blank" alt="link to Microsoft Identity Platform OpenID Connect documentation" class="link-offsite" title="link to Google Identity OpenID Connect documentation">Microsoft Identity Platform</a>
                                                                    </p>
                                                                </li>
                                                                <li>
                                                                    <p><a href="https://help.sap.com/docs/cloud-identity-services" target="_blank" alt="link to SAP Identity Authentication Service openID connect documentation" class="link-offsite" title="link to SAP Identity Authentication Service openID connect documentation">SAP Identity Authentication Service</a>
                                                                    </p>
                                                                </li>
                                                            </ul>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Using OAuth profiles requires that you configure your IdP correctly. There is a configuration process for each type of authorization, with each having similar requirements:</p>
                                                            <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li>
                                                                    <p>User-based authentication</p>
                                                                </li>
                                                                <li>
                                                                    <p>Machine-to-machine based authentication for connecting, where the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> is a resource server for other connecting <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s, computers, or applications.</p>
                                                                </li>
                                                            </ul>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">We outline the configuration process and requirements for each below. If you need help configuring your IdP, refer to their OpenID Connect documentation for authenticating users, and their client credential grants documentation for authenticating machines.</p>
                                                            <dl xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <dt>User-based authentication</dt>
                                                                <dd>For user-based authentication, the general IdP configuration process includes:
            <ul><li><p>adding a login flow</p></li><li><p>adding roles and users, including verifying user email addresses, and assigning users to the created roles</p></li><li><p>creating an OAuth application</p></li><li><p>configuring the URLs</p></li></ul></dd>
                                                                <dd>When configured correctly, your IdP provides the following information at a minimum:            <ul><li><p>A client ID</p></li><li><p>A client secret</p></li><li><p>An OpenID Connect Discovery or Configuration endpoint where your IdP publishes metadata. This is typically an URL ending in <code>.well-known/openid-configuration</code>. </p></li></ul></dd>
                                                                <dd>Record the provided information, as it is required to set up authentication using the REST APIs in <a href="#config-multi-role-login" class="MCXref xref">Configuring OAuth Profiles for Role-Based Authentication for an Event Broker Service</a>.</dd>
                                                            </dl>
                                                            <dl xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <dt>Machine-to-Machine setup</dt>
                                                                <dd>To configure SSO authentication so connecting machines (other <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s, computers, and applications) use the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> as a resource server, you must complete the following general IdP configuration process:
            <ul><li><p>Set up an API, including providing it with the <b>Hostname URL</b> (located under <b>DMR Cluster</b> in the <a href="cloud-configure-messaging-services.htm#service-details-information" target="_blank" class="link-internal">Detailed Service Information</a> page) and assign permissions to it.</p></li><li><p>Create a machine-to-machine OAuth application and assign an API and credential permissions to it.</p></li></ul></dd>
                                                                <dd>When configured correctly, your IdP&#160;may provide the following information:<![CDATA[           ]]><ul><li><p>A client ID (required for validation using an introspection endpoint) </p></li><li><p>A client secret  (required for validation using an introspection endpoint)</p></li><li><p>The discovery endpoint where your IdP publishes metadata. It is typically an URL ending in <code>.well-known/openid-configuration</code>. </p></li></ul></dd>
                                                                <dd>Record the information you require,  as it is required to set up authentication using the REST APIs in <a href="#machine-to-machine" class="MCXref xref">Configuring OAuth Profiles for Machine-to-Machine Authentication for an Event Broker Service</a>. You don't need the client ID&#160;and client secret if configuring validation of the token using JSON&#160;Web Key Sets (JWKS). </dd>
                                                            </dl>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"> For more information about configuring your OAuth IdP correctly, see  your OAuth provider documentation . </p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="config-multi-role-login"></a>Configuring OAuth Profiles for Role-Based Authentication for an <span class="mc-variable Product-Names.broker_cloud_short_title variable">Event Broker Service</span></h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can configure <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s to authenticate connecting users through your OAuth identity provider (IdP). You do this by creating OAuth profiles on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. The OAuth profile contains information the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> requires to enable single sign-on through your IdP. You can map <a href="cloud-user-management.htm#Roles" target="_blank" class="link-internal">existing roles in <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span></a> through the OAuth profiles to custom roles in your IdP, providing role-based permissions to authenticated users. Role-based mappings allow you to provide direct access to the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> while restricting permissions to roles assigned through your (IdP) configuration.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In the procedures below, we create an OAuth profile, secure redirects from your IdP, and then map two roles: an editor and a viewer. We map these roles to <a href="cloud-user-management.htm#Roles" target="_blank" class="link-internal"> existing <span class="mc-variable Product-Names.cluster_mgr variable">Cluster Manager</span> roles</a>, providing the editor with permissions to perform an array of tasks through <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span>, and restricting the viewer to logging in and viewing the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> settings. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Before configuring your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s OAuth profiles for authenticating user log in, ensure you have <a href="#config-provider" class="link-internal">configured your OAuth identity provider correctly</a>. To configure the OAuth profile on your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>, follow these steps:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">
                                                                    <p><a href="#create-connection-to-idp" class="MCXref xref">Creating an OAuth Profile on the Event Broker Service</a>
                                                                    </p>
                                                                </li>
                                                                <li value="2">
                                                                    <p><a href="#secure-idp-redirects" class="MCXref xref">Securing the Redirects From Your Identity Provider</a>
                                                                    </p>
                                                                </li>
                                                                <li value="3">
                                                                    <p><a href="#create-roles" class="MCXref xref">Mapping OAuth Profiles Roles for Authentication </a>
                                                                    </p>
                                                                </li>
                                                            </ol>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="create-connection-to-idp"></a>Creating an OAuth Profile on the <span class="mc-variable Product-Names.broker_cloud_short_title variable">Event Broker Service</span></h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You require the following information from your IdP to complete this procedure:</p>
                                                            <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li>
                                                                    <p>A client ID</p>
                                                                </li>
                                                                <li>
                                                                    <p>A client secret</p>
                                                                </li>
                                                                <li>
                                                                    <p>(optional) Custom claims from your IdP if mapping roles</p>
                                                                </li>
                                                                <li>
                                                                    <p>The OpenID Connect Discovery or Configuration endpoint where your IdP publishes metadata. This is an URL typically ending with <code>.well-known/openid-configuration</code>. </p>
                                                                </li>
                                                            </ul>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Complete the following steps to create the OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. 
</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">
                                                                    <p data-mc-conditions="SAP.SapHideFromOutput"><a name="step1-get-service"></a>Determine the unique identifier for the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> you want to enable role-based authentication  using one of the following methods:</p>
                                                                    <ul data-mc-conditions="SAP.SapHideFromOutput">
                                                                        <li>
                                                                            <p>In <span class="mc-variable Product-Names.cluster_mgr variable">Cluster Manager</span>, select the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> and get its unique identifier from the last segment in the URL. For example, <code>9c5vurtex4b</code> is the identifier from <code>https://console.solace.cloud/services/9c5vurtex4b</code>.</p>
                                                                        </li>
                                                                        <li>
                                                                            <p>Use the <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite">Get list of services</a> REST endpoint to find the unique identifier (id) of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>.</p>
                                                                        </li>
                                                                    </ul>
                                                                    <p data-mc-conditions="SAP.SapHideFromOutput">For example, on the <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite">Get list of services</a> page, paste your API token into the <b>Bearer</b> field and then click <b>Try It!</b>. To find your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> named <b>My-Primary-Service</b>, you can find that string in the name object and its corresponding id object is the unique identifier for the service, which is <code>9wbofn0wvwb</code> as shown:</p>
                                                                    <p data-mc-conditions="SAP.SapHideFromOutput">
                                                                        <div class="thumbnail-container"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../Resources/Images/Cloud/restapi/oauth_profile_get_service.png" data-mc-popup-alt=""><img class="MCPopupThumbnail img imgsolacethumbnail" data-mc-width="700" data-mc-height="622" src="../Resources/Images/Cloud/restapi/oauth_profile_get_service_thumb_500_0.png" alt="" tabindex="" /></a>
                                                                        </div>
                                                                    </p>
                                                                </li>
                                                                <li value="2" data-mc-conditions="SAP.SapHideFromOutput">Use the <a href="https://api.solace.dev/cloud/reference/createresource" target="_blank" class="link-offsite">Create a resource object for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using a SEMP POST API</a> to create an OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. </li>
                                                                <p data-mc-conditions="SAP.SapHideFromOutput">Specify the <b>Path Parameter</b> fields as follows:

        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                                <p data-mc-conditions="SAP.SapHideFromOutput">In the <b>Body Params</b> field, enter the following JSON object which contains the necessary details to create the profile and connect it to your IdP. See <a href="https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/software-broker/config/index.html#/oauthProfile/createOauthProfile" target="_blank" class="link-offsite">Create an OAuth Profile object in the SEMP reference documentation</a> for a list of all possible parameters for the JSON body.</p><pre xml:space="preserve">{
  "accessLevelGroupsClaimName": "{CUSTOM_CLAIM}",
  "clientId": "${CLIENT_ID}",
  "clientRedirectUri": "",
  "clientRequiredType": "JWT",
  "clientScope": "openid email",
  "clientSecret": "${CLIENT_SECRET}",
  "clientValidateTypeEnabled": false,
  "defaultGlobalAccessLevel": "none",
  "defaultMsgVpnAccessLevel": "none",
  "displayName": "",
  "enabled": true,
  "endpointAuthorization": "",
  "endpointDiscovery": "${ENDPOINT_DISCOVERY}",
  "endpointDiscoveryRefreshInterval": 86400,
  "endpointIntrospection": "",
  "endpointIntrospectionTimeout": 1,
  "endpointJwks": "",
  "endpointJwksRefreshInterval": 86400,
  "endpointToken": "",
  "endpointTokenTimeout": 1,
  "endpointUserinfo": "",
  "endpointUserinfoTimeout": 1,
  "interactiveEnabled": true,
  "interactivePromptForExpiredSession": "",
  "interactivePromptForNewSession": "select_account",
  "issuer": "",
  "oauthProfileName": "${PROFILE_NAME}",
  "oauthRole": "client",
  "resourceServerParseAccessTokenEnabled": true,
  "resourceServerRequiredAudience": "",
  "resourceServerRequiredIssuer": "",
  "resourceServerRequiredScope": "",
  "resourceServerRequiredType": "at+jwt",
  "resourceServerValidateAudienceEnabled": true,
  "resourceServerValidateIssuerEnabled": true,
  "resourceServerValidateScopeEnabled": true,
  "resourceServerValidateTypeEnabled": true,
  "sempEnabled": false,
  "usernameClaimName": "sub"
}		 </pre>
                                                                <p>Replace the variables in the JSON body above with the definitions listed in the table below </p>
                                                                <p>
                                                                    <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
                                                                        <col class="TableStyle-Table_Num-Column-Column1" />
                                                                        <col class="TableStyle-Table_Num-Column-Column1" />
                                                                        <thead>
                                                                            <tr class="TableStyle-Table_Num-Head-Header1">
                                                                                <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Variable</th>
                                                                                <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>CUSTOM_CLAIM</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyG-Column1-Body1">You define custom claims in your IdP. The JSON web token (ID Token) issued as part of the authorization process contains the custom claim. You can use the custom claim to map permissions.</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>CLIENT_ID</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyG-Column1-Body1">The client ID is a alphanumeric string that is unique to the application you created in your IdP. It is provided by your IdP when you create the OAuth application.</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>CLIENT_SECRET</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyG-Column1-Body1">The client secret is a string used to sign and validate ID tokens for authentication flows. This is provided by your IdP when you create the OAuth application.</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyE-Column1-Body1"><code>ENDPOINT_DISCOVERY</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyD-Column1-Body1">
                                                                                    <p>This is the OpenID Connect Discovery or Configuration endpoint where your IdP publishes metadata. It is typically an URL ending in <code>.well-known/openid-configuration</code>. Some examples include:
                                <ul><li>Azure:<code> https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration</code></li><li>SAP IAS:<code> https://accounts.sap.com/.well-known/openid-configuration</code></li></ul></p>
                                                                                    <p>If you do not configure have an OpenID Connect Discovery endpoint, you must configure the other endpoints manually.</p>
                                                                                </td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>PROFILE_NAME</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyA-Column1-Body1">Enter the same name you used for the <code>PROFILE_NAME</code> variable in URL when making this POST.</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </p>
                                                                <p>A successful POST request returns code 200.</p>
                                                                <p data-mc-conditions="SAP.SapHideFromOutput">You can test the successful creation of the profile by using the <a href="https://api.solace.dev/cloud/reference/getresource" target="_blank" class="link-offsite">Get a specific resource object for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> by the object path using a SEMP GET</a> API REST endpoint, where:
            <ul><li data-mc-conditions="SAP.SapHideFromOutput"><code>serviceId</code>—The unique identifier of the event broker service that you acquired in <a href="#step1-get-service" class="link-internal">Step 1</a>.</li><li data-mc-conditions="SAP.SapHideFromOutput"><code>resourcePath</code>—The resource path where you want to create the resource object, in this case <code>oauthProfiles</code>.</li></ul></p>
                                                                <p>The GET returns a list of OAuth roles if your POST call completed successfully .</p>
                                                            </ol>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="secure-idp-redirects"></a>Securing the Redirects From Your Identity Provider</h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">After <a href="#create-connection-to-idp" class="link-internal">creating an OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span></a>, it is important for security purposes to specify which hostnames can make token requests to the OAuth server. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">To specify the allowed hostnames, use the <a href="https://api.solace.dev/cloud/reference/createresource" target="_blank" class="link-offsite">Create a resource object for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using a SEMP POST</a> API to create an Allowed Value object on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> that contains the hostname information.</MadCap:conditionalText>
                                                            </p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Specify the <b>Path Parameter</b> fields as follows:

        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Provide the following JSON objects <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">into the <b>Body Params</b> field</MadCap:conditionalText>:</p><pre xml:space="preserve" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">{
    "allowedHost": "${VMR_HOST}:{SEMP_PORT}",
    "oauthProfileName": "${PROFILE_NAME}"
}</pre>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Replace the variables in the JSON body above with the definitions listed in the table below:       <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Variable</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>VMR_HOST</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1"><p>The <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>'s hostname. You can find the hostname under <b>DMR Cluster</b> in the <a href="cloud-configure-messaging-services.htm#service-details-information" target="_blank" class="link-internal">Detailed Service Information</a><MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput"> or using the <a href="https://api.solace.dev/cloud/reference/getservice" target="_blank" class="link-offsite">Get a specific event broker service by identifier</a> API and selecting <code>serviceConnectionEndpoints</code> in the <b>Query Params</b> field and looking for the <code>hostNames</code> value in the response body. </MadCap:conditionalText></p></td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>SEMP_PORT</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The port number for Secured Broker Management Host (SEMP) communication on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. You can find the SEMP port number by using the procedure to edit port configuration in the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span>. For more information, see <a href="edit-port-configuration.htm#edit-port-config" target="_blank" alt="link to editing port values" class="MCXref xref">Editing the Existing Port&#160;Configuration for an Event Broker Service</a></td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>PROFILE_NAME</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The name of the OAuth profile you created in <a href="#create-connection-to-idp" class="MCXref xref">Creating an OAuth Profile on the Event Broker Service</a>.</td></tr></tbody></table></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A successful POST request returns a code 200. </p>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="create-roles"></a>Mapping OAuth Profiles Roles for Authentication </h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">After <a href="#secure-idp-redirects" class="link-internal">securing redirects</a>, you can create roles for the OAuth profile and map them to roles in your identity provider (IdP). You can create up to three OAuth profiles per <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> and assign roles to the profiles as needed. Here, we are creating two roles for the OAuth profile we created earlier: an editor and a viewer. We will map these roles through the IdP to existing  <a href="cloud-user-management.htm#Roles" target="_blank" class="link-internal"><span class="mc-variable Product-Names.cluster_mgr variable">Cluster Manager</span> roles in <span class="mc-variable Product-Names.cloud_product_short variable">PubSub+ Cloud</span></a>. The role mappings allow us to define the permissions users have on particular <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s based on the role they authenticate with when accessing that service. For example, users logging in with the editor role can view, edit, and delete <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> properties. Meanwhile, users logging in with the viewer can only view <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> settings.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To create the two roles, see:
        <ul><li><p><a href="#create-editor-role" class="MCXref xref">Creating the Editor Role</a></p></li><li><p><a href="#create-viewer-role" class="MCXref xref">Creating the Viewer Role</a></p></li></ul></p>
                                                            <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="create-editor-role"></a>Creating the Editor Role</h4>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To create the editor role <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">use the <a href="https://api.solace.dev/cloud/reference/replaceresource" target="_blank" class="link-offsite">Replace a resource object on an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using a SEMP POST</a> API to create resource object on the broker containing the information about the editor role.</MadCap:conditionalText><br /></p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Specify the <b>Path Parameter</b> fields as follows:

        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Enter the following JSON object <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">into the <b>Body Params</b> field</MadCap:conditionalText>:</p><pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">{
  "description": "SolaceAdmin Group",
  "globalAccessLevel": "read-only",
  "groupName": "${ACCESS_LEVEL_EDITOR_GROUP_NAME}",
  "msgVpnAccessLevel": "read-write",
  "oauthProfileName": "${PROFILE_NAME}"
}</pre>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Replace the variables in the JSON body above with the definitions listed in the table below:
        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Variable</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>ACCESS_LEVEL_EDITOR_GROUP_NAME</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The claim value that is mapped to the editor level access for the group.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>PROFILE_NAME</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The name of the OAuth profile you created when <a href="#create-connection-to-idp" class="MCXref xref">Creating an OAuth Profile on the Event Broker Service</a>.</td></tr></tbody></table></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A successful PUT request returns a code 200. </p>
                                                            <h4 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="create-viewer-role"></a>Creating the Viewer Role</h4>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To create the viewer role <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">use the <a href="https://api.solace.dev/cloud/reference/replaceresource" target="_blank" class="link-offsite">Replace a resource object on an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using a SEMP POST</a> API to create resource object on the broker containing the information about the viewer role.</MadCap:conditionalText><br /></p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Specify the <b>Path Params </b>fields as follows:

        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Enter the following JSON object <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">into the <b>Body Params</b> field</MadCap:conditionalText>:</p><pre xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">{
  "description": "SolaceAdmin Group",
  "globalAccessLevel": "read-only",
  "groupName": "${ACCESS_LEVEL_READER_GROUP_NAME}",
  "msgVpnAccessLevel": "read-only",
  "oauthProfileName": "${PROFILE_NAME}"
}</pre>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Replace the variables in the JSON body above with the definitions listed in the table below:
        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Variable</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>ACCESS_LEVEL_READER_GROUP_NAME</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1"><p>The claim value that is mapped to the viewer level access for the group.</p></td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>PROFILE_NAME</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The name of the OAuth profile you created when <a href="#create-connection-to-idp" class="MCXref xref">Creating an OAuth Profile on the Event Broker Service</a>.</td></tr></tbody></table></p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">A successful PUT request returns a code 200. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">When configured successfully, users logging into an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> see a log in screen with the option to log-in with a username and password, using single-sign on (SSO) through your OAuth IdP<MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">, as shown in the image below.</MadCap:conditionalText> After configuring and testing OAuth profile-based authentication, you can disable basic authentication, forcing users to authenticate through SSO. For more information, see <a href="#disable-pre-auth" class="MCXref xref">Disabling Basic Authentication for Event Broker Service Management</a>. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">If you no longer require a role you have created, you can delete it. See <a href="#delete-roles" class="MCXref xref">Deleting an OAuth Profile on an Event Broker Service</a>.  </p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <img src="../Resources/Images/Cloud/login_with_cust_role.png" class="img-border" alt="" />
                                                            </p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="machine-to-machine"></a>Configuring OAuth Profiles for Machine-to-Machine Authentication for an <span class="mc-variable Product-Names.broker_cloud_short_title variable">Event Broker Service</span></h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can configure <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s so that machines (other <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s, computers, and applications) connecting to them authenticate with OAuth. You do this by creating an OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>, and configuring it so that the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> acts as a resource server for the connecting applications. You can only create one OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> for machine-to-machine authentication. Machines connecting to your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> receive authentication using an <a href="https://auth0.com/blog/using-m2m-authorization/" target="_blank" alt="link to Okta documents explaining machine to machine authentication" class="link-offsite" title="link to Okta documents explaining machine to machine authentication">OAuth client credentials grant</a>. </p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Before configuring your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s to use SSO for machine-to-machine authentication, ensure you have <a href="#config-provider" class="link-internal">configured your identity provider (IdP) correctly</a>. You also require an API token with the permissions outlined in <a href="#considerations" class="MCXref xref">Considerations for Configuring OAuth Profiles for Authentication</a>.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You require various information to complete this procedure depending on whether token validation will be performed by an introspection endpoint, or JWKS:</p>
                                                            <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li>
                                                                    <p>A client ID  (required for validation using an introspection endpoint)</p>
                                                                </li>
                                                                <li>
                                                                    <p>A client secret  (required for validation using an introspection endpoint)</p>
                                                                </li>
                                                                <li>
                                                                    <p>The URL to your IdP</p>
                                                                </li>
                                                                <li>
                                                                    <p>The discovery endpoint where your IdP publishes metadata. It is typically an URL ending in <code>.well-known/openid-configuration</code>. </p>
                                                                </li>
                                                            </ul>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure OAuth authentication for machine-to-machine connections to your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> services, follow these steps:</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">
                                                                    <p>Create the OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">using the <a href="https://api.solace.dev/cloud/reference/createresource" target="_blank" class="link-offsite">Create a resource object on an event broker service using a SEMP POST</a> API to create an OAuth profile on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>.</MadCap:conditionalText><br /></p>
                                                                </li>
                                                                <p data-mc-conditions="SAP.SapHideFromOutput">Specify the <b>Path Parameter </b>fields as follows:

                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                                <p>Enter the following JSON object <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">into the <b>Body Params</b> field</MadCap:conditionalText>:</p><pre xml:space="preserve">{
  "clientId": "${CLIENT_ID}",
  "clientRedirectUri": "",
  "clientRequiredType": "JWT",
  "clientScope": "openid email",
  "clientSecret": "${CLIENT_SECRET}",
  "clientValidateTypeEnabled": false,
  "defaultGlobalAccessLevel": "read-only",
  "defaultMsgVpnAccessLevel": "read-write",
  "displayName": "",
  "enabled": true,
  "endpointAuthorization": "",
  "endpointDiscovery": "${ENDPOINT_DISCOVERY}",
  "endpointDiscoveryRefreshInterval"   : 86400,
  "endpointIntrospection": "",
  "endpointIntrospectionTimeout": 10,
  "endpointJwks": "",
  "endpointJwksRefreshInterval": 86400,
  "endpointToken": "",
  "endpointTokenTimeout": 10,
  "endpointUserinfo": "",
  "endpointUserinfoTimeout": 10,
  "interactiveEnabled": false,
  "interactivePromptForExpiredSession": "",
  "interactivePromptForNewSession": "select_account",
  "issuer": "${PROFILE_NAME}",
  "oauthProfileName": "${PROFILE_NAME}",
  "oauthRole": "resource-server",
  "resourceServerParseAccessTokenEnabled": true,
  "resourceServerRequiredAudience": "${CLIENT_ID}",
  "resourceServerRequiredIssuer": "${AUDIENCE}",
  "resourceServerRequiredScope": "SolaceAdmin",
  "resourceServerRequiredType": "at+JWT",
  "resourceServerValidateAudienceEnabled": true,
  "resourceServerValidateIssuerEnabled": true,
  "resourceServerValidateScopeEnabled": false,
  "resourceServerValidateTypeEnabled": false,
  "sempEnabled": true,
  "usernameClaimName": "sub"
}</pre>
                                                                <p>Replace the variables in the JSON body above with the definitions listed in the table below:
</p>
                                                                <p>
                                                                    <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
                                                                        <col class="TableStyle-Table_Num-Column-Column1" />
                                                                        <col class="TableStyle-Table_Num-Column-Column1" />
                                                                        <thead>
                                                                            <tr class="TableStyle-Table_Num-Head-Header1">
                                                                                <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Variable</th>
                                                                                <th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>CLIENT_ID</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyG-Column1-Body1">Optional—The client ID is a alphanumeric string that is unique to the application you created in your IdP and is only required when validating a token by introspection endpoint. It is provided by your IdP when you create the OAuth application.</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>CLIENT_SECRET</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyG-Column1-Body1">Optional—The client secret is a string used to sign and validate ID tokens for authentication flows and is only required when validating a token by introspection endpoint. This is provided by your IdP when you create the OAuth application.</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>ENDPOINT_DISCOVERY</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                                                                    <p>This is the OpenID Connect Discovery or Configuration endpoint where your IdP publishes metadata. It is typically an URL ending in <code>.well-known/openid-configuration</code>. Some examples include:
                                <ul><li>Azure:<code> https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration</code></li><li>SAP IAS:<code> https://accounts.sap.com/.well-known/openid-configuration</code></li></ul></p>
                                                                                    <p>If you do not configure have an OpenID Connect Discovery endpoint, you must configure the other endpoints manually.</p>
                                                                                </td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyE-Column1-Body1"><code>PROFILE_NAME</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyD-Column1-Body1">Enter the same name you used for the <code>PROFILE_NAME</code> variable in URL when making this POST.</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-Table_Num-Body-Body1">
                                                                                <td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>AUDIENCE</code>
                                                                                </td>
                                                                                <td class="TableStyle-Table_Num-BodyA-Column1-Body1">This is the URL to your IdP.</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </p>
                                                                <p>A successful POST request returns a code of <code>200</code>.</p>
                                                                <p>You can test the successful creation of the profile by <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">using the <a href="https://api.solace.dev/cloud/reference/getresource" target="_blank" class="link-offsite">Get a specific resource object for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> by the object path using a SEMP GET</a> API REST endpoint. </MadCap:conditionalText>:<br /></p>
                                                                <p data-mc-conditions="SAP.SapHideFromOutput">Specify the <b>Path Parameter </b>fields as follows:

                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                                <p>The GET request returns a list of profiles if your POST request created them successfully.</p>
                                                                <li value="2">
                                                                    <p>You can test the connection by getting a token from your IdP and adding it to the authentication header. See your  see  your OAuth provider documentation  for information on how to get a token. </p>
                                                                    <p class="Note">If you're having trouble connecting, check that your introspection endpoint is returning token information. For more information, see <a href="https://www.oauth.com/oauth2-servers/token-introspection-endpoint/" target="_blank" class="link-offsite">Token Introspection Endpoint</a> in the OAuth documentation.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>(Optional) After the configuration is successful, you can <a href="#disable-pre-auth" class="link-internal">disable basic authentication</a> for the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>.</p>
                                                                </li>
                                                                <li value="4">
                                                                    <p>(Optional) When you no longer need the machine-to-machine based OAuth profile, you can delete it. See <a href="#delete-roles" class="MCXref xref">Deleting an OAuth Profile on an Event Broker Service</a>.</p>
                                                                </li>
                                                            </ol>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="disable-pre-auth"></a>Disabling Basic Authentication for <span class="mc-variable Product-Names.broker_cloud_short_title variable">Event Broker Service</span> Management</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can disable basic access to your <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> after creating and configuring OAuth profiles to better secure them. Disabling basic authentication includes:</p>
                                                            <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li>
                                                                    <p>pre-authenticated log in when accessing the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> manager quick settings or <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span>. See <a href="#disable-pre-auth" class="MCXref xref">Disabling Basic Authentication for Event Broker Service Management</a>.</p>
                                                                </li>
                                                                <li>
                                                                    <p>basic user authentication for logging into event broker services, requiring SSO to be used when logging into an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. See <a href="#disable-basic-auth" class="MCXref xref">Disabling Basic User Access Using the REST API</a>.</p>
                                                                </li>
                                                            </ul>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="disable-basic-auth-console"></a>Disabling Pre-Authentication Using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span></h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can disable pre-authentication for <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s. This is an organization wide change. Once disabled, users must authenticate when launching <span class="mc-variable Product-Names.pubsubmanager_short variable">Broker Manager</span> from the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> and can do so using the OAuth profiles. For more information, see <a href="manage-cloud-authentication.htm" class="MCXref xref">Pre-Authentication for Broker Manager</a></p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">
                                                                    <p>Log in to the <a href="https://console.solace.cloud/login" target="_blank" class="link-offsite"><span class="mc-variable Product-Names.console_ui_long variable">PubSub+&#160;Cloud Console</span></a> if you have not done so yet. The URL to access the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> differs based on your <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">authentication scheme</MadCap:conditionalText>. For more information, see <MadCap:conditionalText data-mc-conditions="Default.NotForPDF"> <a href="cloud-login-urls.htm" target="_blank" class="MCXref xref">Logging In to the PubSub+&#160;Cloud Console</a></MadCap:conditionalText>.</p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>Click <b>User &amp; Account</b>, select <b>Account Details</b>, and then click the <b>Account Settings</b>.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>In the <b>Security Settings</b> section click the <span style="font-weight: bold;" class="mc-variable Product-Names.pubsub_brand_only variable">PubSub+</span><b> Pre Authentication</b> slider to disable pre-authentication.</p>
                                                                    <p>
                                                                        <img src="../Resources/Images/Cloud/security-settings-pre-auth.png" class="img-border" alt="" />
                                                                    </p>
                                                                </li>
                                                            </ol>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="disable-basic-auth"></a>Disabling Basic User Access Using the REST API</h3>
                                                            <div class="Caution" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <p>Disabling basic authentication without enabling OAuth profiles disables all access to the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>.</p>
                                                            </div>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can disable basic user authentication for <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>s. This forces connecting users or machines (computers and applications) to authenticate with single sign-on using the OAuth profiles you configured on the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>. If you disable basic authentication, you should also consider <a href="#disable-pre-auth" class="link-internal">disabling pre-authentication</a>.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To disable basic authentication <MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput">use the <a href="https://api.solace.dev/cloud/reference/disableorenable" target="_blank" class="link-offsite">Enable or disable basic authentication for users logging onto an event broker service</a> API  to delete the OAuth profile from the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>.</MadCap:conditionalText><br /></p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Specify the <b>Path Parameter </b>fields as follows:

        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>enabled</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1"><p>Select the value to indicate whether basic OAuth authentication should be enabled or disabled, either: </p><ul><li><p><code>true</code>—Basic authentication is enabled</p></li><li><p><code>false</code>—Basic authentication is enabled</p></li></ul></td></tr></tbody></table></p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="delete-roles"></a>Deleting an OAuth Profile on an <span class="mc-variable Product-Names.broker_cloud_short_title variable">Event Broker Service</span></h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can delete OAuth profiles when you no longer need them.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To delete an  OAuth profile<MadCap:conditionalText data-mc-conditions="SAP.SapHideFromOutput"> use the <a href="https://api.solace.dev/cloud/reference/deleteresource" target="_blank" class="link-offsite">Delete a resource object on an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> by object path using a SEMP DELETE</a> API to delete the OAuth profile from the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span>.</MadCap:conditionalText><br /></p>
                                                            <p data-mc-conditions="SAP.SapHideFromOutput" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Specify the <b>Path Parameter</b> fields as follows:
        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0"><col class="TableStyle-Table_Num-Column-Column1" /><col class="TableStyle-Table_Num-Column-Column1" /><thead><tr class="TableStyle-Table_Num-Head-Header1"><th class="TableStyle-Table_Num-HeadE-Column1-Header1">Path Parameter</th><th class="TableStyle-Table_Num-HeadD-Column1-Header1">Definition</th></tr></thead><tbody><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyH-Column1-Body1"><code>serviceId</code></td><td class="TableStyle-Table_Num-BodyG-Column1-Body1">The unique identifier of the <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> where you want to create the roles. You can determine the unique identifier for an <span class="mc-variable Product-Names.broker_cloud_short variable">event broker service</span> using the <span class="mc-variable Product-Names.console_ui_short variable">Cloud Console</span> or by using a GET call. See <a href="https://api.solace.dev/cloud/reference/getservices" target="_blank" class="link-offsite" data-mc-conditions="SAP.SapHideFromOutput">Get a list of event broker services</a>.</td></tr><tr class="TableStyle-Table_Num-Body-Body1"><td class="TableStyle-Table_Num-BodyB-Column1-Body1"><code>resourcePath</code></td><td class="TableStyle-Table_Num-BodyA-Column1-Body1">The resource path where you want to define the resource object. For example, <code>oauthProfiles/machineRole</code>. </td></tr></tbody></table></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="no-print">
                                            <div><a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                                            </div>
                                        </div>
                                        <footer class="my-4 pt-4 text-center no-print">
                                            <div class="footer-txt text-center no-print">
                                                <ul class="list-inline ">
                                                    <li class="list-inline-item text-muted"><a href="../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                                                    <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                                                    <li class="list-inline-item text-muted" style="font-size:13px;"> ©  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                                                </ul>
                                            </div>
                                            <div class="footer-icons">
                                                <ul class="list-inline">
                                                    <li class="list-inline-item"><a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="footer_link_menu">
                                                <ul class="link_list">
                                                    <li class="link_list_item"><a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </footer>
                                    </div>
                                    <!-- JIRA issue collector -->
                                    <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                                    <script src="../Resources/Scripts/thumbnail.js">
                                    </script>
                                    <!-- Script for Launching offsite links in new tab -->
                                    <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>