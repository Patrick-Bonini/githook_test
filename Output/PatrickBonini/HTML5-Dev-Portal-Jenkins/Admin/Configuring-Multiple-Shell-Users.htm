<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|Management &amp; Shell Users" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Configuring Multiple Linux Shell Users</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <!--style to display feedback button correctly in IE-->
    <!-- Google Tag Manager -->
    <!-- End Google Tag Manager -->
    <!-- links to get the EDA styling to work -->
    <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True"/>
    <link href="../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
    <link href="../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
    <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
    <link href="../Resources/TableStyles/Table_Num.css" rel="stylesheet" data-mc-stylesheet-type="table"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png"/>
    <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png"/>
    <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png"/>
    <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png"/>
    <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
    <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
    <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
    <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
    <script type="text/javascript" src="../Skins/Default/Scripts/TopicToolBar.js">
        </script>
  </head>
  <!-- Top Orange and Darkgrey header-->
  <!-- Div for EDA banner -->
  <div class="eda_banner">
    <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
  </div>
  <!-- end Div for EDA banner -->
  <div class="top-nav">
    <div class="main_list">
      <ul class="top-navlinks">
        <li>
          <a href="https://solace.com/support/" target="_blank">Support</a>
        </li>
        <li>
          <a href="https://solace.com/contact/" target="_blank">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="container-fluid">
      <div class="src-li">
        <div id="srchWrapTwo">
          <form class="search" action="#">
            <div class="search-bar search-bar-container needs-pie">
              <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
              <div class="search-filter-wrapper">
                <span class="invisible-label" id="search-filters-label">Filter: </span>
                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                <div class="search-filter-content" id="sf-content">
                  <ul>
                    <li>
                      <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                        <span id="filterSelectorLabel-00001">All Files</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="search-submit-wrapper" dir="ltr">
                <div class="search-submit" title="Search" role="button" tabindex="0">
                  <span class="invisible-label">Submit Search</span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
      <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
    </div>
    <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
    <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
  </div>
  <body>
    <div class="foundation-wrap off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
        <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
          <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
        </aside>
        <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
          <div data-sticky-container="" class="title-bar-container">
            <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true">
              <a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
              <div class="middle title-bar-section outer-row clearfix">
                <div class="menu-icon-container relative clearfix">
                  <div class="central-account-wrapper">
                    <div class="central-dropdown">
                      <a class="central-account-drop">
                        <span class="central-account-image"/>
                        <span class="central-account-text">Account</span>
                      </a>
                      <div class="central-dropdown-content">
                        <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                        <hr class="central-separator"/>
                        <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                      </div>
                    </div>
                  </div>
                  <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas">
                    <span/>
                  </button>
                </div>
              </div>
              <div class="title-bar-layout outer-row">
                <div class="logo-wrapper">
                  <a class="logo" href="../index.html" alt="Logo"/>
                </div>
                <div class="navigation-wrapper nocontent">
                  <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    <li class="placeholder" style="visibility:hidden">
                      <a>placeholder</a>
                    </li>
                  </ul>
                </div>
                <div class="central-account-wrapper">
                  <div class="central-dropdown">
                    <a class="central-account-drop">
                      <span class="central-account-image"/>
                      <span class="central-account-text">Account</span>
                    </a>
                    <div class="central-dropdown-content">
                      <a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                      <hr class="central-separator"/>
                      <a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                    </div>
                  </div>
                </div>
                <div class="nav-search-wrapper">
                  <div class="nav-search row">
                    <form class="search" action="#">
                      <div class="search-bar search-bar-container needs-pie">
                        <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs"/>
                        <div class="search-filter-wrapper">
                          <span class="invisible-label" id="search-filters-label">Filter: </span>
                          <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                          <div class="search-filter-content" id="sf-content">
                            <ul>
                              <li>
                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001">
                                  <span id="filterSelectorLabel-00001">All Files</span>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div class="search-submit-wrapper" dir="ltr">
                          <div class="search-submit" title="Search" role="button" tabindex="0">
                            <span class="invisible-label">Submit Search</span>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="main-section">
            <div class="row outer-row sidenav-layout">
              <nav class="sidenav-wrapper">
                <div class="sidenav-container">
                  <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                </div>
              </nav>
              <div class="body-container">
                <div data-mc-content-body="True">
                  <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                    <div class="button-group-container-left">
                      <button class="button needs-pie print-button" title="Print">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Print">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                      <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                        <div>
                          <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                            <div class="button-icon"> </div>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <!-- Google Tag Manager (noscript) -->
                  <noscript>
                    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"/>
                  </noscript>
                  <!-- End Google Tag Manager (noscript) -->
                  <div id="content">
                    <div id="contentBody">
                      <div class="row collapse">
                        <div xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="ContentRow">
                          <div>
                            <div xmlns="" class="nocontent">
                              <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True">
                                <span class="MCBreadcrumbsPrefix"> </span>
                              </div>
                            </div>
                            <div xmlns="" role="main" id="mc-main-content">
                              <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Configuring Multiple Linux Shell Users</h1>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In addition to the built-in root user and default support user accounts, you can create extra sysadmins, who have root user like privileges, and extra support accounts. These additional accounts introduce more flexibility into appliance operations, and allow for the implementation of  operational protocols similar to these:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>Emergency sysadmin accounts and passwords can be kept in a secure location in case the operational root password is ever lost. For example, this allows for recovery if a trusted employee leaves your organization, or if a password management system breaks or fails and leaves accounts inaccessible.</li>
                                <li>Corporate security policies can be implemented that forbid shared usernames and require each sysadmin to have a unique username.</li>
                                <li>Certain users can be provided access to a subset of Linux tools so they can examine appliance log files, but not be able to delete or modify files they are not supposed to.</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Linux shell user accounts fall into three groups (in addition to the standard root and default support user) that you can create and configure:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li><b>Sysadmin:</b> These are root-like users who can run all commands in the appliance&#x2019;s shell with root privileges without entering the root password by using <code>sudo</code>. In other words, any appliance configuration procedure in these documents that notes you need root access, or be the root user, to perform can also be performed by a Sysadmin user.
           </li>
                                <li><b>Support:</b> These creatable support users have the same privileges as the default support user. They are allowed to execute a limited set of appliance shell commands and scripts.
            </li>
                                <li><b>Restricted:</b> These users have read access to appliance logs, read/write access to files in their own home directory, and read access to files owned by other users as long as the files&#x2019; owners allow it. They can execute shell commands that don&#x2019;t need root access.
</li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">While there's no limit on the number of new user accounts you can create, <span class="mc-variable Variables.CompanyName variable">Solace</span> supports a maximum of two sysadmin group users and a combined total of 100 users in support or restricted groups.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">The following table lists the characteristics of each of the three shell user groups. It presents the permissions, limits on associated home directory quota, and allowable shell commands.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <b>Linux Shell User Group Properties</b>
                              </p>
                              <table xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="width: 100%;mc-table-style: url('../Resources/TableStyles/Table_Num.css');" class="TableStyle-Table_Num" cellspacing="0">
                                <col class="TableStyle-Table_Num-Column-Column1"/>
                                <col class="TableStyle-Table_Num-Column-Column1"/>
                                <col class="TableStyle-Table_Num-Column-Column1"/>
                                <col class="TableStyle-Table_Num-Column-Column1"/>
                                <thead>
                                  <tr class="TableStyle-Table_Num-Head-Header1">
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1" style="text-align: center;">Shell User Group</th>
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1">Permissions</th>
                                    <th class="TableStyle-Table_Num-HeadE-Column1-Header1" style="text-align: center;">Home Directory Size Quota</th>
                                    <th class="TableStyle-Table_Num-HeadD-Column1-Header1" style="text-align: center;">Allowable Shell Commands&#xA0;</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Sysadmin</td>
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Same permissions as the root user.</td>
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Limited by disk size</td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">All commands can be <code>sudo</code> without entering the root password</td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Support</td>
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">
                                      <p>Same permissions as the default support user.</p>
                                      <p>Allowed to execute all the host commands shown in the <code>Allowable Shell Commands</code> column and scripts in <code>/usr/sw/loads/currentload/supported</code> directory.</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyH-Column1-Body1">Recommended: 100 MB per support user</td>
                                    <td class="TableStyle-Table_Num-BodyG-Column1-Body1">
                                      <p class="Code">
&gt; fdisk
</p>
                                      <p class="Code">&gt; fsck</p>
                                      <p class="Code">
&gt; gather-diagnostics</p>
                                      <p class="Code">&gt; hwclock</p>
                                      <p class="Code">
&gt; ipmitool</p>
                                      <p class="Code">	&gt; mdadm</p>
                                      <p class="Code">&gt; 
mkfs
</p>
                                      <p class="Code">&gt; provision-lun-for-ad
</p>
                                      <p class="Code">&gt; reboot
</p>
                                      <p class="Code">&gt; rpm-install</p>
                                      <p class="Code">
&gt; run-adb-post
</p>
                                      <p class="Code">&gt; run-hba-post</p>
                                      <p class="Code">
&gt; run-nab-post
</p>
                                      <p class="Code">&gt; run-platform-post
</p>
                                      <p class="Code">	&gt; run-trb-post
</p>
                                      <p class="Code">&gt; show-adb-cap-status
</p>
                                      <p class="Code">&gt; show-hardware
</p>
                                      <p class="Code">&gt; show-hardware-detail
</p>
                                      <p class="Code">&gt; show-hardware-post
</p>
                                      <p class="Code">&gt; show-power-supply-status
</p>
                                      <p class="Code">&gt; show-respawn-history
</p>
                                      <p class="Code">&gt; smartctl</p>
                                      <p class="Code">
&gt; soldebug</p>
                                      <p class="Code">&gt; soldisktest</p>
                                      <p class="Code">&gt; vmstat
</p>
                                    </td>
                                  </tr>
                                  <tr class="TableStyle-Table_Num-Body-Body1">
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">Restricted</td>
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">
                                      <p>Read access to Solace logs.</p>
                                      <p>Read and write access to their home directory.</p>
                                      <p>Read access to files owned by other users if allowed by the files' owners.</p>
                                      <p>Allowed to execute some standard Linux commands that don't need root access. 
</p>
                                    </td>
                                    <td class="TableStyle-Table_Num-BodyB-Column1-Body1">Recommended: 100 MB per restricted user</td>
                                    <td class="TableStyle-Table_Num-BodyA-Column1-Body1">None</td>
                                  </tr>
                                </tbody>
                              </table>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">There are also some general characteristics that apply to all shell users:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>All shell users can change their own passwords.</li>
                                <li>All shell users survive system upgrades.</li>
                                <li>All shell users are included in database backups and restores; however, their associated home directories are not backed up or restored,</li>
                                <li>All shell users and their associated home directories are removed when the <code>reload default-config</code> command is run (note that the built-in root and default support user accounts are unaffected).</li>
                                <li>All shell users can be individually assigned disk quota. </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">The shell users described on this page apply only to appliances. </p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Note">You can create users and groups on the host for <span class="mc-variable Product-Names.broker_sw_short variable">software event broker</span>s. However, as the host OS is not managed by <span class="mc-variable Variables.CompanyName variable">Solace</span> those users and groups can be deleted during upgrades.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Config_Sysadmin_Direct"/>Creating Linux Shell Users</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In this section we'll show you how to create Sysadmin, Support and Restricted user accounts.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">As a root or sysadmin user, perform the following steps in the appliance's Linux shell, to create and configure a new shell user: </p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">Create a new user by executing the <code>luseradd</code> command with <code>USER_TYPE</code> set to either <code>sysadmin</code>, <code>support</code> or <code>restricted</code>, depending on the group member you're creating.</li>
                                <p class="Code">$ sudo luseradd -g &lt;USER_TYPE&gt; &lt;username&gt;</p>
                                <li value="2">Configure an initial password with the <code>passwd</code> command. You'll be prompted to enter a password for <code>&lt;username&gt;</code>.</li>
                                <p class="Code">$ sudo passwd &lt;username&gt;</p>
                                <li value="3">A recommended security practice is to force the user to change their password upon first login by setting their password expiry information to immediate. This is done with the <code>chage -d 0</code> command.</li>
                                <p class="Code">$ sudo chage -d 0 &lt;username&gt;</p>
                                <li value="4">Set the user's disk quota if you're configuring either a <code>support</code> or <code>restricted</code> shell user. In this example, the recommended 100 MB has been set. You don't need to set a quota for a <code>sysadmin</code> user because their quota is limited only by the system's disk size.</li>
                                <p class="Code">$ sudo setquota -u &lt;username&gt; 100000 100000 50000 50000 /usr/sw</p>
                              </ol>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Adding SSH Keys to User Accounts</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">You can provide an additional layer of security by installing an ssh key on the user's account. These steps show you how to do that. </p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">Create a public/private key pair on the client machine that will be used to connect to the appliance. A passphrase can be used, but note that the passphrase must be entered every time the key is used.</li>
                                <p class="Code">$ ssh-keygen -t rsa</p>
                                <li value="2">Log into the appliance and create a hidden ssh directory in the new user's home directory.</li>
                                <p class="Code">$ mkdir /usr/sw/home/&lt;username&gt;/.ssh</p>
                                <li value="3">Send the file <code>id_rsa.pub</code> to the appliance. As an example, <code>scp</code> will be used.</li>
                                <p class="Code">$ scp id_rsa.pub &lt;destination&gt;</p>
                                <li value="4">Install the public key in the <code>authorized_keys</code> list.</li>
                                <p class="Code">$ cat id_rsa.pub &gt;&gt; /usr/sw/home/&lt;username&gt;/.ssh/authorized_keys</p>
                                <li value="5">For further security, disable password authentication for the new user account once ssh key login has been configured.</li>
                                <p>Once password authentication is disabled, the only way to login is with ssh keys, and it won't be possible to log in to this user account from the Solace CLI to the Linux shell with the CLI command <code>shell</code>. Therefore, ensure there is at least one sysadmin user that can be logged in directly without an ssh key in case of Solace PubSub+ failure.</p>
                                <p>Execute the following command to disable password authentication: </p>
                                <p class="Code">$ sudo passwd -l &lt;username&gt;</p>
                              </ol>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Config_Sysadmin_2step"/>Creating Enhanced Security Sysadmin Users</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">For enhanced security, sysadmin users can be configured so that they must use a 2-step login process:</p>
                              <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li>first, they log in as a support user, and</li>
                                <li> then they can log in to their sysadmin account. </li>
                              </ul>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To configure a new sysadmin user that requires this 2-step login process, do the following steps in the appliance's Linux shell as root or a sysadmin user.</p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">Create a new sysadmin user by executing the <code>luseradd</code> command.</li>
                                <p class="Code">$ sudo luseradd -g sysadmin &lt;username&gt;</p>
                                <li value="2">Create a new support user by executing the <code>luseradd</code> command with the <code>support</code> parameter.</li>
                                <p class="Code">$ sudo luseradd -g support &lt;username&gt;_support</p>
                                <li value="3">Configure initial passwords for both the sysadmin and support accounts.  You'll be prompted to enter passwords for <code>&lt;username&gt;</code> and <code>&lt;username&gt;_support</code>.</li>
                                <p class="Code">$ sudo passwd &lt;username&gt;</p>
                                <p class="Code">$ sudo passwd &lt;username&gt;_support</p>
                                <li value="4">Force the user to change the passwords upon first login by setting the password expiry information to immediate.</li>
                                <p class="Code">$ sudo chage -d 0 &lt;username&gt;</p>
                                <p class="Code">$ sudo chage -d 0 &lt;username&gt;_support</p>
                                <li value="5">Allocate a disk quota for the support user. In this example, 100 MB is the desired value.</li>
                                <p class="Code">$ sudo setquota -u &lt;username&gt;_support 100000 100000 50000 50000 /usr/sw</p>
                                <li value="6">Disable direct shell login for the sysadmin account.</li>
                                <p class="Code">$ sudo chsh -s /sbin/solace-nologin &lt;username&gt;</p>
                                <li value="7">To login to the newly created sysadmin account, first login as to the associated support user account you just created and then run the following command:</li>
                                <p class="Code">$ su -s /bin/bash &lt;username&gt;</p>
                              </ol>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Adding SSH Keys to Support Users' Accounts</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Execute the following steps to provide an additional level of security by installing an ssh key on the support account.</p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">Create a public/private key pair on the client machine that will be used to connect to the appliance. A passphrase can be used, but note that the passphrase must be entered every time the key is used.</li>
                                <p class="Code">$ ssh-keygen -t rsa</p>
                                <li value="2">Log into the appliance and create a hidden ssh directory in the new support user's home directory.</li>
                                <p class="Code">$ mkdir /usr/sw/home/&lt;username&gt;_support/.ssh</p>
                                <li value="3">Send the file <code>id_rsa.pub</code> to the appliance.
                <p>In this example, we'll use <code>scp</code>.</p><p class="Code">$ scp id_rsa.pub &lt;destination&gt;</p></li>
                                <li value="4">Install the public key in the support user's <code>authorized_keys</code> list.</li>
                                <p class="Code">$ cat id_rsa.pub &gt;&gt; /usr/sw/home/&lt;username&gt;_support/.ssh/authorized_keys</p>
                                <li value="5">Once ssh key login has been setup, you can choose to disable password authentication for the new support user account if additional security is required.</li>
                                <p>Once password authentication is disabled, the only way to login is with ssh keys, and it won't be possible to log in to this user account from the Solace CLI to the Linux shell with the CLI command <code>shell</code>. Therefore, you should ensure there is at least one sysadmin user that can be logged in directly without an ssh key in case of Solace PubSub+ failure.</p>
                                <p>Execute the following command to disable password authentication:</p>
                                <p class="Code">$ sudo passwd -l &lt;username&gt;_support</p>
                              </ol>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Manage_Accounts"/>Managing Linux Shell User Accounts</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">As either root or a sysadmin user, you can change a user's password, delete a user, and change their disk space quotas.</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Changing User Passwords</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To change a user's password, use the <code>passwd</code> command:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">$ sudo passwd &lt;username&gt;</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Changing User Disk Space Quotas</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To change a user's allocated disk quota, use the <code>setquota</code> command:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">$ sudo setquota -u &lt;username&gt; &lt;soft limit in KB&gt; &lt;hard limit in KB&gt; 50000 50000 /usr/sw</p>
                              <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Deleting Users</h3>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To delete a user and its associated home directory, use the <code>luserdel</code> command:</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="Code">$ sudo luserdel -rG &lt;username&gt;</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><b>Note</b>: The Solace CLI command <code>reload default-config</code> will delete all the shell users you've created (except for the built-in root and support user), and it will also revert everything else to the appliance's default configuration.</p>
                              <h2 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="with-rule"><a name="Access_Shell"/>Accessing the Linux Shell Through Solace CLI</h2>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Shell users can access an appliance's Linux shell through the Solace CLI, as long as password authentication has not been disabled for them.</p>
                              <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To access the Linux shell through the Solace CLI, perform the following steps:</p>
                              <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                <li value="1">In the Solace CLI, enter the following command: </li>
                                <p class="Code">solace# shell &lt;reason&gt;</p>
                                <p><u>Where</u>:</p>
                                <p><code>reason</code> is a short phrase explaining why you're accessing your Solace PubSub+ shell account. For example:</p>
                                <p class="Code">solace# shell Troubleshooting_in_Linux_shell</p>
                                <li value="2">When prompted, enter your Linux shell username.</li>
                                <p class="Code">login as: &lt;username&gt;</p>
                                <li value="3">When prompted, enter your password.
                <p><u>Example</u>:</p><p class="Code">Password: myPWD</p><p>Once you're connected, you'll see a prompt similar to the following: </p><p class="Code">[username@solace24]$</p></li>
                              </ol>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="no-print">
                      <div>
                        <a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                      </div>
                    </div>
                    <footer class="my-4 pt-4 text-center no-print">
                      <div class="footer-txt text-center no-print">
                        <ul class="list-inline ">
                          <li class="list-inline-item text-muted"><a href="../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                          <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                          <li class="list-inline-item text-muted" style="font-size:13px;"> &#xA9;  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                        </ul>
                      </div>
                      <div class="footer-icons">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                          <li class="list-inline-item">
                            <a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon">
                              <img src="../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;"/>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="footer_link_menu">
                        <ul class="link_list">
                          <li class="link_list_item">
                            <a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                          </li>
                          <li class="link_list_item">
                            <a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                          </li>
                        </ul>
                      </div>
                    </footer>
                  </div>
                  <!-- JIRA issue collector -->
                  <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                  <script src="../Resources/Scripts/thumbnail.js">
                                    </script>
                  <!-- Script for Launching offsite links in new tab -->
                  <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                </div>
              </div>
            </div>
          </div>
          <a data-close="true"/>
        </div>
      </div>
    </div>
  </body>
</html>
