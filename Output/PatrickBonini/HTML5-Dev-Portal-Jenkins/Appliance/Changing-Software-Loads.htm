<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="PubSub+ Appliance" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-control" content="no-cache" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Changing Appliance Software</title>
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
        <!--style to display feedback button correctly in IE-->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- links to get the EDA styling to work -->
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/MainStyles.min.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <style>@media screen and (min-width: 0\0)
{
	.feedback-button
	{
		margin-right: -40px;
		top: 50%;
		border-radius: 9px 9px 0px 0px;
	}

	#canvas
	{
		position: relative;
	}
}

@media print
{
	#plugin
	{
		overflow: visible !important;
	}
}

</style>
        <link href="../Resources/Stylesheets/eda_styles.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.print-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, transparent);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script src="https://cmp.osano.com/AzZrhlTmT5f216Foa/84ba7dc4-a4e5-4b02-b120-977eb6f052d4/osano.js">
        </script>
        <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLSDFH');
		/*]]>*/</script>
        <script type="text/javascript" src="../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <!-- Top Orange and Darkgrey header-->
    <!-- Div for EDA banner -->
    <div class="eda_banner">
        <p>Register Now for EDA Summit 2024 - Virtual Event <a href="https://edasummit.com/" target="_blank">Register for Free</a></p>
    </div>
    <!-- end Div for EDA banner -->
    <div class="top-nav">
        <div class="main_list">
            <ul class="top-navlinks">
                <li><a href="https://solace.com/support/" target="_blank">Support</a>
                </li>
                <li><a href="https://solace.com/contact/" target="_blank">Contact Us</a>
                </li>
            </ul>
        </div>
        <div class="container-fluid">
            <div class="src-li">
                <div id="srchWrapTwo">
                    <form class="search" action="#">
                        <div class="search-bar search-bar-container needs-pie">
                            <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                            <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                </div>
                                <div class="search-filter-content" id="sf-content">
                                    <ul>
                                        <li>
                                            <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="search-submit-wrapper" dir="ltr">
                                <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div><span class="tool-tip" tooltip-position="left" tooltip="To search for CLI commands, events, or APIs, navigate to the related sections.">i</span>
            <!-- Sept. 28, 2022 - This is being moved to under div class= top-nav
			<div class="main_list">
				<ul class="top-navlinks">
					<li><a href="https://solace.com/support/" target="_blank">Support</a></li>
					<li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div> -->
        </div>
        <!-- Sept. 27, 2022 - The commented out content below used to provide the products, company, etc., links in the top header, next to the search field. -->
        <!-- <div class="main_list"><ul class="top-navlinks"><li><a href="https://solace.com/products/" target="_blank">Products</a></li><li><a href="https://solace.com/company/" target="_blank">Company</a></li><li><a href="https://www.solace.dev/" target="_blank">Developers</a></li><li><a href="https://solace.com/support/" target="_blank">Support</a></li><li><a href="https://solace.com/contact/" target="_blank">Contact Us</a></li></ul></div> -->
    </div>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1000px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search the docs" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic Print NextTopic;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie print-button" title="Print">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Print">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next topic" disabled="true">
                                                <div>
                                                    <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                        <div class="button-icon"> </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLSDFH" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div id="content">
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="ContentRow" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                    <div>
                                                        <div class="nocontent" xmlns="">
                                                            <div class="MCBreadcrumbsBox_MCBreadcrumbsSelf_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="4" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                                            </div>
                                                        </div>
                                                        <div role="main" id="mc-main-content" xmlns="">
                                                            <h1 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="aanchor26" xmlns=""></a>
                                                                <MadCap:concept term="Appliance" />Changing Appliance Software</h1>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"> Solace PubSub+ appliances are shipped with preloaded, default software. As future software releases become available, you can save them to an external file server on your network, and later install them on your appliances.</p>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">With Solace PubSub+ appliances you can downgrade to earlier software versions  installed on them, or rollback to the previous software that was running before the last upgrade was performed.</p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="general_router_admin_tasks_906262394_267202"></a>Displaying Versions</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Solace PubSub+ event broker software consists of the following major components:</p>
                                                            <ul xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li>Command Line Interface (CLI)</li>
                                                                <li>Data Plane</li>
                                                                <li>Control Plane</li>
                                                                <li>Management Plane</li>
                                                            </ul>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To determine the version of all components, as well as current and available software loads, and the amount of time the system has been running, enter the following User EXEC CLI command: </p>
                                                            <p class="Code" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">solace&gt; show version </p>
                                                            <div class="Note" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <p>Event brokers do not currently support upgrades or patches to an individual event broker software component. So in a properly installed event broker, all of the software components display the same release number.</p>
                                                            </div>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="system_and_software_maintenance_tasks_3138406956_314072"></a>Upgrading Versions</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Procedures for upgrading older versions of software on appliances and software event brokers to the most recent versions are described in their respective sections: <a href="../Software-Broker/SW-Broker-Upgrade/SW-Broker-Upgrade.htm" class="MCXref xref">Upgrade Procedures</a> for software event brokers, or <a href="Appliance-Upgrade/Appliance-Upgrade.htm" class="MCXref xref">Upgrade Procedures</a> for appliances.</p>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="system_and_software_maintenance_tasks_3138406956_208346"></a>Downgrading Versions</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To change the software version on an appliance to an earlier version than what is currently installed (that is, to downgrade an appliance’s software load to an older version), use the steps presented in the following procedures as appropriate.</p>
                                                            <p class="Note" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">These procedures assume that you are moving between currently supported loads.</p>
                                                            <p class="Caution" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                    Downgrading software versions is supported on appliances only.
                Do not attempt to use these procedures to downgrade a software broker.</p>
                                                            <div class="Caution" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <ul>
                                                                    <li>On downgrade, all spooled Guaranteed messages are lost.</li>
                                                                    <li>The current configuration is not preserved on downgrade. After the appliance restarts, it uses the last configuration saved with the software version you downgrade to.</li>
                                                                    <li>Downgrades that require changing the underlying version of SolBase will not preserve files in the root partition of the appliance’s internal file system. This will affect any Linux services configured on the appliance for applications such as NetProbe or Solace Geneos Agent, and those services must be re-configured after the downgrade.</li>
                                                                    <li>Downgrading or reloading software loads will disrupt service because these operations restart an appliance to activate the old software. It is best to downgrade software at a time when a service disruption is of minimal impact to clients.</li>
                                                                    <li>Downgrading from the remote appliance of a Message VPN bridge will stop Guaranteed messages from being delivered across that VPN bridge. If this occurs, remove the durable message queue configured on that VPN bridge, then add it back again. For example, for a VPN bridge configured with a queue named <code>q/market/orders</code>:
			
                    <p class="Code"><code>solace(configure/bridge/remote/message-vpn# message-spool no queue</code> <br /><code>solace(configure/bridge/remote/message-vpn)# message-spool queue q/market/orders</code></p></li>
                                                                </ul>
                                                            </div>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Downgrad"></a>Downgrading Standalone and Redundant Appliances</h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Use the following procedure to downgrade or reload software versions on appliances in either standalone or redundant deployments. </p>
                                                            <p class="Note" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">In the examples, both a standalone appliance, and the first appliance in the redundant pair, are referred to as <code>solace1</code>, and the mate appliance in a redundant pair is referred to as <code>solace2</code>. If downgrading or reloading a pair of redundant mates, some of the procedures must be repeated on the second appliance (as indicated). </p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">Verify the current software versions installed and available on the appliance  to be downgraded.
            <p>Enter the following User EXEC command in the Solace CLI:</p><p class="Code">solace1&gt; show version</p><p>Key things to observe in this display include:</p><ul><li>the backout load is the software version that was running before the last upgrade was performed</li><li>the locally available software versions are listed under the “Loads available on the appliance" heading</li><li>the required SolBase for each load is indicated</li></ul></li>
                                                                <li value="2">Make a local copy of the current software configuration in the <code>/configs</code> subdirectory.
				<p>Enter the following commands:</p><p class="Code">solace1&gt; enable<br />solace1# copy current-config /configs/&lt;old_version&gt;_preDowngradeCfg</p><p><u>Where</u>:</p><p><code>&lt;old_version&gt;</code> is the version number of the software that you are downgrading from. </p></li>
                                                                <li value="3">If the software version that you want to downgrade to is not already installed on the appliance, you must copy that version on to the appliance to be downgraded from an SFTP or SCP server.
        <p>On each appliance, copy the old software from an external file server (using SFTP or SCP) to the <code>/loads</code> subdirectory on the appliance, enter one of the following commands:</p><p class="Code">solace1# copy sftp://[&lt;username&gt;@]&lt;ip-addr&gt;/&lt;remote-pathname&gt; /loads<br />solace1# copy scp://[&lt;username&gt;@]&lt;ip-addr&gt;/&lt;remote-pathname&gt; /loads</p><p><u>Where</u>:</p><p><code>&lt;username&gt;</code> is your SFTP&#160;or SCP&#160;user name and <code>&lt;ip-addr&gt;</code> and <code>&lt;remote-pathname&gt;</code> point to where the old software is located.</p></li>
                                                                <li value="4">
                                                                    <p>The target load needs the appropriate SolBase (as indicated by the <code>show version</code> command output). Use  SFTP or SCP to copy the appropriate SolBase  for each load to the appliance.</p>
                                                                    <p><u>Examples</u>:</p>
                                                                    <p class="Code">solace1# copy sftp://[&lt;username&gt;@]&lt;ip-addr&gt;/&lt;remote-pathname&gt; /loads<br />solace1# copy scp://[&lt;username&gt;@]&lt;ip-addr&gt;/&lt;remote-pathname&gt; /loads</p>
                                                                    <p><u>Where</u>:</p>
                                                                    <p><code>&lt;username&gt;</code> is your  SFTP&#160;or SCP&#160;user name and <code>&lt;ip-addr&gt;</code> and <code>&lt;remote-pathname&gt;</code> point to where the SolBase files are located.</p>
                                                                </li>
                                                                <li value="5">
                If you are using a redundant pair of appliances, shut down redundancy, and enter the following commands.
                <p class="Code">solace1&gt; enable<br />solace1# configure<br />solace1(configure)# redundancy<br />solace1(configure/redundancy)# shutdown<br />solace1(configure/redundancy)# exit</p></li>
                                                                <li value="6">Shut down the message backbone IP and enter these commands.           <p class="Code">solace1(configure)# service msg-backbone shutdown</p></li>
                                                                <li value="7">Shut down and then reset the message spool.
                <p class="Code">solace1(configure)# hardware message-spool<br />solace1(configure/hardware/message-spool)# shutdown<br />solace1(configure/hardware/message-spool)# end<br />solace1# admin<br />solace1(admin)# system message-spool<br />solace1(admin/system/message-spool)# reset<br />solace1(admin/system/message-spool)# end</p></li>
                                                                <li value="8">If you are using a redundant pair of appliances, repeat steps 1 to 7 on the mate appliance (<code>solace2</code>).</li>
                                                                <li value="9">Downgrade the software version.
			<p>Enter the following command and answer all prompts that display on screen:</p><p class="Code">solace1# boot {&lt;version&gt; | backout}</p><p><u>Where</u>:</p><p><code>&lt;version&gt;</code> is the version number of the old software that you are downgrading to. </p><p><code>backout</code> rolls the software version back to the previous one that was running before the last upgrade was performed. </p></li>
                                                                <li value="10">Reset the message spool after the appliance restarts and the ADB Power Module is in the "OK" state. Use the <code>show hardware details</code> command to verify the ADB Power Module's state. If the state is "Charging", it can take up to 15 minutes to transition to "OK".
            <p class="Note"> It may be necessary to shut down redundancy or the message spool before resetting the message spool if the last configuration saved by the software version that has been downgraded to had redundancy or the message spool active.</p><p>Enter the following commands:</p><p class="Code">solace1&gt; enable<br />solace1# admin<br />solace1(admin)# system message-spool<br />solace1(admin/system/message-spool)# reset<br />solace1(admin/system/message-spool)# end</p></li>
                                                                <li value="11">If you are using a redundant pair of appliances, perform the steps 9 and 10 for the mate appliance (<code>solace2</code>).</li>
                                                                <li value="12">
               Re-enable the message spool, as well as redundancy (if you are using redundant appliances), and enter the following commands. 
				<p class="Code">solace1# configure<br />solace1(configure)# no hardware message-spool shutdown primary<br />solace1(configure/hardware/message-spool)# end</p><p>&#160;</p><p class="Code">solace1# configure<br />solace1(configure)# redundancy<br />solace1(configure/redundancy)# no shutdown<br />solace1(configure/redundancy)# end</p><p class="Note">You may also need to enable message backbone service on the appliance to restart the messaging services.</p></li>
                                                                <li value="13">If you are using redundant appliances, re-enable the message spool and redundancy for the mate appliance (<code>solace2</code>).
				    <p class="Code">solace2# configure<br />solace2(configure)# no hardware message-spool shutdown backup<br />solace2(configure/hardware/message-spool)# end</p><p>&#160;</p><p class="Code">solace2(configure)# redundancy<br />solace2(configure/redundancy)# no shutdown<br />solace2(configure/redundancy)# end</p><p class="Note">You may also need to enable message backbone service on the appliance to restart the messaging services.</p></li>
                                                                <li value="14">
                                                                    <p>When downgrading a redundant pair of appliances, their configurations may need reconciliation. Use Config-Sync to assert one appliance’s configuration over its mate. For more information, refer to <a href="../Features/Config-Sync/Configuring-Config-Sync.htm#Assertin" class="MCXref xref">Asserting Event Broker System Configurations</a>.</p>
                                                                </li>
                                                            </ol>
                                                            <h3 xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="Downgrad2"></a>Downgrading Replication Sites</h3>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">This procedure provides a simplified overview of the steps required to downgrade software versions used by the event brokers in each Replication site. The exact steps may differ depending on your specific deployment. In this procedure, the Replication sites to be downgraded are referred to as Site 1 and Site 2.</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">
                                                                    <p>On each event broker, make a local copy of the current software configuration in the <code>/configs</code> subdirectory.</p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>If you are downgrading from software version 7.2.x or higher, the target load needs the appropriate SolBase (as indicated by the <b>show version</b> User EXEC command). Copy the correct SolBase file to the event brokers’ <code>/loads</code> directory.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>On Site 2’s primary appliance, switch the Replication configuration state from Active to Standby for each Message VPN that Replication is administratively-enabled.</p>
                                                                </li>
                                                                <li value="4">
                                                                    <p>On Site 2, wait for the Replication queues of the formerly active Message VPNs to completely drain.</p>
                                                                </li>
                                                                <li value="5">
                                                                    <p>On Site 1’s primary event broker,  switch each Message VPN that is Replication standby to Replication active.  Clients are now using Site 1.</p>
                                                                </li>
                                                                <li value="6">On Site 2, do the following:<ul><li>If the appliance is running load 7.1.x or higher, enter the <b>service msg-backbone shutdown</b> Config command.</li><li>If the appliance is running load lower than 7.1.x, enter the <b>service smf shutdown</b> Config command.</li></ul></li>
                                                                <li value="7">
                                                                    <p>On Site 2’s primary appliance, shutdown Replication on each Message VPN on which it is enabled.  This step is required  to disable Config-Sync.</p>
                                                                </li>
                                                                <li value="8">On Site 2, disable Config-Sync on every appliance.</li>
                                                                <li value="9">
                                                                    <p>On Site 2, on each event broker, enable Replication for each Message VPN that was shut down step in 7.</p>
                                                                </li>
                                                                <li value="10">On Site 2, do the following:<ul><li>If the appliance is running load 7.1.x or higher, enter the <b>no service msg-backbone shutdown</b> Config command.</li><li>If the appliance is running load lower than 7.1.x, enter the <b>no service smf shutdown</b> Config command.</li></ul></li>
                                                                <li value="11">On Site 2, enable Config-Sync on every appliance that was disabled in step 8.</li>
                                                                <li value="12">
                                                                    <p>On Site 1’s primary appliance, switch the Replication configuration state from Active to Standby for each Message VPN that Replication is administratively-enabled.</p>
                                                                </li>
                                                                <li value="13">
                                                                    <p>On Site 1, wait for the Replication queues of the formerly active Message VPNs to completely drain.</p>
                                                                </li>
                                                                <li value="14">
                                                                    <p>On Site 2, switch each Message VPN that is Replication standby to Replication active.  Clients are now using Site 2.</p>
                                                                </li>
                                                                <li value="15">
                                                                    <p style="font-weight: normal;">Downgrade the appliances in Site 1.</p>
                                                                    <p style="font-weight: normal;">Follow the procedures provided in <a href="#Downgrad" class="MCXref xref">Downgrading Standalone and Redundant Appliances</a>.</p>
                                                                    <div class="Note">
                                                                        <ul>
                                                                            <li>You may skip steps 1 through 4 in that downgrade procedure, as you may have already carried them out in this procedure.</li>
                                                                            <li>
                                                                                <p>If you are downgrading a redundant pair of appliances, delay the final step to reconcile their configurations until Replication is Active.</p>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </li>
                                                                <li value="16">
                                                                    <p>On Site 2, on each appliance, switch each Message VPN that has a Replication of Active to Replication Standby.</p>
                                                                </li>
                                                                <li value="17">
                                                                    <p>On Site 2, wait for the Replication queues of the formerly active Message VPNs to completely drain.</p>
                                                                </li>
                                                                <li value="18">
                                                                    <p>On Site 1’s primary appliance,  switch each Message VPN that is Replication standby to Replication active.  Clients are now using Site 1.</p>
                                                                </li>
                                                                <li value="19">
                                                                    <p style="font-weight: normal;">Downgrade the appliances in Site 2.</p>
                                                                    <p style="font-weight: normal;">Follow the procedures provided in <a href="#Downgrad" class="MCXref xref">Downgrading Standalone and Redundant Appliances</a>.</p>
                                                                    <p class="Note"> You may skip steps 1 through 4 in that downgrade procedure, as you may have already carried them out in this procedure. </p>
                                                                </li>
                                                            </ol>
                                                            <h2 class="with-rule" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><a name="system_and_software_maintenance_tasks_3138406956_217186"></a>Deleting Versions</h2>
                                                            <p xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">To delete any version of the software already installed on an appliance, with the exception of the software identified as either the current or backout load, perform the following steps.</p>
                                                            <p class="Note" xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Deleting software versions is only supported on appliances.</p>
                                                            <ol xmlns="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                                                <li value="1">To display and determine the current software versions installed and available on the appliance, enter the following User EXEC command:
				<p class="Code">solace&gt; show version</p><p>Take note of the version values listed under “Loads available on the appliance” near the bottom.</p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Example:</a></span><div class="MCDropDownBody dropDownBody"><p class="Code">solace&gt; show version<br />.&#160;.&#160;.	<br />SolOS Loads available on the appliance:<br /><br />Index&#160;&#160;SolOS Version &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;            Required SolBase Version<br />------ -------------------------- ------------------------<br />1&#160;&#160;&#160;&#160;&#160;&#160;    soltr_7.1.1.631&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;           1.0.0.5<br />2&#160;&#160;&#160;&#160;&#160;&#160; soltr_7.2.0.2171&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;       2.0.0.31<br />3&#160;&#160;&#160;&#160;&#160;&#160;   soltr_7.2.0.2172&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;        2.0.0.31<br />4&#160;&#160;&#160;&#160;&#160;&#160;    soltr_7.2.0.2179&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;         2.0.0.31<br />.&#160;.&#160;.	</p></div></div></li>
                                                                <li value="2">To delete a software version already installed in the <code>/loads</code> subdirectory on the appliance, enter the following commands:
        <p class="Code">solace&gt; enable<br />solace#<br />solace# delete-load &lt;version&gt;</p><p><u>Where</u>:</p><p><code>&lt;version&gt;</code> is the version number of the software to be deleted.</p></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="no-print">
                                            <div><a href="#" id="docsFeedbackTrigger" class="docs-issue-collector">Provide feedback</a>
                                            </div>
                                        </div>
                                        <footer class="my-4 pt-4 text-center no-print">
                                            <div class="footer-txt text-center no-print">
                                                <ul class="list-inline ">
                                                    <li class="list-inline-item text-muted"><a href="../Resources/Documentation-Set.htm" class="doc-set-footer-link MCXref xref xrefdoc-set-footer-link">Documentation Coverage</a>: <span class="mc-variable Variables.DocumentSetNumber variable">2024.09.16.0001</span></li>
                                                    <li class="list-inline-item text-muted">Last Updated: <span class="mc-variable Variables.MonthDayYear variable">September 16, 2024</span></li>
                                                    <li class="list-inline-item text-muted" style="font-size:13px;"> ©  <span class="mc-variable Variables.CompanyNameLegal variable">Solace Corporation</span></li>
                                                </ul>
                                            </div>
                                            <div class="footer-icons">
                                                <ul class="list-inline">
                                                    <li class="list-inline-item"><a href="https://facebook.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/facebook_22x21.png" class="Hyperlinked" alt="Facebook" title="Solace Facebook Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.linkedin.com/company/20219" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/LinkedIn_22x21.png" class="Hyperlinked" alt="LinkedIn" title="Solace LinkedIn Page" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://twitter.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/Twitter_22x21.png" class="Hyperlinked" alt="Twitter" title="Solace Twitter Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.youtube.com/user/SolaceSystems" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/youtube_22x21.png" class="Hyperlinked" alt="YouTube" title="Solace YouTube Channel" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://www.instagram.com/solacedotcom/" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/instagram_22x21.png" class="Hyperlinked" alt="Instagram" title="Solace Instagram Feed" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="https://medium.com/solacedotcom" target="_blank" class="social-media-icon"><img src="../Resources/Images/Social-Media/medium_22x21.png" class="Hyperlinked" alt="Medium" title="Solace Medium Blog" style="width: 22;height: 21;" /></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="footer_link_menu">
                                                <ul class="link_list">
                                                    <li class="link_list_item"><a href="https://solace.com/products/" target="_blank" class="footer-link">Products</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/company/" target="_blank" class="footer-link">Company</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://www.solace.dev/" target="_blank" class="footer-link">Developers</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/support/" target="_blank" class="footer-link">Support</a>
                                                    </li>
                                                    <li class="link_list_item"><a href="https://solace.com/contact/" target="_blank" class="footer-link">Contact Us</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </footer>
                                    </div>
                                    <!-- JIRA issue collector -->
                                    <script>/*<![CDATA[*/// Requires jQuery!
jQuery.ajax({
    url: "https://sol-jira.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/o2joag/b/24/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=076e0808",
    type: "get",
    cache: true,
    dataType: "script"
});
window.ATL_JQ_PAGE_PROPS = {
"triggerFunction": function(showCollectorDialog) {
//Requires that jQuery is available!
$("#docsFeedbackTrigger").click(function(e) {
e.preventDefault();
showCollectorDialog();
});
},
fieldValues: {
recordWebInfo: '1', // field Name
recordWebInfoConsent: ['1'] // field Id
}
};
/*]]>*/</script>
                                    <script src="../Resources/Scripts/thumbnail.js">
                                    </script>
                                    <!-- Script for Launching offsite links in new tab -->
                                    <script type="text/javascript">/*<![CDATA[*/$("a[href^='http']").attr("target","_blank");/*]]>*/</script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>